(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var Kd={exports:{}},Al={};var o0;function DA(){if(o0)return Al;o0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var g in o)g!=="key"&&(u[g]=o[g])}else u=o;return o=u.ref,{$$typeof:s,type:r,key:f,ref:o!==void 0?o:null,props:u}}return Al.Fragment=e,Al.jsx=n,Al.jsxs=n,Al}var l0;function OA(){return l0||(l0=1,Kd.exports=DA()),Kd.exports}var T=OA(),Qd={exports:{}},be={};var u0;function MA(){if(u0)return be;u0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),R=Symbol.iterator;function P(x){return x===null||typeof x!="object"?null:(x=R&&x[R]||x["@@iterator"],typeof x=="function"?x:null)}var $={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X=Object.assign,K={};function te(x,F,ee){this.props=x,this.context=F,this.refs=K,this.updater=ee||$}te.prototype.isReactComponent={},te.prototype.setState=function(x,F){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,F,"setState")},te.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function ce(){}ce.prototype=te.prototype;function le(x,F,ee){this.props=x,this.context=F,this.refs=K,this.updater=ee||$}var ve=le.prototype=new ce;ve.constructor=le,X(ve,te.prototype),ve.isPureReactComponent=!0;var ze=Array.isArray;function Re(){}var D={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function N(x,F,ee){var re=ee.ref;return{$$typeof:s,type:x,key:F,ref:re!==void 0?re:null,props:ee}}function V(x,F){return N(x.type,F,x.props)}function O(x){return typeof x=="object"&&x!==null&&x.$$typeof===s}function k(x){var F={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(ee){return F[ee]})}var C=/\/+/g;function tt(x,F){return typeof x=="object"&&x!==null&&x.key!=null?k(""+x.key):F.toString(36)}function dt(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(Re,Re):(x.status="pending",x.then(function(F){x.status==="pending"&&(x.status="fulfilled",x.value=F)},function(F){x.status==="pending"&&(x.status="rejected",x.reason=F)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function G(x,F,ee,re,pe){var Ee=typeof x;(Ee==="undefined"||Ee==="boolean")&&(x=null);var xe=!1;if(x===null)xe=!0;else switch(Ee){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(x.$$typeof){case s:case e:xe=!0;break;case b:return xe=x._init,G(xe(x._payload),F,ee,re,pe)}}if(xe)return pe=pe(x),xe=re===""?"."+tt(x,0):re,ze(pe)?(ee="",xe!=null&&(ee=xe.replace(C,"$&/")+"/"),G(pe,F,ee,"",function(rn){return rn})):pe!=null&&(O(pe)&&(pe=V(pe,ee+(pe.key==null||x&&x.key===pe.key?"":(""+pe.key).replace(C,"$&/")+"/")+xe)),F.push(pe)),1;xe=0;var ct=re===""?".":re+":";if(ze(x))for(var Oe=0;Oe<x.length;Oe++)re=x[Oe],Ee=ct+tt(re,Oe),xe+=G(re,F,ee,Ee,pe);else if(Oe=P(x),typeof Oe=="function")for(x=Oe.call(x),Oe=0;!(re=x.next()).done;)re=re.value,Ee=ct+tt(re,Oe++),xe+=G(re,F,ee,Ee,pe);else if(Ee==="object"){if(typeof x.then=="function")return G(dt(x),F,ee,re,pe);throw F=String(x),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return xe}function se(x,F,ee){if(x==null)return x;var re=[],pe=0;return G(x,re,"","",function(Ee){return F.call(ee,Ee,pe++)}),re}function fe(x){if(x._status===-1){var F=x._result;F=F(),F.then(function(ee){(x._status===0||x._status===-1)&&(x._status=1,x._result=ee)},function(ee){(x._status===0||x._status===-1)&&(x._status=2,x._result=ee)}),x._status===-1&&(x._status=0,x._result=F)}if(x._status===1)return x._result.default;throw x._result}var Ie=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},ne={map:se,forEach:function(x,F,ee){se(x,function(){F.apply(this,arguments)},ee)},count:function(x){var F=0;return se(x,function(){F++}),F},toArray:function(x){return se(x,function(F){return F})||[]},only:function(x){if(!O(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return be.Activity=S,be.Children=ne,be.Component=te,be.Fragment=n,be.Profiler=o,be.PureComponent=le,be.StrictMode=r,be.Suspense=p,be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,be.__COMPILER_RUNTIME={__proto__:null,c:function(x){return D.H.useMemoCache(x)}},be.cache=function(x){return function(){return x.apply(null,arguments)}},be.cacheSignal=function(){return null},be.cloneElement=function(x,F,ee){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var re=X({},x.props),pe=x.key;if(F!=null)for(Ee in F.key!==void 0&&(pe=""+F.key),F)!w.call(F,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&F.ref===void 0||(re[Ee]=F[Ee]);var Ee=arguments.length-2;if(Ee===1)re.children=ee;else if(1<Ee){for(var xe=Array(Ee),ct=0;ct<Ee;ct++)xe[ct]=arguments[ct+2];re.children=xe}return N(x.type,pe,re)},be.createContext=function(x){return x={$$typeof:f,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:u,_context:x},x},be.createElement=function(x,F,ee){var re,pe={},Ee=null;if(F!=null)for(re in F.key!==void 0&&(Ee=""+F.key),F)w.call(F,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(pe[re]=F[re]);var xe=arguments.length-2;if(xe===1)pe.children=ee;else if(1<xe){for(var ct=Array(xe),Oe=0;Oe<xe;Oe++)ct[Oe]=arguments[Oe+2];pe.children=ct}if(x&&x.defaultProps)for(re in xe=x.defaultProps,xe)pe[re]===void 0&&(pe[re]=xe[re]);return N(x,Ee,pe)},be.createRef=function(){return{current:null}},be.forwardRef=function(x){return{$$typeof:g,render:x}},be.isValidElement=O,be.lazy=function(x){return{$$typeof:b,_payload:{_status:-1,_result:x},_init:fe}},be.memo=function(x,F){return{$$typeof:y,type:x,compare:F===void 0?null:F}},be.startTransition=function(x){var F=D.T,ee={};D.T=ee;try{var re=x(),pe=D.S;pe!==null&&pe(ee,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(Re,Ie)}catch(Ee){Ie(Ee)}finally{F!==null&&ee.types!==null&&(F.types=ee.types),D.T=F}},be.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},be.use=function(x){return D.H.use(x)},be.useActionState=function(x,F,ee){return D.H.useActionState(x,F,ee)},be.useCallback=function(x,F){return D.H.useCallback(x,F)},be.useContext=function(x){return D.H.useContext(x)},be.useDebugValue=function(){},be.useDeferredValue=function(x,F){return D.H.useDeferredValue(x,F)},be.useEffect=function(x,F){return D.H.useEffect(x,F)},be.useEffectEvent=function(x){return D.H.useEffectEvent(x)},be.useId=function(){return D.H.useId()},be.useImperativeHandle=function(x,F,ee){return D.H.useImperativeHandle(x,F,ee)},be.useInsertionEffect=function(x,F){return D.H.useInsertionEffect(x,F)},be.useLayoutEffect=function(x,F){return D.H.useLayoutEffect(x,F)},be.useMemo=function(x,F){return D.H.useMemo(x,F)},be.useOptimistic=function(x,F){return D.H.useOptimistic(x,F)},be.useReducer=function(x,F,ee){return D.H.useReducer(x,F,ee)},be.useRef=function(x){return D.H.useRef(x)},be.useState=function(x){return D.H.useState(x)},be.useSyncExternalStore=function(x,F,ee){return D.H.useSyncExternalStore(x,F,ee)},be.useTransition=function(){return D.H.useTransition()},be.version="19.2.3",be}var c0;function qm(){return c0||(c0=1,Qd.exports=MA()),Qd.exports}var qe=qm(),$d={exports:{}},Sl={},Xd={exports:{}},Jd={};var h0;function VA(){return h0||(h0=1,(function(s){function e(G,se){var fe=G.length;G.push(se);e:for(;0<fe;){var Ie=fe-1>>>1,ne=G[Ie];if(0<o(ne,se))G[Ie]=se,G[fe]=ne,fe=Ie;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var se=G[0],fe=G.pop();if(fe!==se){G[0]=fe;e:for(var Ie=0,ne=G.length,x=ne>>>1;Ie<x;){var F=2*(Ie+1)-1,ee=G[F],re=F+1,pe=G[re];if(0>o(ee,fe))re<ne&&0>o(pe,ee)?(G[Ie]=pe,G[re]=fe,Ie=re):(G[Ie]=ee,G[F]=fe,Ie=F);else if(re<ne&&0>o(pe,fe))G[Ie]=pe,G[re]=fe,Ie=re;else break e}}return se}function o(G,se){var fe=G.sortIndex-se.sortIndex;return fe!==0?fe:G.id-se.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var f=Date,g=f.now();s.unstable_now=function(){return f.now()-g}}var p=[],y=[],b=1,S=null,R=3,P=!1,$=!1,X=!1,K=!1,te=typeof setTimeout=="function"?setTimeout:null,ce=typeof clearTimeout=="function"?clearTimeout:null,le=typeof setImmediate<"u"?setImmediate:null;function ve(G){for(var se=n(y);se!==null;){if(se.callback===null)r(y);else if(se.startTime<=G)r(y),se.sortIndex=se.expirationTime,e(p,se);else break;se=n(y)}}function ze(G){if(X=!1,ve(G),!$)if(n(p)!==null)$=!0,Re||(Re=!0,k());else{var se=n(y);se!==null&&dt(ze,se.startTime-G)}}var Re=!1,D=-1,w=5,N=-1;function V(){return K?!0:!(s.unstable_now()-N<w)}function O(){if(K=!1,Re){var G=s.unstable_now();N=G;var se=!0;try{e:{$=!1,X&&(X=!1,ce(D),D=-1),P=!0;var fe=R;try{t:{for(ve(G),S=n(p);S!==null&&!(S.expirationTime>G&&V());){var Ie=S.callback;if(typeof Ie=="function"){S.callback=null,R=S.priorityLevel;var ne=Ie(S.expirationTime<=G);if(G=s.unstable_now(),typeof ne=="function"){S.callback=ne,ve(G),se=!0;break t}S===n(p)&&r(p),ve(G)}else r(p);S=n(p)}if(S!==null)se=!0;else{var x=n(y);x!==null&&dt(ze,x.startTime-G),se=!1}}break e}finally{S=null,R=fe,P=!1}se=void 0}}finally{se?k():Re=!1}}}var k;if(typeof le=="function")k=function(){le(O)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,tt=C.port2;C.port1.onmessage=O,k=function(){tt.postMessage(null)}}else k=function(){te(O,0)};function dt(G,se){D=te(function(){G(s.unstable_now())},se)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return R},s.unstable_next=function(G){switch(R){case 1:case 2:case 3:var se=3;break;default:se=R}var fe=R;R=se;try{return G()}finally{R=fe}},s.unstable_requestPaint=function(){K=!0},s.unstable_runWithPriority=function(G,se){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var fe=R;R=G;try{return se()}finally{R=fe}},s.unstable_scheduleCallback=function(G,se,fe){var Ie=s.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Ie+fe:Ie):fe=Ie,G){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=fe+ne,G={id:b++,callback:se,priorityLevel:G,startTime:fe,expirationTime:ne,sortIndex:-1},fe>Ie?(G.sortIndex=fe,e(y,G),n(p)===null&&G===n(y)&&(X?(ce(D),D=-1):X=!0,dt(ze,fe-Ie))):(G.sortIndex=ne,e(p,G),$||P||($=!0,Re||(Re=!0,k()))),G},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(G){var se=R;return function(){var fe=R;R=se;try{return G.apply(this,arguments)}finally{R=fe}}}})(Jd)),Jd}var f0;function kA(){return f0||(f0=1,Xd.exports=VA()),Xd.exports}var Zd={exports:{}},$t={};var d0;function UA(){if(d0)return $t;d0=1;var s=qm();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,b){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:p,containerInfo:y,implementation:b}}var f=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return $t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,$t.createPortal=function(p,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(p,y,null,b)},$t.flushSync=function(p){var y=f.T,b=r.p;try{if(f.T=null,r.p=2,p)return p()}finally{f.T=y,r.p=b,r.d.f()}},$t.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(p,y))},$t.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},$t.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var b=y.as,S=g(b,y.crossOrigin),R=typeof y.integrity=="string"?y.integrity:void 0,P=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?r.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:R,fetchPriority:P}):b==="script"&&r.d.X(p,{crossOrigin:S,integrity:R,fetchPriority:P,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},$t.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=g(y.as,y.crossOrigin);r.d.M(p,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(p)},$t.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,S=g(b,y.crossOrigin);r.d.L(p,b,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},$t.preloadModule=function(p,y){if(typeof p=="string")if(y){var b=g(y.as,y.crossOrigin);r.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(p)},$t.requestFormReset=function(p){r.d.r(p)},$t.unstable_batchedUpdates=function(p,y){return p(y)},$t.useFormState=function(p,y,b){return f.H.useFormState(p,y,b)},$t.useFormStatus=function(){return f.H.useHostTransitionStatus()},$t.version="19.2.3",$t}var m0;function LA(){if(m0)return Zd.exports;m0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Zd.exports=UA(),Zd.exports}var g0;function PA(){if(g0)return Sl;g0=1;var s=kA(),e=qm(),n=LA();function r(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(r(188))}function y(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(r(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),t;if(d===l)return p(h),i;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,E=h.child;E;){if(E===a){_=!0,a=h,l=d;break}if(E===l){_=!0,l=h,a=d;break}E=E.sibling}if(!_){for(E=d.child;E;){if(E===a){_=!0,a=d,l=h;break}if(E===l){_=!0,l=d,a=h;break}E=E.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:i}function b(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=b(t),i!==null)return i;t=t.sibling}return null}var S=Object.assign,R=Symbol.for("react.element"),P=Symbol.for("react.transitional.element"),$=Symbol.for("react.portal"),X=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),te=Symbol.for("react.profiler"),ce=Symbol.for("react.consumer"),le=Symbol.for("react.context"),ve=Symbol.for("react.forward_ref"),ze=Symbol.for("react.suspense"),Re=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function tt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case X:return"Fragment";case te:return"Profiler";case K:return"StrictMode";case ze:return"Suspense";case Re:return"SuspenseList";case N:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case $:return"Portal";case le:return t.displayName||"Context";case ce:return(t._context.displayName||"Context")+".Consumer";case ve:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return i=t.displayName||null,i!==null?i:tt(t.type)||"Memo";case w:i=t._payload,t=t._init;try{return tt(t(i))}catch{}}return null}var dt=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},Ie=[],ne=-1;function x(t){return{current:t}}function F(t){0>ne||(t.current=Ie[ne],Ie[ne]=null,ne--)}function ee(t,i){ne++,Ie[ne]=t.current,t.current=i}var re=x(null),pe=x(null),Ee=x(null),xe=x(null);function ct(t,i){switch(ee(Ee,i),ee(pe,t),ee(re,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?N_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=N_(i),t=D_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}F(re),ee(re,t)}function Oe(){F(re),F(pe),F(Ee)}function rn(t){t.memoizedState!==null&&ee(xe,t);var i=re.current,a=D_(i,t.type);i!==a&&(ee(pe,t),ee(re,a))}function zn(t){pe.current===t&&(F(re),F(pe)),xe.current===t&&(F(xe),vl._currentValue=fe)}var si,ji;function ri(t){if(si===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);si=i&&i[1]||"",ji=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+si+t+ji}var vo=!1;function pr(t,i){if(!t||vo)return"";vo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(H){var B=H}Reflect.construct(t,[],J)}else{try{J.call()}catch(H){B=H}t.call(J.prototype)}}else{try{throw Error()}catch(H){B=H}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],E=d[1];if(_&&E){var I=_.split(`
`),z=E.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===z.length)for(l=I.length-1,h=z.length-1;1<=l&&0<=h&&I[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==z[h]){var Y=`
`+I[l].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=l&&0<=h);break}}}finally{vo=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ri(a):""}function Eo(t,i){switch(t.tag){case 26:case 27:case 5:return ri(t.type);case 16:return ri("Lazy");case 13:return t.child!==i&&i!==null?ri("Suspense Fallback"):ri("Suspense");case 19:return ri("SuspenseList");case 0:case 15:return pr(t.type,!1);case 11:return pr(t.type.render,!1);case 1:return pr(t.type,!0);case 31:return ri("Activity");default:return""}}function To(t){try{var i="",a=null;do i+=Eo(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var vt=Object.prototype.hasOwnProperty,Ot=s.unstable_scheduleCallback,ms=s.unstable_cancelCallback,Qh=s.unstable_shouldYield,lu=s.unstable_requestPaint,tn=s.unstable_now,yr=s.unstable_getCurrentPriorityLevel,bo=s.unstable_ImmediatePriority,Ao=s.unstable_UserBlockingPriority,gs=s.unstable_NormalPriority,$h=s.unstable_LowPriority,uu=s.unstable_IdlePriority,cu=s.log,hu=s.unstable_setDisableYieldValue,Bn=null,zt=null;function Rn(t){if(typeof cu=="function"&&hu(t),zt&&typeof zt.setStrictMode=="function")try{zt.setStrictMode(Bn,t)}catch{}}var mt=Math.clz32?Math.clz32:du,fu=Math.log,la=Math.LN2;function du(t){return t>>>=0,t===0?32:31-(fu(t)/la|0)|0}var ai=256,_r=262144,Et=4194304;function oi(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function li(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~d,l!==0?h=oi(l):(_&=E,_!==0?h=oi(_):a||(a=E&~t,a!==0&&(h=oi(a))))):(E=l&~d,E!==0?h=oi(E):_!==0?h=oi(_):a||(a=l&~t,a!==0&&(h=oi(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function qn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Xh(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mu(){var t=Et;return Et<<=1,(Et&62914560)===0&&(Et=4194304),t}function ui(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function vr(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Jh(t,i,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,I=t.expirationTimes,z=t.hiddenUpdates;for(a=_&~a;0<a;){var Y=31-mt(a),J=1<<Y;E[Y]=0,I[Y]=-1;var B=z[Y];if(B!==null)for(z[Y]=null,Y=0;Y<B.length;Y++){var H=B[Y];H!==null&&(H.lane&=-536870913)}a&=~J}l!==0&&Er(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function Er(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-mt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function So(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-mt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function wo(t,i){var a=i&-i;return a=(a&42)!==0?1:Tr(a),(a&(t.suspendedLanes|i))!==0?0:a}function Tr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function zi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function gu(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:e0(t.type))}function Hn(t,i){var a=se.p;try{return se.p=t,i()}finally{se.p=a}}var Fn=Math.random().toString(36).slice(2),Tt="__reactFiber$"+Fn,Ut="__reactProps$"+Fn,ci="__reactContainer$"+Fn,ua="__reactEvents$"+Fn,Zh="__reactListeners$"+Fn,pu="__reactHandles$"+Fn,yu="__reactResources$"+Fn,hi="__reactMarker$"+Fn;function ca(t){delete t[Tt],delete t[Ut],delete t[ua],delete t[Zh],delete t[pu]}function fi(t){var i=t[Tt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[ci]||a[Tt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=P_(t);t!==null;){if(a=t[Tt])return a;t=P_(t)}return i}t=a,a=t.parentNode}return null}function Cn(t){if(t=t[Tt]||t[ci]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function gn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(r(33))}function di(t){var i=t[yu];return i||(i=t[yu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function bt(t){t[hi]=!0}var Ro=new Set,Co={};function mi(t,i){gi(t,i),gi(t+"Capture",i)}function gi(t,i){for(Co[t]=i,t=0;t<i.length;t++)Ro.add(i[t])}var xo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Io={},No={};function _u(t){return vt.call(No,t)?!0:vt.call(Io,t)?!1:xo.test(t)?No[t]=!0:(Io[t]=!0,!1)}function ha(t,i,a){if(_u(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function pn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function At(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Lt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ps(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Do(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Qe(t){if(!t._valueTracker){var i=ps(t)?"checked":"value";t._valueTracker=Do(t,i,""+t[i])}}function br(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=ps(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function pi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ar=/[\n"\\]/g;function an(t){return t.replace(Ar,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function fa(t,i,a,l,h,d,_,E){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Lt(i)):t.value!==""+Lt(i)&&(t.value=""+Lt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?Oo(t,_,Lt(i)):a!=null?Oo(t,_,Lt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Lt(E):t.removeAttribute("name")}function vu(t,i,a,l,h,d,_,E){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Qe(t);return}a=a!=null?""+Lt(a):"",i=i!=null?""+Lt(i):a,E||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Qe(t)}function Oo(t,i,a){i==="number"&&pi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function ys(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Lt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Eu(t,i,a){if(i!=null&&(i=""+Lt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Lt(a):""}function _s(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(r(92));if(dt(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Lt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Qe(t)}function on(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Tu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Mo(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Tu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Vo(t,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Mo(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Mo(t,d,i[d])}function da(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ma(t){return vs.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Gn(){}var ko=null;function xn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Es=null,yi=null;function Sr(t){var i=Cn(t);if(i&&(t=i.stateNode)){var a=t[Ut]||null;e:switch(t=i.stateNode,i.type){case"input":if(fa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+an(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[Ut]||null;if(!h)throw Error(r(90));fa(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&br(l)}break e;case"textarea":Eu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&ys(t,!!a.multiple,i,!1)}}}var ga=!1;function Ts(t,i,a){if(ga)return t(i,a);ga=!0;try{var l=t(i);return l}finally{if(ga=!1,(Es!==null||yi!==null)&&(gc(),Es&&(i=Es,t=yi,yi=Es=null,Sr(i),t)))for(i=0;i<t.length;i++)Sr(t[i])}}function Yn(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Ut]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wr=!1;if(In)try{var Je={};Object.defineProperty(Je,"passive",{get:function(){wr=!0}}),window.addEventListener("test",Je,Je),window.removeEventListener("test",Je,Je)}catch{wr=!1}var _i=null,Uo=null,Rr=null;function Lo(){if(Rr)return Rr;var t,i=Uo,a=i.length,l,h="value"in _i?_i.value:_i.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return Rr=h.slice(t,1<l?1-l:void 0)}function Cr(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Bi(){return!0}function Kn(){return!1}function Bt(t){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(d):d[E]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Bi:Kn,this.isPropagationStopped=Kn,this}return S(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Bi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Bi)},persist:function(){},isPersistent:Bi}),i}var qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vi=Bt(qi),bs=S({},qi,{view:0,detail:0}),Po=Bt(bs),As,pa,Ei,ya=S({},bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ss,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ei&&(Ei&&t.type==="mousemove"?(As=t.screenX-Ei.screenX,pa=t.screenY-Ei.screenY):pa=As=0,Ei=t),As)},movementY:function(t){return"movementY"in t?t.movementY:pa}}),jo=Bt(ya),xr=S({},ya,{dataTransfer:0}),Au=Bt(xr),Su=S({},bs,{relatedTarget:0}),Ir=Bt(Su),zo=S({},qi,{animationName:0,elapsedTime:0,pseudoElement:0}),wu=Bt(zo),_a=S({},qi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ru=Bt(_a),Cu=S({},qi,{data:0}),Ti=Bt(Cu),xu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Iu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Du(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Nu[t])?!!i[t]:!1}function Ss(){return Du}var nn=S({},bs,{key:function(t){if(t.key){var i=xu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Cr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Iu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ss,charCode:function(t){return t.type==="keypress"?Cr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Cr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ou=Bt(nn),Mu=S({},ya,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hi=Bt(Mu),c=S({},bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ss}),m=Bt(c),v=S({},qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Bt(v),L=S({},ya,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Bt(L),ie=S({},qi,{newState:0,oldState:0}),Se=Bt(ie),gt=[9,13,27,32],Ge=In&&"CompositionEvent"in window,ot=null;In&&"documentMode"in document&&(ot=document.documentMode);var Nn=In&&"TextEvent"in window&&!ot,bi=In&&(!Ge||ot&&8<ot&&11>=ot),Qn=" ",$n=!1;function Nr(t,i){switch(t){case"keyup":return gt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function va(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ea=!1;function tb(t,i){switch(t){case"compositionend":return va(i);case"keypress":return i.which!==32?null:($n=!0,Qn);case"textInput":return t=i.data,t===Qn&&$n?null:t;default:return null}}function nb(t,i){if(Ea)return t==="compositionend"||!Ge&&Nr(t,i)?(t=Lo(),Rr=Uo=_i=null,Ea=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return bi&&i.locale!=="ko"?null:i.data;default:return null}}var ib={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!ib[t.type]:i==="textarea"}function qg(t,i,a,l){Es?yi?yi.push(l):yi=[l]:Es=l,i=bc(i,"onChange"),0<i.length&&(a=new vi("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Bo=null,qo=null;function sb(t){S_(t,0)}function Vu(t){var i=gn(t);if(br(i))return t}function Hg(t,i){if(t==="change")return i}var Fg=!1;if(In){var Wh;if(In){var ef="oninput"in document;if(!ef){var Gg=document.createElement("div");Gg.setAttribute("oninput","return;"),ef=typeof Gg.oninput=="function"}Wh=ef}else Wh=!1;Fg=Wh&&(!document.documentMode||9<document.documentMode)}function Yg(){Bo&&(Bo.detachEvent("onpropertychange",Kg),qo=Bo=null)}function Kg(t){if(t.propertyName==="value"&&Vu(qo)){var i=[];qg(i,qo,t,xn(t)),Ts(sb,i)}}function rb(t,i,a){t==="focusin"?(Yg(),Bo=i,qo=a,Bo.attachEvent("onpropertychange",Kg)):t==="focusout"&&Yg()}function ab(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Vu(qo)}function ob(t,i){if(t==="click")return Vu(i)}function lb(t,i){if(t==="input"||t==="change")return Vu(i)}function ub(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var yn=typeof Object.is=="function"?Object.is:ub;function Ho(t,i){if(yn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!vt.call(i,h)||!yn(t[h],i[h]))return!1}return!0}function Qg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function $g(t,i){var a=Qg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Qg(a)}}function Xg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Xg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Jg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=pi(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=pi(t.document)}return i}function tf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var cb=In&&"documentMode"in document&&11>=document.documentMode,Ta=null,nf=null,Fo=null,sf=!1;function Zg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;sf||Ta==null||Ta!==pi(l)||(l=Ta,"selectionStart"in l&&tf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Fo&&Ho(Fo,l)||(Fo=l,l=bc(nf,"onSelect"),0<l.length&&(i=new vi("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Ta)))}function Dr(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var ba={animationend:Dr("Animation","AnimationEnd"),animationiteration:Dr("Animation","AnimationIteration"),animationstart:Dr("Animation","AnimationStart"),transitionrun:Dr("Transition","TransitionRun"),transitionstart:Dr("Transition","TransitionStart"),transitioncancel:Dr("Transition","TransitionCancel"),transitionend:Dr("Transition","TransitionEnd")},rf={},Wg={};In&&(Wg=document.createElement("div").style,"AnimationEvent"in window||(delete ba.animationend.animation,delete ba.animationiteration.animation,delete ba.animationstart.animation),"TransitionEvent"in window||delete ba.transitionend.transition);function Or(t){if(rf[t])return rf[t];if(!ba[t])return t;var i=ba[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Wg)return rf[t]=i[a];return t}var ep=Or("animationend"),tp=Or("animationiteration"),np=Or("animationstart"),hb=Or("transitionrun"),fb=Or("transitionstart"),db=Or("transitioncancel"),ip=Or("transitionend"),sp=new Map,af="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");af.push("scrollEnd");function Xn(t,i){sp.set(t,i),mi(i,[t])}var ku=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Dn=[],Aa=0,of=0;function Uu(){for(var t=Aa,i=of=Aa=0;i<t;){var a=Dn[i];Dn[i++]=null;var l=Dn[i];Dn[i++]=null;var h=Dn[i];Dn[i++]=null;var d=Dn[i];if(Dn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&rp(a,h,d)}}function Lu(t,i,a,l){Dn[Aa++]=t,Dn[Aa++]=i,Dn[Aa++]=a,Dn[Aa++]=l,of|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function lf(t,i,a,l){return Lu(t,i,a,l),Pu(t)}function Mr(t,i){return Lu(t,null,null,i),Pu(t)}function rp(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-mt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Pu(t){if(50<fl)throw fl=0,yd=null,Error(r(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Sa={};function mb(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(t,i,a,l){return new mb(t,i,a,l)}function uf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Fi(t,i){var a=t.alternate;return a===null?(a=_n(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function ap(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function ju(t,i,a,l,h,d){var _=0;if(l=t,typeof t=="function")uf(t)&&(_=1);else if(typeof t=="string")_=vA(t,a,re.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case N:return t=_n(31,a,i,h),t.elementType=N,t.lanes=d,t;case X:return Vr(a.children,h,d,i);case K:_=8,h|=24;break;case te:return t=_n(12,a,i,h|2),t.elementType=te,t.lanes=d,t;case ze:return t=_n(13,a,i,h),t.elementType=ze,t.lanes=d,t;case Re:return t=_n(19,a,i,h),t.elementType=Re,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case le:_=10;break e;case ce:_=9;break e;case ve:_=11;break e;case D:_=14;break e;case w:_=16,l=null;break e}_=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return i=_n(_,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Vr(t,i,a,l){return t=_n(7,t,l,i),t.lanes=a,t}function cf(t,i,a){return t=_n(6,t,null,i),t.lanes=a,t}function op(t){var i=_n(18,null,null,0);return i.stateNode=t,i}function hf(t,i,a){return i=_n(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var lp=new WeakMap;function On(t,i){if(typeof t=="object"&&t!==null){var a=lp.get(t);return a!==void 0?a:(i={value:t,source:i,stack:To(i)},lp.set(t,i),i)}return{value:t,source:i,stack:To(i)}}var wa=[],Ra=0,zu=null,Go=0,Mn=[],Vn=0,ws=null,Ai=1,Si="";function Gi(t,i){wa[Ra++]=Go,wa[Ra++]=zu,zu=t,Go=i}function up(t,i,a){Mn[Vn++]=Ai,Mn[Vn++]=Si,Mn[Vn++]=ws,ws=t;var l=Ai;t=Si;var h=32-mt(l)-1;l&=~(1<<h),a+=1;var d=32-mt(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Ai=1<<32-mt(i)+h|a<<h|l,Si=d+t}else Ai=1<<d|a<<h|l,Si=t}function ff(t){t.return!==null&&(Gi(t,1),up(t,1,0))}function df(t){for(;t===zu;)zu=wa[--Ra],wa[Ra]=null,Go=wa[--Ra],wa[Ra]=null;for(;t===ws;)ws=Mn[--Vn],Mn[Vn]=null,Si=Mn[--Vn],Mn[Vn]=null,Ai=Mn[--Vn],Mn[Vn]=null}function cp(t,i){Mn[Vn++]=Ai,Mn[Vn++]=Si,Mn[Vn++]=ws,Ai=i.id,Si=i.overflow,ws=t}var qt=null,st=null,Pe=!1,Rs=null,kn=!1,mf=Error(r(519));function Cs(t){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Yo(On(i,t)),mf}function hp(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Tt]=t,i[Ut]=l,a){case"dialog":De("cancel",i),De("close",i);break;case"iframe":case"object":case"embed":De("load",i);break;case"video":case"audio":for(a=0;a<ml.length;a++)De(ml[a],i);break;case"source":De("error",i);break;case"img":case"image":case"link":De("error",i),De("load",i);break;case"details":De("toggle",i);break;case"input":De("invalid",i),vu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":De("invalid",i);break;case"textarea":De("invalid",i),_s(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||x_(i.textContent,a)?(l.popover!=null&&(De("beforetoggle",i),De("toggle",i)),l.onScroll!=null&&De("scroll",i),l.onScrollEnd!=null&&De("scrollend",i),l.onClick!=null&&(i.onclick=Gn),i=!0):i=!1,i||Cs(t,!0)}function fp(t){for(qt=t.return;qt;)switch(qt.tag){case 5:case 31:case 13:kn=!1;return;case 27:case 3:kn=!0;return;default:qt=qt.return}}function Ca(t){if(t!==qt)return!1;if(!Pe)return fp(t),Pe=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Od(t.type,t.memoizedProps)),a=!a),a&&st&&Cs(t),fp(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));st=L_(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));st=L_(t)}else i===27?(i=st,Bs(t.type)?(t=Ld,Ld=null,st=t):st=i):st=qt?Ln(t.stateNode.nextSibling):null;return!0}function kr(){st=qt=null,Pe=!1}function gf(){var t=Rs;return t!==null&&(hn===null?hn=t:hn.push.apply(hn,t),Rs=null),t}function Yo(t){Rs===null?Rs=[t]:Rs.push(t)}var pf=x(null),Ur=null,Yi=null;function xs(t,i,a){ee(pf,i._currentValue),i._currentValue=a}function Ki(t){t._currentValue=pf.current,F(pf)}function yf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function _f(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var E=d;d=h;for(var I=0;I<i.length;I++)if(E.context===i[I]){d.lanes|=a,E=d.alternate,E!==null&&(E.lanes|=a),yf(d.return,a,t),l||(_=null);break e}d=E.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(r(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),yf(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function xa(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var E=h.type;yn(h.pendingProps.value,_.value)||(t!==null?t.push(E):t=[E])}}else if(h===xe.current){if(_=h.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(vl):t=[vl])}h=h.return}t!==null&&_f(i,t,a,l),i.flags|=262144}function Bu(t){for(t=t.firstContext;t!==null;){if(!yn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Lr(t){Ur=t,Yi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ht(t){return dp(Ur,t)}function qu(t,i){return Ur===null&&Lr(t),dp(t,i)}function dp(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Yi===null){if(t===null)throw Error(r(308));Yi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Yi=Yi.next=i;return a}var gb=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},pb=s.unstable_scheduleCallback,yb=s.unstable_NormalPriority,St={$$typeof:le,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vf(){return{controller:new gb,data:new Map,refCount:0}}function Ko(t){t.refCount--,t.refCount===0&&pb(yb,function(){t.controller.abort()})}var Qo=null,Ef=0,Ia=0,Na=null;function _b(t,i){if(Qo===null){var a=Qo=[];Ef=0,Ia=Ad(),Na={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Ef++,i.then(mp,mp),i}function mp(){if(--Ef===0&&Qo!==null){Na!==null&&(Na.status="fulfilled");var t=Qo;Qo=null,Ia=0,Na=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function vb(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var gp=G.S;G.S=function(t,i){Zy=tn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&_b(t,i),gp!==null&&gp(t,i)};var Pr=x(null);function Tf(){var t=Pr.current;return t!==null?t:nt.pooledCache}function Hu(t,i){i===null?ee(Pr,Pr.current):ee(Pr,i.pool)}function pp(){var t=Tf();return t===null?null:{parent:St._currentValue,pool:t}}var Da=Error(r(460)),bf=Error(r(474)),Fu=Error(r(542)),Gu={then:function(){}};function yp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function _p(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Gn,Gn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Ep(t),t;default:if(typeof i.status=="string")i.then(Gn,Gn);else{if(t=nt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Ep(t),t}throw zr=i,Da}}function jr(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(zr=a,Da):a}}var zr=null;function vp(){if(zr===null)throw Error(r(459));var t=zr;return zr=null,t}function Ep(t){if(t===Da||t===Fu)throw Error(r(483))}var Oa=null,$o=0;function Yu(t){var i=$o;return $o+=1,Oa===null&&(Oa=[]),_p(Oa,t,i)}function Xo(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Ku(t,i){throw i.$$typeof===R?Error(r(525)):(t=Object.prototype.toString.call(i),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Tp(t){function i(U,M){if(t){var j=U.deletions;j===null?(U.deletions=[M],U.flags|=16):j.push(M)}}function a(U,M){if(!t)return null;for(;M!==null;)i(U,M),M=M.sibling;return null}function l(U){for(var M=new Map;U!==null;)U.key!==null?M.set(U.key,U):M.set(U.index,U),U=U.sibling;return M}function h(U,M){return U=Fi(U,M),U.index=0,U.sibling=null,U}function d(U,M,j){return U.index=j,t?(j=U.alternate,j!==null?(j=j.index,j<M?(U.flags|=67108866,M):j):(U.flags|=67108866,M)):(U.flags|=1048576,M)}function _(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function E(U,M,j,Q){return M===null||M.tag!==6?(M=cf(j,U.mode,Q),M.return=U,M):(M=h(M,j),M.return=U,M)}function I(U,M,j,Q){var de=j.type;return de===X?Y(U,M,j.props.children,Q,j.key):M!==null&&(M.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===w&&jr(de)===M.type)?(M=h(M,j.props),Xo(M,j),M.return=U,M):(M=ju(j.type,j.key,j.props,null,U.mode,Q),Xo(M,j),M.return=U,M)}function z(U,M,j,Q){return M===null||M.tag!==4||M.stateNode.containerInfo!==j.containerInfo||M.stateNode.implementation!==j.implementation?(M=hf(j,U.mode,Q),M.return=U,M):(M=h(M,j.children||[]),M.return=U,M)}function Y(U,M,j,Q,de){return M===null||M.tag!==7?(M=Vr(j,U.mode,Q,de),M.return=U,M):(M=h(M,j),M.return=U,M)}function J(U,M,j){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=cf(""+M,U.mode,j),M.return=U,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case P:return j=ju(M.type,M.key,M.props,null,U.mode,j),Xo(j,M),j.return=U,j;case $:return M=hf(M,U.mode,j),M.return=U,M;case w:return M=jr(M),J(U,M,j)}if(dt(M)||k(M))return M=Vr(M,U.mode,j,null),M.return=U,M;if(typeof M.then=="function")return J(U,Yu(M),j);if(M.$$typeof===le)return J(U,qu(U,M),j);Ku(U,M)}return null}function B(U,M,j,Q){var de=M!==null?M.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return de!==null?null:E(U,M,""+j,Q);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case P:return j.key===de?I(U,M,j,Q):null;case $:return j.key===de?z(U,M,j,Q):null;case w:return j=jr(j),B(U,M,j,Q)}if(dt(j)||k(j))return de!==null?null:Y(U,M,j,Q,null);if(typeof j.then=="function")return B(U,M,Yu(j),Q);if(j.$$typeof===le)return B(U,M,qu(U,j),Q);Ku(U,j)}return null}function H(U,M,j,Q,de){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return U=U.get(j)||null,E(M,U,""+Q,de);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case P:return U=U.get(Q.key===null?j:Q.key)||null,I(M,U,Q,de);case $:return U=U.get(Q.key===null?j:Q.key)||null,z(M,U,Q,de);case w:return Q=jr(Q),H(U,M,j,Q,de)}if(dt(Q)||k(Q))return U=U.get(j)||null,Y(M,U,Q,de,null);if(typeof Q.then=="function")return H(U,M,j,Yu(Q),de);if(Q.$$typeof===le)return H(U,M,j,qu(M,Q),de);Ku(M,Q)}return null}function ue(U,M,j,Q){for(var de=null,He=null,he=M,Ce=M=0,Ve=null;he!==null&&Ce<j.length;Ce++){he.index>Ce?(Ve=he,he=null):Ve=he.sibling;var Fe=B(U,he,j[Ce],Q);if(Fe===null){he===null&&(he=Ve);break}t&&he&&Fe.alternate===null&&i(U,he),M=d(Fe,M,Ce),He===null?de=Fe:He.sibling=Fe,He=Fe,he=Ve}if(Ce===j.length)return a(U,he),Pe&&Gi(U,Ce),de;if(he===null){for(;Ce<j.length;Ce++)he=J(U,j[Ce],Q),he!==null&&(M=d(he,M,Ce),He===null?de=he:He.sibling=he,He=he);return Pe&&Gi(U,Ce),de}for(he=l(he);Ce<j.length;Ce++)Ve=H(he,U,Ce,j[Ce],Q),Ve!==null&&(t&&Ve.alternate!==null&&he.delete(Ve.key===null?Ce:Ve.key),M=d(Ve,M,Ce),He===null?de=Ve:He.sibling=Ve,He=Ve);return t&&he.forEach(function(Ys){return i(U,Ys)}),Pe&&Gi(U,Ce),de}function ge(U,M,j,Q){if(j==null)throw Error(r(151));for(var de=null,He=null,he=M,Ce=M=0,Ve=null,Fe=j.next();he!==null&&!Fe.done;Ce++,Fe=j.next()){he.index>Ce?(Ve=he,he=null):Ve=he.sibling;var Ys=B(U,he,Fe.value,Q);if(Ys===null){he===null&&(he=Ve);break}t&&he&&Ys.alternate===null&&i(U,he),M=d(Ys,M,Ce),He===null?de=Ys:He.sibling=Ys,He=Ys,he=Ve}if(Fe.done)return a(U,he),Pe&&Gi(U,Ce),de;if(he===null){for(;!Fe.done;Ce++,Fe=j.next())Fe=J(U,Fe.value,Q),Fe!==null&&(M=d(Fe,M,Ce),He===null?de=Fe:He.sibling=Fe,He=Fe);return Pe&&Gi(U,Ce),de}for(he=l(he);!Fe.done;Ce++,Fe=j.next())Fe=H(he,U,Ce,Fe.value,Q),Fe!==null&&(t&&Fe.alternate!==null&&he.delete(Fe.key===null?Ce:Fe.key),M=d(Fe,M,Ce),He===null?de=Fe:He.sibling=Fe,He=Fe);return t&&he.forEach(function(NA){return i(U,NA)}),Pe&&Gi(U,Ce),de}function et(U,M,j,Q){if(typeof j=="object"&&j!==null&&j.type===X&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case P:e:{for(var de=j.key;M!==null;){if(M.key===de){if(de=j.type,de===X){if(M.tag===7){a(U,M.sibling),Q=h(M,j.props.children),Q.return=U,U=Q;break e}}else if(M.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===w&&jr(de)===M.type){a(U,M.sibling),Q=h(M,j.props),Xo(Q,j),Q.return=U,U=Q;break e}a(U,M);break}else i(U,M);M=M.sibling}j.type===X?(Q=Vr(j.props.children,U.mode,Q,j.key),Q.return=U,U=Q):(Q=ju(j.type,j.key,j.props,null,U.mode,Q),Xo(Q,j),Q.return=U,U=Q)}return _(U);case $:e:{for(de=j.key;M!==null;){if(M.key===de)if(M.tag===4&&M.stateNode.containerInfo===j.containerInfo&&M.stateNode.implementation===j.implementation){a(U,M.sibling),Q=h(M,j.children||[]),Q.return=U,U=Q;break e}else{a(U,M);break}else i(U,M);M=M.sibling}Q=hf(j,U.mode,Q),Q.return=U,U=Q}return _(U);case w:return j=jr(j),et(U,M,j,Q)}if(dt(j))return ue(U,M,j,Q);if(k(j)){if(de=k(j),typeof de!="function")throw Error(r(150));return j=de.call(j),ge(U,M,j,Q)}if(typeof j.then=="function")return et(U,M,Yu(j),Q);if(j.$$typeof===le)return et(U,M,qu(U,j),Q);Ku(U,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,M!==null&&M.tag===6?(a(U,M.sibling),Q=h(M,j),Q.return=U,U=Q):(a(U,M),Q=cf(j,U.mode,Q),Q.return=U,U=Q),_(U)):a(U,M)}return function(U,M,j,Q){try{$o=0;var de=et(U,M,j,Q);return Oa=null,de}catch(he){if(he===Da||he===Fu)throw he;var He=_n(29,he,null,U.mode);return He.lanes=Q,He.return=U,He}}}var Br=Tp(!0),bp=Tp(!1),Is=!1;function Af(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Sf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ns(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ds(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ye&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Pu(t),rp(t,null,a),i}return Lu(t,l,i,a),Pu(t)}function Jo(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,So(t,a)}}function wf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Rf=!1;function Zo(){if(Rf){var t=Na;if(t!==null)throw t}}function Wo(t,i,a,l){Rf=!1;var h=t.updateQueue;Is=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var I=E,z=I.next;I.next=null,_===null?d=z:_.next=z,_=I;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,E=Y.lastBaseUpdate,E!==_&&(E===null?Y.firstBaseUpdate=z:E.next=z,Y.lastBaseUpdate=I))}if(d!==null){var J=h.baseState;_=0,Y=z=I=null,E=d;do{var B=E.lane&-536870913,H=B!==E.lane;if(H?(Me&B)===B:(l&B)===B){B!==0&&B===Ia&&(Rf=!0),Y!==null&&(Y=Y.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var ue=t,ge=E;B=i;var et=a;switch(ge.tag){case 1:if(ue=ge.payload,typeof ue=="function"){J=ue.call(et,J,B);break e}J=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=ge.payload,B=typeof ue=="function"?ue.call(et,J,B):ue,B==null)break e;J=S({},J,B);break e;case 2:Is=!0}}B=E.callback,B!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Y===null?(z=Y=H,I=J):Y=Y.next=H,_|=B;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);Y===null&&(I=J),h.baseState=I,h.firstBaseUpdate=z,h.lastBaseUpdate=Y,d===null&&(h.shared.lanes=0),Us|=_,t.lanes=_,t.memoizedState=J}}function Ap(t,i){if(typeof t!="function")throw Error(r(191,t));t.call(i)}function Sp(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Ap(a[t],i)}var Ma=x(null),Qu=x(0);function wp(t,i){t=ns,ee(Qu,t),ee(Ma,i),ns=t|i.baseLanes}function Cf(){ee(Qu,ns),ee(Ma,Ma.current)}function xf(){ns=Qu.current,F(Ma),F(Qu)}var vn=x(null),Un=null;function Os(t){var i=t.alternate;ee(pt,pt.current&1),ee(vn,t),Un===null&&(i===null||Ma.current!==null||i.memoizedState!==null)&&(Un=t)}function If(t){ee(pt,pt.current),ee(vn,t),Un===null&&(Un=t)}function Rp(t){t.tag===22?(ee(pt,pt.current),ee(vn,t),Un===null&&(Un=t)):Ms()}function Ms(){ee(pt,pt.current),ee(vn,vn.current)}function En(t){F(vn),Un===t&&(Un=null),F(pt)}var pt=x(0);function $u(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||kd(a)||Ud(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Qi=0,we=null,Ze=null,wt=null,Xu=!1,Va=!1,qr=!1,Ju=0,el=0,ka=null,Eb=0;function ht(){throw Error(r(321))}function Nf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!yn(t[a],i[a]))return!1;return!0}function Df(t,i,a,l,h,d){return Qi=d,we=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,G.H=t===null||t.memoizedState===null?uy:Yf,qr=!1,d=a(l,h),qr=!1,Va&&(d=xp(i,a,l,h)),Cp(t),d}function Cp(t){G.H=il;var i=Ze!==null&&Ze.next!==null;if(Qi=0,wt=Ze=we=null,Xu=!1,el=0,ka=null,i)throw Error(r(300));t===null||Rt||(t=t.dependencies,t!==null&&Bu(t)&&(Rt=!0))}function xp(t,i,a,l){we=t;var h=0;do{if(Va&&(ka=null),el=0,Va=!1,25<=h)throw Error(r(301));if(h+=1,wt=Ze=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}G.H=cy,d=i(a,l)}while(Va);return d}function Tb(){var t=G.H,i=t.useState()[0];return i=typeof i.then=="function"?tl(i):i,t=t.useState()[0],(Ze!==null?Ze.memoizedState:null)!==t&&(we.flags|=1024),i}function Of(){var t=Ju!==0;return Ju=0,t}function Mf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Vf(t){if(Xu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Xu=!1}Qi=0,wt=Ze=we=null,Va=!1,el=Ju=0,ka=null}function sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?we.memoizedState=wt=t:wt=wt.next=t,wt}function yt(){if(Ze===null){var t=we.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var i=wt===null?we.memoizedState:wt.next;if(i!==null)wt=i,Ze=t;else{if(t===null)throw we.alternate===null?Error(r(467)):Error(r(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},wt===null?we.memoizedState=wt=t:wt=wt.next=t}return wt}function Zu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function tl(t){var i=el;return el+=1,ka===null&&(ka=[]),t=_p(ka,t,i),i=we,(wt===null?i.memoizedState:wt.next)===null&&(i=i.alternate,G.H=i===null||i.memoizedState===null?uy:Yf),t}function Wu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return tl(t);if(t.$$typeof===le)return Ht(t)}throw Error(r(438,String(t)))}function kf(t){var i=null,a=we.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=we.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Zu(),we.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=V;return i.index++,a}function $i(t,i){return typeof i=="function"?i(t):i}function ec(t){var i=yt();return Uf(i,Ze,t)}function Uf(t,i,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var E=_=null,I=null,z=i,Y=!1;do{var J=z.lane&-536870913;if(J!==z.lane?(Me&J)===J:(Qi&J)===J){var B=z.revertLane;if(B===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),J===Ia&&(Y=!0);else if((Qi&B)===B){z=z.next,B===Ia&&(Y=!0);continue}else J={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(E=I=J,_=d):I=I.next=J,we.lanes|=B,Us|=B;J=z.action,qr&&a(d,J),d=z.hasEagerState?z.eagerState:a(d,J)}else B={lane:J,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(E=I=B,_=d):I=I.next=B,we.lanes|=J,Us|=J;z=z.next}while(z!==null&&z!==i);if(I===null?_=d:I.next=E,!yn(d,t.memoizedState)&&(Rt=!0,Y&&(a=Na,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Lf(t){var i=yt(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);yn(d,i.memoizedState)||(Rt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Ip(t,i,a){var l=we,h=yt(),d=Pe;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=i();var _=!yn((Ze||h).memoizedState,a);if(_&&(h.memoizedState=a,Rt=!0),h=h.queue,zf(Op.bind(null,l,h,t),[t]),h.getSnapshot!==i||_||wt!==null&&wt.memoizedState.tag&1){if(l.flags|=2048,Ua(9,{destroy:void 0},Dp.bind(null,l,h,a,i),null),nt===null)throw Error(r(349));d||(Qi&127)!==0||Np(l,i,a)}return a}function Np(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=we.updateQueue,i===null?(i=Zu(),we.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Dp(t,i,a,l){i.value=a,i.getSnapshot=l,Mp(i)&&Vp(t)}function Op(t,i,a){return a(function(){Mp(i)&&Vp(t)})}function Mp(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!yn(t,a)}catch{return!0}}function Vp(t){var i=Mr(t,2);i!==null&&fn(i,t,2)}function Pf(t){var i=sn();if(typeof t=="function"){var a=t;if(t=a(),qr){Rn(!0);try{a()}finally{Rn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:t},i}function kp(t,i,a,l){return t.baseState=a,Uf(t,Ze,typeof l=="function"?l:$i)}function bb(t,i,a,l,h){if(ic(t))throw Error(r(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};G.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Up(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Up(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=G.T,_={};G.T=_;try{var E=a(h,l),I=G.S;I!==null&&I(_,E),Lp(t,i,E)}catch(z){jf(t,i,z)}finally{d!==null&&_.types!==null&&(d.types=_.types),G.T=d}}else try{d=a(h,l),Lp(t,i,d)}catch(z){jf(t,i,z)}}function Lp(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Pp(t,i,l)},function(l){return jf(t,i,l)}):Pp(t,i,a)}function Pp(t,i,a){i.status="fulfilled",i.value=a,jp(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Up(t,a)))}function jf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,jp(i),i=i.next;while(i!==l)}t.action=null}function jp(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function zp(t,i){return i}function Bp(t,i){if(Pe){var a=nt.formState;if(a!==null){e:{var l=we;if(Pe){if(st){t:{for(var h=st,d=kn;h.nodeType!==8;){if(!d){h=null;break t}if(h=Ln(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){st=Ln(h.nextSibling),l=h.data==="F!";break e}}Cs(l)}l=!1}l&&(i=a[0])}}return a=sn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zp,lastRenderedState:i},a.queue=l,a=ay.bind(null,we,l),l.dispatch=a,l=Pf(!1),d=Gf.bind(null,we,!1,l.queue),l=sn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=bb.bind(null,we,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function qp(t){var i=yt();return Hp(i,Ze,t)}function Hp(t,i,a){if(i=Uf(t,i,zp)[0],t=ec($i)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=tl(i)}catch(_){throw _===Da?Fu:_}else l=i;i=yt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(we.flags|=2048,Ua(9,{destroy:void 0},Ab.bind(null,h,a),null)),[l,d,t]}function Ab(t,i){t.action=i}function Fp(t){var i=yt(),a=Ze;if(a!==null)return Hp(i,a,t);yt(),i=i.memoizedState,a=yt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Ua(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=we.updateQueue,i===null&&(i=Zu(),we.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Gp(){return yt().memoizedState}function tc(t,i,a,l){var h=sn();we.flags|=t,h.memoizedState=Ua(1|i,{destroy:void 0},a,l===void 0?null:l)}function nc(t,i,a,l){var h=yt();l=l===void 0?null:l;var d=h.memoizedState.inst;Ze!==null&&l!==null&&Nf(l,Ze.memoizedState.deps)?h.memoizedState=Ua(i,d,a,l):(we.flags|=t,h.memoizedState=Ua(1|i,d,a,l))}function Yp(t,i){tc(8390656,8,t,i)}function zf(t,i){nc(2048,8,t,i)}function Sb(t){we.flags|=4;var i=we.updateQueue;if(i===null)i=Zu(),we.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function Kp(t){var i=yt().memoizedState;return Sb({ref:i,nextImpl:t}),function(){if((Ye&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function Qp(t,i){return nc(4,2,t,i)}function $p(t,i){return nc(4,4,t,i)}function Xp(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Jp(t,i,a){a=a!=null?a.concat([t]):null,nc(4,4,Xp.bind(null,i,t),a)}function Bf(){}function Zp(t,i){var a=yt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Nf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Wp(t,i){var a=yt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Nf(i,l[1]))return l[0];if(l=t(),qr){Rn(!0);try{t()}finally{Rn(!1)}}return a.memoizedState=[l,i],l}function qf(t,i,a){return a===void 0||(Qi&1073741824)!==0&&(Me&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=e_(),we.lanes|=t,Us|=t,a)}function ey(t,i,a,l){return yn(a,i)?a:Ma.current!==null?(t=qf(t,a,l),yn(t,i)||(Rt=!0),t):(Qi&42)===0||(Qi&1073741824)!==0&&(Me&261930)===0?(Rt=!0,t.memoizedState=a):(t=e_(),we.lanes|=t,Us|=t,i)}function ty(t,i,a,l,h){var d=se.p;se.p=d!==0&&8>d?d:8;var _=G.T,E={};G.T=E,Gf(t,!1,i,a);try{var I=h(),z=G.S;if(z!==null&&z(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var Y=vb(I,l);nl(t,i,Y,An(t))}else nl(t,i,l,An(t))}catch(J){nl(t,i,{then:function(){},status:"rejected",reason:J},An())}finally{se.p=d,_!==null&&E.types!==null&&(_.types=E.types),G.T=_}}function wb(){}function Hf(t,i,a,l){if(t.tag!==5)throw Error(r(476));var h=ny(t).queue;ty(t,h,i,fe,a===null?wb:function(){return iy(t),a(l)})}function ny(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:fe},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function iy(t){var i=ny(t);i.next===null&&(i=t.alternate.memoizedState),nl(t,i.next.queue,{},An())}function Ff(){return Ht(vl)}function sy(){return yt().memoizedState}function ry(){return yt().memoizedState}function Rb(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=An();t=Ns(a);var l=Ds(i,t,a);l!==null&&(fn(l,i,a),Jo(l,i,a)),i={cache:vf()},t.payload=i;return}i=i.return}}function Cb(t,i,a){var l=An();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ic(t)?oy(i,a):(a=lf(t,i,a,l),a!==null&&(fn(a,t,l),ly(a,i,l)))}function ay(t,i,a){var l=An();nl(t,i,a,l)}function nl(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(ic(t))oy(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,E=d(_,a);if(h.hasEagerState=!0,h.eagerState=E,yn(E,_))return Lu(t,i,h,0),nt===null&&Uu(),!1}catch{}if(a=lf(t,i,h,l),a!==null)return fn(a,t,l),ly(a,i,l),!0}return!1}function Gf(t,i,a,l){if(l={lane:2,revertLane:Ad(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ic(t)){if(i)throw Error(r(479))}else i=lf(t,a,l,2),i!==null&&fn(i,t,2)}function ic(t){var i=t.alternate;return t===we||i!==null&&i===we}function oy(t,i){Va=Xu=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function ly(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,So(t,a)}}var il={readContext:Ht,use:Wu,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht,useHostTransitionStatus:ht,useFormState:ht,useActionState:ht,useOptimistic:ht,useMemoCache:ht,useCacheRefresh:ht};il.useEffectEvent=ht;var uy={readContext:Ht,use:Wu,useCallback:function(t,i){return sn().memoizedState=[t,i===void 0?null:i],t},useContext:Ht,useEffect:Yp,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,tc(4194308,4,Xp.bind(null,i,t),a)},useLayoutEffect:function(t,i){return tc(4194308,4,t,i)},useInsertionEffect:function(t,i){tc(4,2,t,i)},useMemo:function(t,i){var a=sn();i=i===void 0?null:i;var l=t();if(qr){Rn(!0);try{t()}finally{Rn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=sn();if(a!==void 0){var h=a(i);if(qr){Rn(!0);try{a(i)}finally{Rn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=Cb.bind(null,we,t),[l.memoizedState,t]},useRef:function(t){var i=sn();return t={current:t},i.memoizedState=t},useState:function(t){t=Pf(t);var i=t.queue,a=ay.bind(null,we,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Bf,useDeferredValue:function(t,i){var a=sn();return qf(a,t,i)},useTransition:function(){var t=Pf(!1);return t=ty.bind(null,we,t.queue,!0,!1),sn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=we,h=sn();if(Pe){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),nt===null)throw Error(r(349));(Me&127)!==0||Np(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Yp(Op.bind(null,l,d,t),[t]),l.flags|=2048,Ua(9,{destroy:void 0},Dp.bind(null,l,d,a,i),null),a},useId:function(){var t=sn(),i=nt.identifierPrefix;if(Pe){var a=Si,l=Ai;a=(l&~(1<<32-mt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Ju++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=Eb++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Ff,useFormState:Bp,useActionState:Bp,useOptimistic:function(t){var i=sn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Gf.bind(null,we,!0,a),a.dispatch=i,[t,i]},useMemoCache:kf,useCacheRefresh:function(){return sn().memoizedState=Rb.bind(null,we)},useEffectEvent:function(t){var i=sn(),a={impl:t};return i.memoizedState=a,function(){if((Ye&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Yf={readContext:Ht,use:Wu,useCallback:Zp,useContext:Ht,useEffect:zf,useImperativeHandle:Jp,useInsertionEffect:Qp,useLayoutEffect:$p,useMemo:Wp,useReducer:ec,useRef:Gp,useState:function(){return ec($i)},useDebugValue:Bf,useDeferredValue:function(t,i){var a=yt();return ey(a,Ze.memoizedState,t,i)},useTransition:function(){var t=ec($i)[0],i=yt().memoizedState;return[typeof t=="boolean"?t:tl(t),i]},useSyncExternalStore:Ip,useId:sy,useHostTransitionStatus:Ff,useFormState:qp,useActionState:qp,useOptimistic:function(t,i){var a=yt();return kp(a,Ze,t,i)},useMemoCache:kf,useCacheRefresh:ry};Yf.useEffectEvent=Kp;var cy={readContext:Ht,use:Wu,useCallback:Zp,useContext:Ht,useEffect:zf,useImperativeHandle:Jp,useInsertionEffect:Qp,useLayoutEffect:$p,useMemo:Wp,useReducer:Lf,useRef:Gp,useState:function(){return Lf($i)},useDebugValue:Bf,useDeferredValue:function(t,i){var a=yt();return Ze===null?qf(a,t,i):ey(a,Ze.memoizedState,t,i)},useTransition:function(){var t=Lf($i)[0],i=yt().memoizedState;return[typeof t=="boolean"?t:tl(t),i]},useSyncExternalStore:Ip,useId:sy,useHostTransitionStatus:Ff,useFormState:Fp,useActionState:Fp,useOptimistic:function(t,i){var a=yt();return Ze!==null?kp(a,Ze,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:kf,useCacheRefresh:ry};cy.useEffectEvent=Kp;function Kf(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:S({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Qf={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=An(),h=Ns(l);h.payload=i,a!=null&&(h.callback=a),i=Ds(t,h,l),i!==null&&(fn(i,t,l),Jo(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=An(),h=Ns(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Ds(t,h,l),i!==null&&(fn(i,t,l),Jo(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=An(),l=Ns(a);l.tag=2,i!=null&&(l.callback=i),i=Ds(t,l,a),i!==null&&(fn(i,t,a),Jo(i,t,a))}};function hy(t,i,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!Ho(a,l)||!Ho(h,d):!0}function fy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Qf.enqueueReplaceState(i,i.state,null)}function Hr(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=S({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function dy(t){ku(t)}function my(t){console.error(t)}function gy(t){ku(t)}function sc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function py(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function $f(t,i,a){return a=Ns(a),a.tag=3,a.payload={element:null},a.callback=function(){sc(t,i)},a}function yy(t){return t=Ns(t),t.tag=3,t}function _y(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){py(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){py(i,a,l),typeof h!="function"&&(Ls===null?Ls=new Set([this]):Ls.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function xb(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&xa(i,a,h,!0),a=vn.current,a!==null){switch(a.tag){case 31:case 13:return Un===null?pc():a.alternate===null&&ft===0&&(ft=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Gu?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Ed(t,l,h)),!1;case 22:return a.flags|=65536,l===Gu?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Ed(t,l,h)),!1}throw Error(r(435,a.tag))}return Ed(t,l,h),pc(),!1}if(Pe)return i=vn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==mf&&(t=Error(r(422),{cause:l}),Yo(On(t,a)))):(l!==mf&&(i=Error(r(423),{cause:l}),Yo(On(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=On(l,a),h=$f(t.stateNode,l,h),wf(t,h),ft!==4&&(ft=2)),!1;var d=Error(r(520),{cause:l});if(d=On(d,a),hl===null?hl=[d]:hl.push(d),ft!==4&&(ft=2),i===null)return!0;l=On(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=$f(a.stateNode,l,t),wf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ls===null||!Ls.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=yy(h),_y(h,t,a,l),wf(a,h),!1}a=a.return}while(a!==null);return!1}var Xf=Error(r(461)),Rt=!1;function Ft(t,i,a,l){i.child=t===null?bp(i,null,a,l):Br(i,t.child,a,l)}function vy(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var E in l)E!=="ref"&&(_[E]=l[E])}else _=l;return Lr(i),l=Df(t,i,a,_,d,h),E=Of(),t!==null&&!Rt?(Mf(t,i,h),Xi(t,i,h)):(Pe&&E&&ff(i),i.flags|=1,Ft(t,i,l,h),i.child)}function Ey(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!uf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Ty(t,i,d,l,h)):(t=ju(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!sd(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Ho,a(_,l)&&t.ref===i.ref)return Xi(t,i,h)}return i.flags|=1,t=Fi(d,l),t.ref=i.ref,t.return=i,i.child=t}function Ty(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(Ho(d,l)&&t.ref===i.ref)if(Rt=!1,i.pendingProps=l=d,sd(t,h))(t.flags&131072)!==0&&(Rt=!0);else return i.lanes=t.lanes,Xi(t,i,h)}return Jf(t,i,a,l,h)}function by(t,i,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return Ay(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Hu(i,d!==null?d.cachePool:null),d!==null?wp(i,d):Cf(),Rp(i);else return l=i.lanes=536870912,Ay(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Hu(i,d.cachePool),wp(i,d),Ms(),i.memoizedState=null):(t!==null&&Hu(i,null),Cf(),Ms());return Ft(t,i,h,a),i.child}function sl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Ay(t,i,a,l,h){var d=Tf();return d=d===null?null:{parent:St._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&Hu(i,null),Cf(),Rp(i),t!==null&&xa(t,i,l,!0),i.childLanes=h,null}function rc(t,i){return i=oc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Sy(t,i,a){return Br(i,t.child,null,a),t=rc(i,i.pendingProps),t.flags|=2,En(i),i.memoizedState=null,t}function Ib(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Pe){if(l.mode==="hidden")return t=rc(i,l),i.lanes=536870912,sl(null,t);if(If(i),(t=st)?(t=U_(t,kn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:ws!==null?{id:Ai,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},a=op(t),a.return=i,i.child=a,qt=i,st=null)):t=null,t===null)throw Cs(i);return i.lanes=536870912,null}return rc(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(If(i),h)if(i.flags&256)i.flags&=-257,i=Sy(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(r(558));else if(Rt||xa(t,i,a,!1),h=(a&t.childLanes)!==0,Rt||h){if(l=nt,l!==null&&(_=wo(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Mr(t,_),fn(l,t,_),Xf;pc(),i=Sy(t,i,a)}else t=d.treeContext,st=Ln(_.nextSibling),qt=i,Pe=!0,Rs=null,kn=!1,t!==null&&cp(i,t),i=rc(i,l),i.flags|=4096;return i}return t=Fi(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function ac(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Jf(t,i,a,l,h){return Lr(i),a=Df(t,i,a,l,void 0,h),l=Of(),t!==null&&!Rt?(Mf(t,i,h),Xi(t,i,h)):(Pe&&l&&ff(i),i.flags|=1,Ft(t,i,a,h),i.child)}function wy(t,i,a,l,h,d){return Lr(i),i.updateQueue=null,a=xp(i,l,a,h),Cp(t),l=Of(),t!==null&&!Rt?(Mf(t,i,d),Xi(t,i,d)):(Pe&&l&&ff(i),i.flags|=1,Ft(t,i,a,d),i.child)}function Ry(t,i,a,l,h){if(Lr(i),i.stateNode===null){var d=Sa,_=a.contextType;typeof _=="object"&&_!==null&&(d=Ht(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Qf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Af(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Ht(_):Sa,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Kf(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Qf.enqueueReplaceState(d,d.state,null),Wo(i,l,d,h),Zo(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var E=i.memoizedProps,I=Hr(a,E);d.props=I;var z=d.context,Y=a.contextType;_=Sa,typeof Y=="object"&&Y!==null&&(_=Ht(Y));var J=a.getDerivedStateFromProps;Y=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,Y||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E||z!==_)&&fy(i,d,l,_),Is=!1;var B=i.memoizedState;d.state=B,Wo(i,l,d,h),Zo(),z=i.memoizedState,E||B!==z||Is?(typeof J=="function"&&(Kf(i,a,J,l),z=i.memoizedState),(I=Is||hy(i,a,I,l,B,z,_))?(Y||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=z),d.props=l,d.state=z,d.context=_,l=I):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Sf(t,i),_=i.memoizedProps,Y=Hr(a,_),d.props=Y,J=i.pendingProps,B=d.context,z=a.contextType,I=Sa,typeof z=="object"&&z!==null&&(I=Ht(z)),E=a.getDerivedStateFromProps,(z=typeof E=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==J||B!==I)&&fy(i,d,l,I),Is=!1,B=i.memoizedState,d.state=B,Wo(i,l,d,h),Zo();var H=i.memoizedState;_!==J||B!==H||Is||t!==null&&t.dependencies!==null&&Bu(t.dependencies)?(typeof E=="function"&&(Kf(i,a,E,l),H=i.memoizedState),(Y=Is||hy(i,a,Y,l,B,H,I)||t!==null&&t.dependencies!==null&&Bu(t.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,H,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,H,I)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=H),d.props=l,d.state=H,d.context=I,l=Y):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,ac(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Br(i,t.child,null,h),i.child=Br(i,null,a,h)):Ft(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Xi(t,i,h),t}function Cy(t,i,a,l){return kr(),i.flags|=256,Ft(t,i,a,l),i.child}var Zf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wf(t){return{baseLanes:t,cachePool:pp()}}function ed(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=bn),t}function xy(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(pt.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Pe){if(h?Os(i):Ms(),(t=st)?(t=U_(t,kn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:ws!==null?{id:Ai,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},a=op(t),a.return=i,i.child=a,qt=i,st=null)):t=null,t===null)throw Cs(i);return Ud(t)?i.lanes=32:i.lanes=536870912,null}var E=l.children;return l=l.fallback,h?(Ms(),h=i.mode,E=oc({mode:"hidden",children:E},h),l=Vr(l,h,a,null),E.return=i,l.return=i,E.sibling=l,i.child=E,l=i.child,l.memoizedState=Wf(a),l.childLanes=ed(t,_,a),i.memoizedState=Zf,sl(null,l)):(Os(i),td(i,E))}var I=t.memoizedState;if(I!==null&&(E=I.dehydrated,E!==null)){if(d)i.flags&256?(Os(i),i.flags&=-257,i=nd(t,i,a)):i.memoizedState!==null?(Ms(),i.child=t.child,i.flags|=128,i=null):(Ms(),E=l.fallback,h=i.mode,l=oc({mode:"visible",children:l.children},h),E=Vr(E,h,a,null),E.flags|=2,l.return=i,E.return=i,l.sibling=E,i.child=l,Br(i,t.child,null,a),l=i.child,l.memoizedState=Wf(a),l.childLanes=ed(t,_,a),i.memoizedState=Zf,i=sl(null,l));else if(Os(i),Ud(E)){if(_=E.nextSibling&&E.nextSibling.dataset,_)var z=_.dgst;_=z,l=Error(r(419)),l.stack="",l.digest=_,Yo({value:l,source:null,stack:null}),i=nd(t,i,a)}else if(Rt||xa(t,i,a,!1),_=(a&t.childLanes)!==0,Rt||_){if(_=nt,_!==null&&(l=wo(_,a),l!==0&&l!==I.retryLane))throw I.retryLane=l,Mr(t,l),fn(_,t,l),Xf;kd(E)||pc(),i=nd(t,i,a)}else kd(E)?(i.flags|=192,i.child=t.child,i=null):(t=I.treeContext,st=Ln(E.nextSibling),qt=i,Pe=!0,Rs=null,kn=!1,t!==null&&cp(i,t),i=td(i,l.children),i.flags|=4096);return i}return h?(Ms(),E=l.fallback,h=i.mode,I=t.child,z=I.sibling,l=Fi(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,z!==null?E=Fi(z,E):(E=Vr(E,h,a,null),E.flags|=2),E.return=i,l.return=i,l.sibling=E,i.child=l,sl(null,l),l=i.child,E=t.child.memoizedState,E===null?E=Wf(a):(h=E.cachePool,h!==null?(I=St._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=pp(),E={baseLanes:E.baseLanes|a,cachePool:h}),l.memoizedState=E,l.childLanes=ed(t,_,a),i.memoizedState=Zf,sl(t.child,l)):(Os(i),a=t.child,t=a.sibling,a=Fi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function td(t,i){return i=oc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function oc(t,i){return t=_n(22,t,null,i),t.lanes=0,t}function nd(t,i,a){return Br(i,t.child,null,a),t=td(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Iy(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),yf(t.return,i,a)}function id(t,i,a,l,h,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function Ny(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=pt.current,E=(_&2)!==0;if(E?(_=_&1|2,i.flags|=128):_&=1,ee(pt,_),Ft(t,i,l,a),l=Pe?Go:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Iy(t,a,i);else if(t.tag===19)Iy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&$u(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),id(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&$u(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}id(i,!0,a,null,d,l);break;case"together":id(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Xi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Us|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(xa(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(r(153));if(i.child!==null){for(t=i.child,a=Fi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Fi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function sd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Bu(t)))}function Nb(t,i,a){switch(i.tag){case 3:ct(i,i.stateNode.containerInfo),xs(i,St,t.memoizedState.cache),kr();break;case 27:case 5:rn(i);break;case 4:ct(i,i.stateNode.containerInfo);break;case 10:xs(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,If(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Os(i),i.flags|=128,null):(a&i.child.childLanes)!==0?xy(t,i,a):(Os(i),t=Xi(t,i,a),t!==null?t.sibling:null);Os(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(xa(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Ny(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ee(pt,pt.current),l)break;return null;case 22:return i.lanes=0,by(t,i,a,i.pendingProps);case 24:xs(i,St,t.memoizedState.cache)}return Xi(t,i,a)}function Dy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Rt=!0;else{if(!sd(t,a)&&(i.flags&128)===0)return Rt=!1,Nb(t,i,a);Rt=(t.flags&131072)!==0}else Rt=!1,Pe&&(i.flags&1048576)!==0&&up(i,Go,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=jr(i.elementType),i.type=t,typeof t=="function")uf(t)?(l=Hr(t,l),i.tag=1,i=Ry(null,i,t,l,a)):(i.tag=0,i=Jf(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===ve){i.tag=11,i=vy(null,i,t,l,a);break e}else if(h===D){i.tag=14,i=Ey(null,i,t,l,a);break e}}throw i=tt(t)||t,Error(r(306,i,""))}}return i;case 0:return Jf(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Hr(l,i.pendingProps),Ry(t,i,l,h,a);case 3:e:{if(ct(i,i.stateNode.containerInfo),t===null)throw Error(r(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Sf(t,i),Wo(i,l,null,a);var _=i.memoizedState;if(l=_.cache,xs(i,St,l),l!==d.cache&&_f(i,[St],a,!0),Zo(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Cy(t,i,l,a);break e}else if(l!==h){h=On(Error(r(424)),i),Yo(h),i=Cy(t,i,l,a);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,st=Ln(t.firstChild),qt=i,Pe=!0,Rs=null,kn=!0,a=bp(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(kr(),l===h){i=Xi(t,i,a);break e}Ft(t,i,l,a)}i=i.child}return i;case 26:return ac(t,i),t===null?(a=q_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Pe||(a=i.type,t=i.pendingProps,l=Ac(Ee.current).createElement(a),l[Tt]=i,l[Ut]=t,Gt(l,a,t),bt(l),i.stateNode=l):i.memoizedState=q_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return rn(i),t===null&&Pe&&(l=i.stateNode=j_(i.type,i.pendingProps,Ee.current),qt=i,kn=!0,h=st,Bs(i.type)?(Ld=h,st=Ln(l.firstChild)):st=h),Ft(t,i,i.pendingProps.children,a),ac(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Pe&&((h=l=st)&&(l=aA(l,i.type,i.pendingProps,kn),l!==null?(i.stateNode=l,qt=i,st=Ln(l.firstChild),kn=!1,h=!0):h=!1),h||Cs(i)),rn(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Od(h,d)?l=null:_!==null&&Od(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Df(t,i,Tb,null,null,a),vl._currentValue=h),ac(t,i),Ft(t,i,l,a),i.child;case 6:return t===null&&Pe&&((t=a=st)&&(a=oA(a,i.pendingProps,kn),a!==null?(i.stateNode=a,qt=i,st=null,t=!0):t=!1),t||Cs(i)),null;case 13:return xy(t,i,a);case 4:return ct(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Br(i,null,l,a):Ft(t,i,l,a),i.child;case 11:return vy(t,i,i.type,i.pendingProps,a);case 7:return Ft(t,i,i.pendingProps,a),i.child;case 8:return Ft(t,i,i.pendingProps.children,a),i.child;case 12:return Ft(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,xs(i,i.type,l.value),Ft(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Lr(i),h=Ht(h),l=l(h),i.flags|=1,Ft(t,i,l,a),i.child;case 14:return Ey(t,i,i.type,i.pendingProps,a);case 15:return Ty(t,i,i.type,i.pendingProps,a);case 19:return Ny(t,i,a);case 31:return Ib(t,i,a);case 22:return by(t,i,a,i.pendingProps);case 24:return Lr(i),l=Ht(St),t===null?(h=Tf(),h===null&&(h=nt,d=vf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Af(i),xs(i,St,h)):((t.lanes&a)!==0&&(Sf(t,i),Wo(i,null,null,a),Zo()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),xs(i,St,l)):(l=d.cache,xs(i,St,l),l!==h.cache&&_f(i,[St],a,!0))),Ft(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function Ji(t){t.flags|=4}function rd(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(s_())t.flags|=8192;else throw zr=Gu,bf}else t.flags&=-16777217}function Oy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!K_(i))if(s_())t.flags|=8192;else throw zr=Gu,bf}function lc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?mu():536870912,t.lanes|=i,za|=i)}function rl(t,i){if(!Pe)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function rt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function Db(t,i,a){var l=i.pendingProps;switch(df(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(i),null;case 1:return rt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Ki(St),Oe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ca(i)?Ji(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,gf())),rt(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(Ji(i),d!==null?(rt(i),Oy(i,d)):(rt(i),rd(i,h,null,l,a))):d?d!==t.memoizedState?(Ji(i),rt(i),Oy(i,d)):(rt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&Ji(i),rt(i),rd(i,h,t,l,a)),null;case 27:if(zn(i),a=Ee.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Ji(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return rt(i),null}t=re.current,Ca(i)?hp(i):(t=j_(h,l,a),i.stateNode=t,Ji(i))}return rt(i),null;case 5:if(zn(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Ji(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return rt(i),null}if(d=re.current,Ca(i))hp(i);else{var _=Ac(Ee.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[Tt]=i,d[Ut]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(Gt(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Ji(i)}}return rt(i),rd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Ji(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(r(166));if(t=Ee.current,Ca(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=qt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Tt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||x_(t.nodeValue,a)),t||Cs(i,!0)}else t=Ac(t).createTextNode(l),t[Tt]=i,i.stateNode=t}return rt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Ca(i),a!==null){if(t===null){if(!l)throw Error(r(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Tt]=i}else kr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;rt(i),t=!1}else a=gf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(En(i),i):(En(i),null);if((i.flags&128)!==0)throw Error(r(558))}return rt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ca(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Tt]=i}else kr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;rt(i),h=!1}else h=gf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(En(i),i):(En(i),null)}return En(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),lc(i,i.updateQueue),rt(i),null);case 4:return Oe(),t===null&&Cd(i.stateNode.containerInfo),rt(i),null;case 10:return Ki(i.type),rt(i),null;case 19:if(F(pt),l=i.memoizedState,l===null)return rt(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)rl(l,!1);else{if(ft!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=$u(t),d!==null){for(i.flags|=128,rl(l,!1),t=d.updateQueue,i.updateQueue=t,lc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)ap(a,t),a=a.sibling;return ee(pt,pt.current&1|2),Pe&&Gi(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&tn()>dc&&(i.flags|=128,h=!0,rl(l,!1),i.lanes=4194304)}else{if(!h)if(t=$u(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,lc(i,t),rl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Pe)return rt(i),null}else 2*tn()-l.renderingStartTime>dc&&a!==536870912&&(i.flags|=128,h=!0,rl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=tn(),t.sibling=null,a=pt.current,ee(pt,h?a&1|2:a&1),Pe&&Gi(i,l.treeForkCount),t):(rt(i),null);case 22:case 23:return En(i),xf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(rt(i),i.subtreeFlags&6&&(i.flags|=8192)):rt(i),a=i.updateQueue,a!==null&&lc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&F(Pr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Ki(St),rt(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function Ob(t,i){switch(df(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Ki(St),Oe(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return zn(i),null;case 31:if(i.memoizedState!==null){if(En(i),i.alternate===null)throw Error(r(340));kr()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(En(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(r(340));kr()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return F(pt),null;case 4:return Oe(),null;case 10:return Ki(i.type),null;case 22:case 23:return En(i),xf(),t!==null&&F(Pr),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Ki(St),null;case 25:return null;default:return null}}function My(t,i){switch(df(i),i.tag){case 3:Ki(St),Oe();break;case 26:case 27:case 5:zn(i);break;case 4:Oe();break;case 31:i.memoizedState!==null&&En(i);break;case 13:En(i);break;case 19:F(pt);break;case 10:Ki(i.type);break;case 22:case 23:En(i),xf(),t!==null&&F(Pr);break;case 24:Ki(St)}}function al(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(E){Xe(i,i.return,E)}}function Vs(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,E=_.destroy;if(E!==void 0){_.destroy=void 0,h=i;var I=a,z=E;try{z()}catch(Y){Xe(h,I,Y)}}}l=l.next}while(l!==d)}}catch(Y){Xe(i,i.return,Y)}}function Vy(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Sp(i,a)}catch(l){Xe(t,t.return,l)}}}function ky(t,i,a){a.props=Hr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Xe(t,i,l)}}function ol(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Xe(t,i,h)}}function wi(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Xe(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Xe(t,i,h)}else a.current=null}function Uy(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Xe(t,t.return,h)}}function ad(t,i,a){try{var l=t.stateNode;eA(l,t.type,a,i),l[Ut]=i}catch(h){Xe(t,t.return,h)}}function Ly(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Bs(t.type)||t.tag===4}function od(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ly(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Bs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ld(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Gn));else if(l!==4&&(l===27&&Bs(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(ld(t,i,a),t=t.sibling;t!==null;)ld(t,i,a),t=t.sibling}function uc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Bs(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(uc(t,i,a),t=t.sibling;t!==null;)uc(t,i,a),t=t.sibling}function Py(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Gt(i,l,a),i[Tt]=t,i[Ut]=a}catch(d){Xe(t,t.return,d)}}var Zi=!1,Ct=!1,ud=!1,jy=typeof WeakSet=="function"?WeakSet:Set,Pt=null;function Mb(t,i){if(t=t.containerInfo,Nd=Nc,t=Jg(t),tf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,E=-1,I=-1,z=0,Y=0,J=t,B=null;t:for(;;){for(var H;J!==a||h!==0&&J.nodeType!==3||(E=_+h),J!==d||l!==0&&J.nodeType!==3||(I=_+l),J.nodeType===3&&(_+=J.nodeValue.length),(H=J.firstChild)!==null;)B=J,J=H;for(;;){if(J===t)break t;if(B===a&&++z===h&&(E=_),B===d&&++Y===l&&(I=_),(H=J.nextSibling)!==null)break;J=B,B=J.parentNode}J=H}a=E===-1||I===-1?null:{start:E,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(Dd={focusedElem:t,selectionRange:a},Nc=!1,Pt=i;Pt!==null;)if(i=Pt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Pt=t;else for(;Pt!==null;){switch(i=Pt,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ue=Hr(a.type,h);t=l.getSnapshotBeforeUpdate(ue,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ge){Xe(a,a.return,ge)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Vd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Vd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=i.sibling,t!==null){t.return=i.return,Pt=t;break}Pt=i.return}}function zy(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:es(t,a),l&4&&al(5,a);break;case 1:if(es(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){Xe(a,a.return,_)}else{var h=Hr(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Xe(a,a.return,_)}}l&64&&Vy(a),l&512&&ol(a,a.return);break;case 3:if(es(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Sp(t,i)}catch(_){Xe(a,a.return,_)}}break;case 27:i===null&&l&4&&Py(a);case 26:case 5:es(t,a),i===null&&l&4&&Uy(a),l&512&&ol(a,a.return);break;case 12:es(t,a);break;case 31:es(t,a),l&4&&Hy(t,a);break;case 13:es(t,a),l&4&&Fy(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=qb.bind(null,a),lA(t,a))));break;case 22:if(l=a.memoizedState!==null||Zi,!l){i=i!==null&&i.memoizedState!==null||Ct,h=Zi;var d=Ct;Zi=l,(Ct=i)&&!d?ts(t,a,(a.subtreeFlags&8772)!==0):es(t,a),Zi=h,Ct=d}break;case 30:break;default:es(t,a)}}function By(t){var i=t.alternate;i!==null&&(t.alternate=null,By(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ca(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var lt=null,ln=!1;function Wi(t,i,a){for(a=a.child;a!==null;)qy(t,i,a),a=a.sibling}function qy(t,i,a){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(Bn,a)}catch{}switch(a.tag){case 26:Ct||wi(a,i),Wi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ct||wi(a,i);var l=lt,h=ln;Bs(a.type)&&(lt=a.stateNode,ln=!1),Wi(t,i,a),pl(a.stateNode),lt=l,ln=h;break;case 5:Ct||wi(a,i);case 6:if(l=lt,h=ln,lt=null,Wi(t,i,a),lt=l,ln=h,lt!==null)if(ln)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(a.stateNode)}catch(d){Xe(a,i,d)}else try{lt.removeChild(a.stateNode)}catch(d){Xe(a,i,d)}break;case 18:lt!==null&&(ln?(t=lt,V_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Qa(t)):V_(lt,a.stateNode));break;case 4:l=lt,h=ln,lt=a.stateNode.containerInfo,ln=!0,Wi(t,i,a),lt=l,ln=h;break;case 0:case 11:case 14:case 15:Vs(2,a,i),Ct||Vs(4,a,i),Wi(t,i,a);break;case 1:Ct||(wi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&ky(a,i,l)),Wi(t,i,a);break;case 21:Wi(t,i,a);break;case 22:Ct=(l=Ct)||a.memoizedState!==null,Wi(t,i,a),Ct=l;break;default:Wi(t,i,a)}}function Hy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Qa(t)}catch(a){Xe(i,i.return,a)}}}function Fy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Qa(t)}catch(a){Xe(i,i.return,a)}}function Vb(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new jy),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new jy),i;default:throw Error(r(435,t.tag))}}function cc(t,i){var a=Vb(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=Hb.bind(null,t,l);l.then(h,h)}})}function un(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=i,E=_;e:for(;E!==null;){switch(E.tag){case 27:if(Bs(E.type)){lt=E.stateNode,ln=!1;break e}break;case 5:lt=E.stateNode,ln=!1;break e;case 3:case 4:lt=E.stateNode.containerInfo,ln=!0;break e}E=E.return}if(lt===null)throw Error(r(160));qy(d,_,h),lt=null,ln=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Gy(i,t),i=i.sibling}var Jn=null;function Gy(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:un(i,t),cn(t),l&4&&(Vs(3,t,t.return),al(3,t),Vs(5,t,t.return));break;case 1:un(i,t),cn(t),l&512&&(Ct||a===null||wi(a,a.return)),l&64&&Zi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Jn;if(un(i,t),cn(t),l&512&&(Ct||a===null||wi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[hi]||d[Tt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Gt(d,l,a),d[Tt]=t,bt(d),l=d;break e;case"link":var _=G_("link","href",h).get(l+(a.href||""));if(_){for(var E=0;E<_.length;E++)if(d=_[E],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(E,1);break t}}d=h.createElement(l),Gt(d,l,a),h.head.appendChild(d);break;case"meta":if(_=G_("meta","content",h).get(l+(a.content||""))){for(E=0;E<_.length;E++)if(d=_[E],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(E,1);break t}}d=h.createElement(l),Gt(d,l,a),h.head.appendChild(d);break;default:throw Error(r(468,l))}d[Tt]=t,bt(d),l=d}t.stateNode=l}else Y_(h,t.type,t.stateNode);else t.stateNode=F_(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Y_(h,t.type,t.stateNode):F_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&ad(t,t.memoizedProps,a.memoizedProps)}break;case 27:un(i,t),cn(t),l&512&&(Ct||a===null||wi(a,a.return)),a!==null&&l&4&&ad(t,t.memoizedProps,a.memoizedProps);break;case 5:if(un(i,t),cn(t),l&512&&(Ct||a===null||wi(a,a.return)),t.flags&32){h=t.stateNode;try{on(h,"")}catch(ue){Xe(t,t.return,ue)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,ad(t,h,a!==null?a.memoizedProps:h)),l&1024&&(ud=!0);break;case 6:if(un(i,t),cn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ue){Xe(t,t.return,ue)}}break;case 3:if(Rc=null,h=Jn,Jn=Sc(i.containerInfo),un(i,t),Jn=h,cn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Qa(i.containerInfo)}catch(ue){Xe(t,t.return,ue)}ud&&(ud=!1,Yy(t));break;case 4:l=Jn,Jn=Sc(t.stateNode.containerInfo),un(i,t),cn(t),Jn=l;break;case 12:un(i,t),cn(t);break;case 31:un(i,t),cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,cc(t,l)));break;case 13:un(i,t),cn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(fc=tn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,cc(t,l)));break;case 22:h=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,z=Zi,Y=Ct;if(Zi=z||h,Ct=Y||I,un(i,t),Ct=Y,Zi=z,cn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||I||Zi||Ct||Fr(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){I=a=i;try{if(d=I.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{E=I.stateNode;var J=I.memoizedProps.style,B=J!=null&&J.hasOwnProperty("display")?J.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ue){Xe(I,I.return,ue)}}}else if(i.tag===6){if(a===null){I=i;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(ue){Xe(I,I.return,ue)}}}else if(i.tag===18){if(a===null){I=i;try{var H=I.stateNode;h?k_(H,!0):k_(I.stateNode,!1)}catch(ue){Xe(I,I.return,ue)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,cc(t,a))));break;case 19:un(i,t),cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,cc(t,l)));break;case 30:break;case 21:break;default:un(i,t),cn(t)}}function cn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(Ly(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,d=od(t);uc(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(on(_,""),a.flags&=-33);var E=od(t);uc(t,E,_);break;case 3:case 4:var I=a.stateNode.containerInfo,z=od(t);ld(t,z,I);break;default:throw Error(r(161))}}catch(Y){Xe(t,t.return,Y)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Yy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Yy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function es(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)zy(t,i.alternate,i),i=i.sibling}function Fr(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Vs(4,i,i.return),Fr(i);break;case 1:wi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&ky(i,i.return,a),Fr(i);break;case 27:pl(i.stateNode);case 26:case 5:wi(i,i.return),Fr(i);break;case 22:i.memoizedState===null&&Fr(i);break;case 30:Fr(i);break;default:Fr(i)}t=t.sibling}}function ts(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:ts(h,d,a),al(4,d);break;case 1:if(ts(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Xe(l,l.return,z)}if(l=d,h=l.updateQueue,h!==null){var E=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Ap(I[h],E)}catch(z){Xe(l,l.return,z)}}a&&_&64&&Vy(d),ol(d,d.return);break;case 27:Py(d);case 26:case 5:ts(h,d,a),a&&l===null&&_&4&&Uy(d),ol(d,d.return);break;case 12:ts(h,d,a);break;case 31:ts(h,d,a),a&&_&4&&Hy(h,d);break;case 13:ts(h,d,a),a&&_&4&&Fy(h,d);break;case 22:d.memoizedState===null&&ts(h,d,a),ol(d,d.return);break;case 30:break;default:ts(h,d,a)}i=i.sibling}}function cd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Ko(a))}function hd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Ko(t))}function Zn(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Ky(t,i,a,l),i=i.sibling}function Ky(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Zn(t,i,a,l),h&2048&&al(9,i);break;case 1:Zn(t,i,a,l);break;case 3:Zn(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Ko(t)));break;case 12:if(h&2048){Zn(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,E=d.onPostCommit;typeof E=="function"&&E(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){Xe(i,i.return,I)}}else Zn(t,i,a,l);break;case 31:Zn(t,i,a,l);break;case 13:Zn(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?Zn(t,i,a,l):ll(t,i):d._visibility&2?Zn(t,i,a,l):(d._visibility|=2,La(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&cd(_,i);break;case 24:Zn(t,i,a,l),h&2048&&hd(i.alternate,i);break;default:Zn(t,i,a,l)}}function La(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,E=a,I=l,z=_.flags;switch(_.tag){case 0:case 11:case 15:La(d,_,E,I,h),al(8,_);break;case 23:break;case 22:var Y=_.stateNode;_.memoizedState!==null?Y._visibility&2?La(d,_,E,I,h):ll(d,_):(Y._visibility|=2,La(d,_,E,I,h)),h&&z&2048&&cd(_.alternate,_);break;case 24:La(d,_,E,I,h),h&&z&2048&&hd(_.alternate,_);break;default:La(d,_,E,I,h)}i=i.sibling}}function ll(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:ll(a,l),h&2048&&cd(l.alternate,l);break;case 24:ll(a,l),h&2048&&hd(l.alternate,l);break;default:ll(a,l)}i=i.sibling}}var ul=8192;function Pa(t,i,a){if(t.subtreeFlags&ul)for(t=t.child;t!==null;)Qy(t,i,a),t=t.sibling}function Qy(t,i,a){switch(t.tag){case 26:Pa(t,i,a),t.flags&ul&&t.memoizedState!==null&&EA(a,Jn,t.memoizedState,t.memoizedProps);break;case 5:Pa(t,i,a);break;case 3:case 4:var l=Jn;Jn=Sc(t.stateNode.containerInfo),Pa(t,i,a),Jn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=ul,ul=16777216,Pa(t,i,a),ul=l):Pa(t,i,a));break;default:Pa(t,i,a)}}function $y(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function cl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Pt=l,Jy(l,t)}$y(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Xy(t),t=t.sibling}function Xy(t){switch(t.tag){case 0:case 11:case 15:cl(t),t.flags&2048&&Vs(9,t,t.return);break;case 3:cl(t);break;case 12:cl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,hc(t)):cl(t);break;default:cl(t)}}function hc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Pt=l,Jy(l,t)}$y(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Vs(8,i,i.return),hc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,hc(i));break;default:hc(i)}t=t.sibling}}function Jy(t,i){for(;Pt!==null;){var a=Pt;switch(a.tag){case 0:case 11:case 15:Vs(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ko(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Pt=l;else e:for(a=t;Pt!==null;){l=Pt;var h=l.sibling,d=l.return;if(By(l),l===a){Pt=null;break e}if(h!==null){h.return=d,Pt=h;break e}Pt=d}}}var kb={getCacheForType:function(t){var i=Ht(St),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Ht(St).controller.signal}},Ub=typeof WeakMap=="function"?WeakMap:Map,Ye=0,nt=null,Ne=null,Me=0,$e=0,Tn=null,ks=!1,ja=!1,fd=!1,ns=0,ft=0,Us=0,Gr=0,dd=0,bn=0,za=0,hl=null,hn=null,md=!1,fc=0,Zy=0,dc=1/0,mc=null,Ls=null,Mt=0,Ps=null,Ba=null,is=0,gd=0,pd=null,Wy=null,fl=0,yd=null;function An(){return(Ye&2)!==0&&Me!==0?Me&-Me:G.T!==null?Ad():gu()}function e_(){if(bn===0)if((Me&536870912)===0||Pe){var t=_r;_r<<=1,(_r&3932160)===0&&(_r=262144),bn=t}else bn=536870912;return t=vn.current,t!==null&&(t.flags|=32),bn}function fn(t,i,a){(t===nt&&($e===2||$e===9)||t.cancelPendingCommit!==null)&&(qa(t,0),js(t,Me,bn,!1)),vr(t,a),((Ye&2)===0||t!==nt)&&(t===nt&&((Ye&2)===0&&(Gr|=a),ft===4&&js(t,Me,bn,!1)),Ri(t))}function t_(t,i,a){if((Ye&6)!==0)throw Error(r(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||qn(t,i),h=l?jb(t,i):vd(t,i,!0),d=l;do{if(h===0){ja&&!l&&js(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!Lb(a)){h=vd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var E=t;h=hl;var I=E.current.memoizedState.isDehydrated;if(I&&(qa(E,_).flags|=256),_=vd(E,_,!1),_!==2){if(fd&&!I){E.errorRecoveryDisabledLanes|=d,Gr|=d,h=4;break e}d=hn,hn=h,d!==null&&(hn===null?hn=d:hn.push.apply(hn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){qa(t,0),js(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:js(l,i,bn,!ks);break e;case 2:hn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(h=fc+300-tn(),10<h)){if(js(l,i,bn,!ks),li(l,0,!0)!==0)break e;is=i,l.timeoutHandle=O_(n_.bind(null,l,a,hn,mc,md,i,bn,Gr,za,ks,d,"Throttled",-0,0),h);break e}n_(l,a,hn,mc,md,i,bn,Gr,za,ks,d,null,-0,0)}}break}while(!0);Ri(t)}function n_(t,i,a,l,h,d,_,E,I,z,Y,J,B,H){if(t.timeoutHandle=-1,J=i.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Gn},Qy(i,d,J);var ue=(d&62914560)===d?fc-tn():(d&4194048)===d?Zy-tn():0;if(ue=TA(J,ue),ue!==null){is=d,t.cancelPendingCommit=ue(c_.bind(null,t,i,d,a,l,h,_,E,I,Y,J,null,B,H)),js(t,d,_,!z);return}}c_(t,i,d,a,l,h,_,E,I)}function Lb(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!yn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function js(t,i,a,l){i&=~dd,i&=~Gr,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-mt(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&Er(t,a,i)}function gc(){return(Ye&6)===0?(dl(0),!1):!0}function _d(){if(Ne!==null){if($e===0)var t=Ne.return;else t=Ne,Yi=Ur=null,Vf(t),Oa=null,$o=0,t=Ne;for(;t!==null;)My(t.alternate,t),t=t.return;Ne=null}}function qa(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,iA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),is=0,_d(),nt=t,Ne=a=Fi(t.current,null),Me=i,$e=0,Tn=null,ks=!1,ja=qn(t,i),fd=!1,za=bn=dd=Gr=Us=ft=0,hn=hl=null,md=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-mt(l),d=1<<h;i|=t[h],l&=~d}return ns=i,Uu(),a}function i_(t,i){we=null,G.H=il,i===Da||i===Fu?(i=vp(),$e=3):i===bf?(i=vp(),$e=4):$e=i===Xf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Tn=i,Ne===null&&(ft=1,sc(t,On(i,t.current)))}function s_(){var t=vn.current;return t===null?!0:(Me&4194048)===Me?Un===null:(Me&62914560)===Me||(Me&536870912)!==0?t===Un:!1}function r_(){var t=G.H;return G.H=il,t===null?il:t}function a_(){var t=G.A;return G.A=kb,t}function pc(){ft=4,ks||(Me&4194048)!==Me&&vn.current!==null||(ja=!0),(Us&134217727)===0&&(Gr&134217727)===0||nt===null||js(nt,Me,bn,!1)}function vd(t,i,a){var l=Ye;Ye|=2;var h=r_(),d=a_();(nt!==t||Me!==i)&&(mc=null,qa(t,i)),i=!1;var _=ft;e:do try{if($e!==0&&Ne!==null){var E=Ne,I=Tn;switch($e){case 8:_d(),_=6;break e;case 3:case 2:case 9:case 6:vn.current===null&&(i=!0);var z=$e;if($e=0,Tn=null,Ha(t,E,I,z),a&&ja){_=0;break e}break;default:z=$e,$e=0,Tn=null,Ha(t,E,I,z)}}Pb(),_=ft;break}catch(Y){i_(t,Y)}while(!0);return i&&t.shellSuspendCounter++,Yi=Ur=null,Ye=l,G.H=h,G.A=d,Ne===null&&(nt=null,Me=0,Uu()),_}function Pb(){for(;Ne!==null;)o_(Ne)}function jb(t,i){var a=Ye;Ye|=2;var l=r_(),h=a_();nt!==t||Me!==i?(mc=null,dc=tn()+500,qa(t,i)):ja=qn(t,i);e:do try{if($e!==0&&Ne!==null){i=Ne;var d=Tn;t:switch($e){case 1:$e=0,Tn=null,Ha(t,i,d,1);break;case 2:case 9:if(yp(d)){$e=0,Tn=null,l_(i);break}i=function(){$e!==2&&$e!==9||nt!==t||($e=7),Ri(t)},d.then(i,i);break e;case 3:$e=7;break e;case 4:$e=5;break e;case 7:yp(d)?($e=0,Tn=null,l_(i)):($e=0,Tn=null,Ha(t,i,d,7));break;case 5:var _=null;switch(Ne.tag){case 26:_=Ne.memoizedState;case 5:case 27:var E=Ne;if(_?K_(_):E.stateNode.complete){$e=0,Tn=null;var I=E.sibling;if(I!==null)Ne=I;else{var z=E.return;z!==null?(Ne=z,yc(z)):Ne=null}break t}}$e=0,Tn=null,Ha(t,i,d,5);break;case 6:$e=0,Tn=null,Ha(t,i,d,6);break;case 8:_d(),ft=6;break e;default:throw Error(r(462))}}zb();break}catch(Y){i_(t,Y)}while(!0);return Yi=Ur=null,G.H=l,G.A=h,Ye=a,Ne!==null?0:(nt=null,Me=0,Uu(),ft)}function zb(){for(;Ne!==null&&!Qh();)o_(Ne)}function o_(t){var i=Dy(t.alternate,t,ns);t.memoizedProps=t.pendingProps,i===null?yc(t):Ne=i}function l_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=wy(a,i,i.pendingProps,i.type,void 0,Me);break;case 11:i=wy(a,i,i.pendingProps,i.type.render,i.ref,Me);break;case 5:Vf(i);default:My(a,i),i=Ne=ap(i,ns),i=Dy(a,i,ns)}t.memoizedProps=t.pendingProps,i===null?yc(t):Ne=i}function Ha(t,i,a,l){Yi=Ur=null,Vf(i),Oa=null,$o=0;var h=i.return;try{if(xb(t,h,i,a,Me)){ft=1,sc(t,On(a,t.current)),Ne=null;return}}catch(d){if(h!==null)throw Ne=h,d;ft=1,sc(t,On(a,t.current)),Ne=null;return}i.flags&32768?(Pe||l===1?t=!0:ja||(Me&536870912)!==0?t=!1:(ks=t=!0,(l===2||l===9||l===3||l===6)&&(l=vn.current,l!==null&&l.tag===13&&(l.flags|=16384))),u_(i,t)):yc(i)}function yc(t){var i=t;do{if((i.flags&32768)!==0){u_(i,ks);return}t=i.return;var a=Db(i.alternate,i,ns);if(a!==null){Ne=a;return}if(i=i.sibling,i!==null){Ne=i;return}Ne=i=t}while(i!==null);ft===0&&(ft=5)}function u_(t,i){do{var a=Ob(t.alternate,t);if(a!==null){a.flags&=32767,Ne=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=a}while(t!==null);ft=6,Ne=null}function c_(t,i,a,l,h,d,_,E,I){t.cancelPendingCommit=null;do _c();while(Mt!==0);if((Ye&6)!==0)throw Error(r(327));if(i!==null){if(i===t.current)throw Error(r(177));if(d=i.lanes|i.childLanes,d|=of,Jh(t,a,d,_,E,I),t===nt&&(Ne=nt=null,Me=0),Ba=i,Ps=t,is=a,gd=d,pd=h,Wy=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Fb(gs,function(){return g_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,h=se.p,se.p=2,_=Ye,Ye|=4;try{Mb(t,i,a)}finally{Ye=_,se.p=h,G.T=l}}Mt=1,h_(),f_(),d_()}}function h_(){if(Mt===1){Mt=0;var t=Ps,i=Ba,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var l=se.p;se.p=2;var h=Ye;Ye|=4;try{Gy(i,t);var d=Dd,_=Jg(t.containerInfo),E=d.focusedElem,I=d.selectionRange;if(_!==E&&E&&E.ownerDocument&&Xg(E.ownerDocument.documentElement,E)){if(I!==null&&tf(E)){var z=I.start,Y=I.end;if(Y===void 0&&(Y=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(Y,E.value.length);else{var J=E.ownerDocument||document,B=J&&J.defaultView||window;if(B.getSelection){var H=B.getSelection(),ue=E.textContent.length,ge=Math.min(I.start,ue),et=I.end===void 0?ge:Math.min(I.end,ue);!H.extend&&ge>et&&(_=et,et=ge,ge=_);var U=$g(E,ge),M=$g(E,et);if(U&&M&&(H.rangeCount!==1||H.anchorNode!==U.node||H.anchorOffset!==U.offset||H.focusNode!==M.node||H.focusOffset!==M.offset)){var j=J.createRange();j.setStart(U.node,U.offset),H.removeAllRanges(),ge>et?(H.addRange(j),H.extend(M.node,M.offset)):(j.setEnd(M.node,M.offset),H.addRange(j))}}}}for(J=[],H=E;H=H.parentNode;)H.nodeType===1&&J.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<J.length;E++){var Q=J[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Nc=!!Nd,Dd=Nd=null}finally{Ye=h,se.p=l,G.T=a}}t.current=i,Mt=2}}function f_(){if(Mt===2){Mt=0;var t=Ps,i=Ba,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var l=se.p;se.p=2;var h=Ye;Ye|=4;try{zy(t,i.alternate,i)}finally{Ye=h,se.p=l,G.T=a}}Mt=3}}function d_(){if(Mt===4||Mt===3){Mt=0,lu();var t=Ps,i=Ba,a=is,l=Wy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Mt=5:(Mt=0,Ba=Ps=null,m_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ls=null),zi(a),i=i.stateNode,zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(Bn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=G.T,h=se.p,se.p=2,G.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var E=l[_];d(E.value,{componentStack:E.stack})}}finally{G.T=i,se.p=h}}(is&3)!==0&&_c(),Ri(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===yd?fl++:(fl=0,yd=t):fl=0,dl(0)}}function m_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Ko(i)))}function _c(){return h_(),f_(),d_(),g_()}function g_(){if(Mt!==5)return!1;var t=Ps,i=gd;gd=0;var a=zi(is),l=G.T,h=se.p;try{se.p=32>a?32:a,G.T=null,a=pd,pd=null;var d=Ps,_=is;if(Mt=0,Ba=Ps=null,is=0,(Ye&6)!==0)throw Error(r(331));var E=Ye;if(Ye|=4,Xy(d.current),Ky(d,d.current,_,a),Ye=E,dl(0,!1),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(Bn,d)}catch{}return!0}finally{se.p=h,G.T=l,m_(t,i)}}function p_(t,i,a){i=On(a,i),i=$f(t.stateNode,i,2),t=Ds(t,i,2),t!==null&&(vr(t,2),Ri(t))}function Xe(t,i,a){if(t.tag===3)p_(t,t,a);else for(;i!==null;){if(i.tag===3){p_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ls===null||!Ls.has(l))){t=On(a,t),a=yy(2),l=Ds(i,a,2),l!==null&&(_y(a,l,i,t),vr(l,2),Ri(l));break}}i=i.return}}function Ed(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new Ub;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(fd=!0,h.add(a),t=Bb.bind(null,t,i,a),i.then(t,t))}function Bb(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,nt===t&&(Me&a)===a&&(ft===4||ft===3&&(Me&62914560)===Me&&300>tn()-fc?(Ye&2)===0&&qa(t,0):dd|=a,za===Me&&(za=0)),Ri(t)}function y_(t,i){i===0&&(i=mu()),t=Mr(t,i),t!==null&&(vr(t,i),Ri(t))}function qb(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),y_(t,a)}function Hb(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(i),y_(t,a)}function Fb(t,i){return Ot(t,i)}var vc=null,Fa=null,Td=!1,Ec=!1,bd=!1,zs=0;function Ri(t){t!==Fa&&t.next===null&&(Fa===null?vc=Fa=t:Fa=Fa.next=t),Ec=!0,Td||(Td=!0,Yb())}function dl(t,i){if(!bd&&Ec){bd=!0;do for(var a=!1,l=vc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,E=l.pingedLanes;d=(1<<31-mt(42|t)+1)-1,d&=h&~(_&~E),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,T_(l,d))}else d=Me,d=li(l,l===nt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||qn(l,d)||(a=!0,T_(l,d));l=l.next}while(a);bd=!1}}function Gb(){__()}function __(){Ec=Td=!1;var t=0;zs!==0&&nA()&&(t=zs);for(var i=tn(),a=null,l=vc;l!==null;){var h=l.next,d=v_(l,i);d===0?(l.next=null,a===null?vc=h:a.next=h,h===null&&(Fa=a)):(a=l,(t!==0||(d&3)!==0)&&(Ec=!0)),l=h}Mt!==0&&Mt!==5||dl(t),zs!==0&&(zs=0)}function v_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-mt(d),E=1<<_,I=h[_];I===-1?((E&a)===0||(E&l)!==0)&&(h[_]=Xh(E,i)):I<=i&&(t.expiredLanes|=E),d&=~E}if(i=nt,a=Me,a=li(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&($e===2||$e===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ms(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||qn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&ms(l),zi(a)){case 2:case 8:a=Ao;break;case 32:a=gs;break;case 268435456:a=uu;break;default:a=gs}return l=E_.bind(null,t),a=Ot(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&ms(l),t.callbackPriority=2,t.callbackNode=null,2}function E_(t,i){if(Mt!==0&&Mt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(_c()&&t.callbackNode!==a)return null;var l=Me;return l=li(t,t===nt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(t_(t,l,i),v_(t,tn()),t.callbackNode!=null&&t.callbackNode===a?E_.bind(null,t):null)}function T_(t,i){if(_c())return null;t_(t,i,!0)}function Yb(){sA(function(){(Ye&6)!==0?Ot(bo,Gb):__()})}function Ad(){if(zs===0){var t=Ia;t===0&&(t=ai,ai<<=1,(ai&261888)===0&&(ai=256)),zs=t}return zs}function b_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ma(""+t)}function A_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function Kb(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=b_((h[Ut]||null).action),_=l.submitter;_&&(i=(i=_[Ut]||null)?b_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var E=new vi("action","action",null,l,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(zs!==0){var I=_?A_(h,_):new FormData(h);Hf(a,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(E.preventDefault(),I=_?A_(h,_):new FormData(h),Hf(a,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var Sd=0;Sd<af.length;Sd++){var wd=af[Sd],Qb=wd.toLowerCase(),$b=wd[0].toUpperCase()+wd.slice(1);Xn(Qb,"on"+$b)}Xn(ep,"onAnimationEnd"),Xn(tp,"onAnimationIteration"),Xn(np,"onAnimationStart"),Xn("dblclick","onDoubleClick"),Xn("focusin","onFocus"),Xn("focusout","onBlur"),Xn(hb,"onTransitionRun"),Xn(fb,"onTransitionStart"),Xn(db,"onTransitionCancel"),Xn(ip,"onTransitionEnd"),gi("onMouseEnter",["mouseout","mouseover"]),gi("onMouseLeave",["mouseout","mouseover"]),gi("onPointerEnter",["pointerout","pointerover"]),gi("onPointerLeave",["pointerout","pointerover"]),mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mi("onBeforeInput",["compositionend","keypress","textInput","paste"]),mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ml));function S_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var E=l[_],I=E.instance,z=E.currentTarget;if(E=E.listener,I!==d&&h.isPropagationStopped())break e;d=E,h.currentTarget=z;try{d(h)}catch(Y){ku(Y)}h.currentTarget=null,d=I}else for(_=0;_<l.length;_++){if(E=l[_],I=E.instance,z=E.currentTarget,E=E.listener,I!==d&&h.isPropagationStopped())break e;d=E,h.currentTarget=z;try{d(h)}catch(Y){ku(Y)}h.currentTarget=null,d=I}}}}function De(t,i){var a=i[ua];a===void 0&&(a=i[ua]=new Set);var l=t+"__bubble";a.has(l)||(w_(i,t,2,!1),a.add(l))}function Rd(t,i,a){var l=0;i&&(l|=4),w_(a,t,l,i)}var Tc="_reactListening"+Math.random().toString(36).slice(2);function Cd(t){if(!t[Tc]){t[Tc]=!0,Ro.forEach(function(a){a!=="selectionchange"&&(Xb.has(a)||Rd(a,!1,t),Rd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Tc]||(i[Tc]=!0,Rd("selectionchange",!1,i))}}function w_(t,i,a,l){switch(e0(i)){case 2:var h=SA;break;case 8:h=wA;break;default:h=qd}a=h.bind(null,i,a,t),h=void 0,!wr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function xd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var E=l.stateNode.containerInfo;if(E===h)break;if(_===4)for(_=l.return;_!==null;){var I=_.tag;if((I===3||I===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;E!==null;){if(_=fi(E),_===null)return;if(I=_.tag,I===5||I===6||I===26||I===27){l=d=_;continue e}E=E.parentNode}}l=l.return}Ts(function(){var z=d,Y=xn(a),J=[];e:{var B=sp.get(t);if(B!==void 0){var H=vi,ue=t;switch(t){case"keypress":if(Cr(a)===0)break e;case"keydown":case"keyup":H=Ou;break;case"focusin":ue="focus",H=Ir;break;case"focusout":ue="blur",H=Ir;break;case"beforeblur":case"afterblur":H=Ir;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=jo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Au;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case ep:case tp:case np:H=wu;break;case ip:H=A;break;case"scroll":case"scrollend":H=Po;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=Ru;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Hi;break;case"toggle":case"beforetoggle":H=Se}var ge=(i&4)!==0,et=!ge&&(t==="scroll"||t==="scrollend"),U=ge?B!==null?B+"Capture":null:B;ge=[];for(var M=z,j;M!==null;){var Q=M;if(j=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||j===null||U===null||(Q=Yn(M,U),Q!=null&&ge.push(gl(M,Q,j))),et)break;M=M.return}0<ge.length&&(B=new H(B,ue,null,a,Y),J.push({event:B,listeners:ge}))}}if((i&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",B&&a!==ko&&(ue=a.relatedTarget||a.fromElement)&&(fi(ue)||ue[ci]))break e;if((H||B)&&(B=Y.window===Y?Y:(B=Y.ownerDocument)?B.defaultView||B.parentWindow:window,H?(ue=a.relatedTarget||a.toElement,H=z,ue=ue?fi(ue):null,ue!==null&&(et=u(ue),ge=ue.tag,ue!==et||ge!==5&&ge!==27&&ge!==6)&&(ue=null)):(H=null,ue=z),H!==ue)){if(ge=jo,Q="onMouseLeave",U="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(ge=Hi,Q="onPointerLeave",U="onPointerEnter",M="pointer"),et=H==null?B:gn(H),j=ue==null?B:gn(ue),B=new ge(Q,M+"leave",H,a,Y),B.target=et,B.relatedTarget=j,Q=null,fi(Y)===z&&(ge=new ge(U,M+"enter",ue,a,Y),ge.target=j,ge.relatedTarget=et,Q=ge),et=Q,H&&ue)t:{for(ge=Jb,U=H,M=ue,j=0,Q=U;Q;Q=ge(Q))j++;Q=0;for(var de=M;de;de=ge(de))Q++;for(;0<j-Q;)U=ge(U),j--;for(;0<Q-j;)M=ge(M),Q--;for(;j--;){if(U===M||M!==null&&U===M.alternate){ge=U;break t}U=ge(U),M=ge(M)}ge=null}else ge=null;H!==null&&R_(J,B,H,ge,!1),ue!==null&&et!==null&&R_(J,et,ue,ge,!0)}}e:{if(B=z?gn(z):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var He=Hg;else if(Bg(B))if(Fg)He=lb;else{He=ab;var he=rb}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&da(z.elementType)&&(He=Hg):He=ob;if(He&&(He=He(t,z))){qg(J,He,a,Y);break e}he&&he(t,B,z),t==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&Oo(B,"number",B.value)}switch(he=z?gn(z):window,t){case"focusin":(Bg(he)||he.contentEditable==="true")&&(Ta=he,nf=z,Fo=null);break;case"focusout":Fo=nf=Ta=null;break;case"mousedown":sf=!0;break;case"contextmenu":case"mouseup":case"dragend":sf=!1,Zg(J,a,Y);break;case"selectionchange":if(cb)break;case"keydown":case"keyup":Zg(J,a,Y)}var Ce;if(Ge)e:{switch(t){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else Ea?Nr(t,a)&&(Ve="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ve="onCompositionStart");Ve&&(bi&&a.locale!=="ko"&&(Ea||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&Ea&&(Ce=Lo()):(_i=Y,Uo="value"in _i?_i.value:_i.textContent,Ea=!0)),he=bc(z,Ve),0<he.length&&(Ve=new Ti(Ve,t,null,a,Y),J.push({event:Ve,listeners:he}),Ce?Ve.data=Ce:(Ce=va(a),Ce!==null&&(Ve.data=Ce)))),(Ce=Nn?tb(t,a):nb(t,a))&&(Ve=bc(z,"onBeforeInput"),0<Ve.length&&(he=new Ti("onBeforeInput","beforeinput",null,a,Y),J.push({event:he,listeners:Ve}),he.data=Ce)),Kb(J,t,z,a,Y)}S_(J,i)})}function gl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function bc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Yn(t,a),h!=null&&l.unshift(gl(t,h,d)),h=Yn(t,i),h!=null&&l.push(gl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Jb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function R_(t,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var E=a,I=E.alternate,z=E.stateNode;if(E=E.tag,I!==null&&I===l)break;E!==5&&E!==26&&E!==27||z===null||(I=z,h?(z=Yn(a,d),z!=null&&_.unshift(gl(a,z,I))):h||(z=Yn(a,d),z!=null&&_.push(gl(a,z,I)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var Zb=/\r\n?/g,Wb=/\u0000|\uFFFD/g;function C_(t){return(typeof t=="string"?t:""+t).replace(Zb,`
`).replace(Wb,"")}function x_(t,i){return i=C_(i),C_(t)===i}function We(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||on(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&on(t,""+l);break;case"className":pn(t,"class",l);break;case"tabIndex":pn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":pn(t,a,l);break;case"style":Vo(t,l,d);break;case"data":if(i!=="object"){pn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ma(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&We(t,i,"name",h.name,h,null),We(t,i,"formEncType",h.formEncType,h,null),We(t,i,"formMethod",h.formMethod,h,null),We(t,i,"formTarget",h.formTarget,h,null)):(We(t,i,"encType",h.encType,h,null),We(t,i,"method",h.method,h,null),We(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ma(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Gn);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ma(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":De("beforetoggle",t),De("toggle",t),ha(t,"popover",l);break;case"xlinkActuate":At(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":At(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":At(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":At(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":At(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":At(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":At(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":At(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":At(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ha(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=bu.get(a)||a,ha(t,a,l))}}function Id(t,i,a,l,h,d){switch(a){case"style":Vo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?on(t,l):(typeof l=="number"||typeof l=="bigint")&&on(t,""+l);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Gn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Co.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[Ut]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ha(t,a,l)}}}function Gt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",t),De("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:We(t,i,d,_,a,null)}}h&&We(t,i,"srcSet",a.srcSet,a,null),l&&We(t,i,"src",a.src,a,null);return;case"input":De("invalid",t);var E=d=_=h=null,I=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":h=Y;break;case"type":_=Y;break;case"checked":I=Y;break;case"defaultChecked":z=Y;break;case"value":d=Y;break;case"defaultValue":E=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,i));break;default:We(t,i,l,Y,a,null)}}vu(t,d,E,I,z,_,h,!1);return;case"select":De("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":d=E;break;case"defaultValue":_=E;break;case"multiple":l=E;default:We(t,i,h,E,a,null)}i=d,a=_,t.multiple=!!l,i!=null?ys(t,!!l,i,!1):a!=null&&ys(t,!!l,a,!0);return;case"textarea":De("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(E=a[_],E!=null))switch(_){case"value":l=E;break;case"defaultValue":h=E;break;case"children":d=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:We(t,i,_,E,a,null)}_s(t,l,h,d);return;case"option":for(I in a)a.hasOwnProperty(I)&&(l=a[I],l!=null)&&(I==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":We(t,i,I,l,a,null));return;case"dialog":De("beforetoggle",t),De("toggle",t),De("cancel",t),De("close",t);break;case"iframe":case"object":De("load",t);break;case"video":case"audio":for(l=0;l<ml.length;l++)De(ml[l],t);break;case"image":De("error",t),De("load",t);break;case"details":De("toggle",t);break;case"embed":case"source":case"link":De("error",t),De("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:We(t,i,z,l,a,null)}return;default:if(da(i)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&Id(t,i,Y,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&We(t,i,E,l,a,null))}function eA(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,E=null,I=null,z=null,Y=null;for(H in a){var J=a[H];if(a.hasOwnProperty(H)&&J!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":I=J;default:l.hasOwnProperty(H)||We(t,i,H,null,l,J)}}for(var B in l){var H=l[B];if(J=a[B],l.hasOwnProperty(B)&&(H!=null||J!=null))switch(B){case"type":d=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":Y=H;break;case"value":_=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,i));break;default:H!==J&&We(t,i,B,H,l,J)}}fa(t,_,E,I,z,Y,d,h);return;case"select":H=_=E=B=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":H=I;default:l.hasOwnProperty(d)||We(t,i,d,null,l,I)}for(h in l)if(d=l[h],I=a[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":B=d;break;case"defaultValue":E=d;break;case"multiple":_=d;default:d!==I&&We(t,i,h,d,l,I)}i=E,a=_,l=H,B!=null?ys(t,!!a,B,!1):!!l!=!!a&&(i!=null?ys(t,!!a,i,!0):ys(t,!!a,a?[]:"",!1));return;case"textarea":H=B=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:We(t,i,E,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==d&&We(t,i,_,h,l,d)}Eu(t,B,H);return;case"option":for(var ue in a)B=a[ue],a.hasOwnProperty(ue)&&B!=null&&!l.hasOwnProperty(ue)&&(ue==="selected"?t.selected=!1:We(t,i,ue,null,l,B));for(I in l)B=l[I],H=a[I],l.hasOwnProperty(I)&&B!==H&&(B!=null||H!=null)&&(I==="selected"?t.selected=B&&typeof B!="function"&&typeof B!="symbol":We(t,i,I,B,l,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ge in a)B=a[ge],a.hasOwnProperty(ge)&&B!=null&&!l.hasOwnProperty(ge)&&We(t,i,ge,null,l,B);for(z in l)if(B=l[z],H=a[z],l.hasOwnProperty(z)&&B!==H&&(B!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,i));break;default:We(t,i,z,B,l,H)}return;default:if(da(i)){for(var et in a)B=a[et],a.hasOwnProperty(et)&&B!==void 0&&!l.hasOwnProperty(et)&&Id(t,i,et,void 0,l,B);for(Y in l)B=l[Y],H=a[Y],!l.hasOwnProperty(Y)||B===H||B===void 0&&H===void 0||Id(t,i,Y,B,l,H);return}}for(var U in a)B=a[U],a.hasOwnProperty(U)&&B!=null&&!l.hasOwnProperty(U)&&We(t,i,U,null,l,B);for(J in l)B=l[J],H=a[J],!l.hasOwnProperty(J)||B===H||B==null&&H==null||We(t,i,J,B,l,H)}function I_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function tA(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,E=h.duration;if(d&&E&&I_(_)){for(_=0,E=h.responseEnd,l+=1;l<a.length;l++){var I=a[l],z=I.startTime;if(z>E)break;var Y=I.transferSize,J=I.initiatorType;Y&&I_(J)&&(I=I.responseEnd,_+=Y*(I<E?1:(E-z)/(I-z)))}if(--l,i+=8*(d+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Nd=null,Dd=null;function Ac(t){return t.nodeType===9?t:t.ownerDocument}function N_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function D_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Od(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Md=null;function nA(){var t=window.event;return t&&t.type==="popstate"?t===Md?!1:(Md=t,!0):(Md=null,!1)}var O_=typeof setTimeout=="function"?setTimeout:void 0,iA=typeof clearTimeout=="function"?clearTimeout:void 0,M_=typeof Promise=="function"?Promise:void 0,sA=typeof queueMicrotask=="function"?queueMicrotask:typeof M_<"u"?function(t){return M_.resolve(null).then(t).catch(rA)}:O_;function rA(t){setTimeout(function(){throw t})}function Bs(t){return t==="head"}function V_(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),Qa(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")pl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,pl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,E=d.nodeName;d[hi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&pl(t.ownerDocument.body);a=h}while(a);Qa(i)}function k_(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Vd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Vd(a),ca(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function aA(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[hi])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Ln(t.nextSibling),t===null)break}return null}function oA(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Ln(t.nextSibling),t===null))return null;return t}function U_(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Ln(t.nextSibling),t===null))return null;return t}function kd(t){return t.data==="$?"||t.data==="$~"}function Ud(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function lA(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Ln(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Ld=null;function L_(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Ln(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function P_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function j_(t,i,a){switch(i=Ac(a),t){case"html":if(t=i.documentElement,!t)throw Error(r(452));return t;case"head":if(t=i.head,!t)throw Error(r(453));return t;case"body":if(t=i.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function pl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ca(t)}var Pn=new Map,z_=new Set;function Sc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ss=se.d;se.d={f:uA,r:cA,D:hA,C:fA,L:dA,m:mA,X:pA,S:gA,M:yA};function uA(){var t=ss.f(),i=gc();return t||i}function cA(t){var i=Cn(t);i!==null&&i.tag===5&&i.type==="form"?iy(i):ss.r(t)}var Ga=typeof document>"u"?null:document;function B_(t,i,a){var l=Ga;if(l&&typeof i=="string"&&i){var h=an(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),z_.has(h)||(z_.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Gt(i,"link",t),bt(i),l.head.appendChild(i)))}}function hA(t){ss.D(t),B_("dns-prefetch",t,null)}function fA(t,i){ss.C(t,i),B_("preconnect",t,i)}function dA(t,i,a){ss.L(t,i,a);var l=Ga;if(l&&t&&i){var h='link[rel="preload"][as="'+an(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+an(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+an(a.imageSizes)+'"]')):h+='[href="'+an(t)+'"]';var d=h;switch(i){case"style":d=Ya(t);break;case"script":d=Ka(t)}Pn.has(d)||(t=S({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Pn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(yl(d))||i==="script"&&l.querySelector(_l(d))||(i=l.createElement("link"),Gt(i,"link",t),bt(i),l.head.appendChild(i)))}}function mA(t,i){ss.m(t,i);var a=Ga;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+an(l)+'"][href="'+an(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ka(t)}if(!Pn.has(d)&&(t=S({rel:"modulepreload",href:t},i),Pn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(_l(d)))return}l=a.createElement("link"),Gt(l,"link",t),bt(l),a.head.appendChild(l)}}}function gA(t,i,a){ss.S(t,i,a);var l=Ga;if(l&&t){var h=di(l).hoistableStyles,d=Ya(t);i=i||"default";var _=h.get(d);if(!_){var E={loading:0,preload:null};if(_=l.querySelector(yl(d)))E.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Pn.get(d))&&Pd(t,a);var I=_=l.createElement("link");bt(I),Gt(I,"link",t),I._p=new Promise(function(z,Y){I.onload=z,I.onerror=Y}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,wc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:E},h.set(d,_)}}}function pA(t,i){ss.X(t,i);var a=Ga;if(a&&t){var l=di(a).hoistableScripts,h=Ka(t),d=l.get(h);d||(d=a.querySelector(_l(h)),d||(t=S({src:t,async:!0},i),(i=Pn.get(h))&&jd(t,i),d=a.createElement("script"),bt(d),Gt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function yA(t,i){ss.M(t,i);var a=Ga;if(a&&t){var l=di(a).hoistableScripts,h=Ka(t),d=l.get(h);d||(d=a.querySelector(_l(h)),d||(t=S({src:t,async:!0,type:"module"},i),(i=Pn.get(h))&&jd(t,i),d=a.createElement("script"),bt(d),Gt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function q_(t,i,a,l){var h=(h=Ee.current)?Sc(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ya(a.href),a=di(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ya(a.href);var d=di(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(yl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Pn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Pn.set(t,a),d||_A(h,t,a,_.state))),i&&l===null)throw Error(r(528,""));return _}if(i&&l!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ka(a),a=di(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Ya(t){return'href="'+an(t)+'"'}function yl(t){return'link[rel="stylesheet"]['+t+"]"}function H_(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function _A(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Gt(i,"link",a),bt(i),t.head.appendChild(i))}function Ka(t){return'[src="'+an(t)+'"]'}function _l(t){return"script[async]"+t}function F_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+an(a.href)+'"]');if(l)return i.instance=l,bt(l),l;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),bt(l),Gt(l,"style",h),wc(l,a.precedence,t),i.instance=l;case"stylesheet":h=Ya(a.href);var d=t.querySelector(yl(h));if(d)return i.state.loading|=4,i.instance=d,bt(d),d;l=H_(a),(h=Pn.get(h))&&Pd(l,h),d=(t.ownerDocument||t).createElement("link"),bt(d);var _=d;return _._p=new Promise(function(E,I){_.onload=E,_.onerror=I}),Gt(d,"link",l),i.state.loading|=4,wc(d,a.precedence,t),i.instance=d;case"script":return d=Ka(a.src),(h=t.querySelector(_l(d)))?(i.instance=h,bt(h),h):(l=a,(h=Pn.get(d))&&(l=S({},a),jd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),bt(h),Gt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,wc(l,a.precedence,t));return i.instance}function wc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var E=l[_];if(E.dataset.precedence===i)d=E;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Pd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function jd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Rc=null;function G_(t,i,a){if(Rc===null){var l=new Map,h=Rc=new Map;h.set(a,l)}else h=Rc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[hi]||d[Tt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var E=l.get(_);E?E.push(d):l.set(_,[d])}}return l}function Y_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function vA(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function K_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function EA(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ya(l.href),d=i.querySelector(yl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Cc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,bt(d);return}d=i.ownerDocument||i,l=H_(l),(h=Pn.get(h))&&Pd(l,h),d=d.createElement("link"),bt(d);var _=d;_._p=new Promise(function(E,I){_.onload=E,_.onerror=I}),Gt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Cc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var zd=0;function TA(t,i){return t.stylesheets&&t.count===0&&Ic(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Ic(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&zd===0&&(zd=62500*tA());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Ic(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>zd?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Cc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ic(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var xc=null;function Ic(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,xc=new Map,i.forEach(bA,t),xc=null,Cc.call(t))}function bA(t,i){if(!(i.state.loading&4)){var a=xc.get(t);if(a)var l=a.get(null);else{a=new Map,xc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Cc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var vl={$$typeof:le,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function AA(t,i,a,l,h,d,_,E,I){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ui(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ui(0),this.hiddenUpdates=ui(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function Q_(t,i,a,l,h,d,_,E,I,z,Y,J){return t=new AA(t,i,a,_,I,z,Y,J,E),i=1,d===!0&&(i|=24),d=_n(3,null,null,i),t.current=d,d.stateNode=t,i=vf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Af(d),t}function $_(t){return t?(t=Sa,t):Sa}function X_(t,i,a,l,h,d){h=$_(h),l.context===null?l.context=h:l.pendingContext=h,l=Ns(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Ds(t,l,i),a!==null&&(fn(a,t,i),Jo(a,t,i))}function J_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Bd(t,i){J_(t,i),(t=t.alternate)&&J_(t,i)}function Z_(t){if(t.tag===13||t.tag===31){var i=Mr(t,67108864);i!==null&&fn(i,t,67108864),Bd(t,67108864)}}function W_(t){if(t.tag===13||t.tag===31){var i=An();i=Tr(i);var a=Mr(t,i);a!==null&&fn(a,t,i),Bd(t,i)}}var Nc=!0;function SA(t,i,a,l){var h=G.T;G.T=null;var d=se.p;try{se.p=2,qd(t,i,a,l)}finally{se.p=d,G.T=h}}function wA(t,i,a,l){var h=G.T;G.T=null;var d=se.p;try{se.p=8,qd(t,i,a,l)}finally{se.p=d,G.T=h}}function qd(t,i,a,l){if(Nc){var h=Hd(l);if(h===null)xd(t,i,l,Dc,a),t0(t,l);else if(CA(h,t,i,a,l))l.stopPropagation();else if(t0(t,l),i&4&&-1<RA.indexOf(t)){for(;h!==null;){var d=Cn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=oi(d.pendingLanes);if(_!==0){var E=d;for(E.pendingLanes|=2,E.entangledLanes|=2;_;){var I=1<<31-mt(_);E.entanglements[1]|=I,_&=~I}Ri(d),(Ye&6)===0&&(dc=tn()+500,dl(0))}}break;case 31:case 13:E=Mr(d,2),E!==null&&fn(E,d,2),gc(),Bd(d,2)}if(d=Hd(l),d===null&&xd(t,i,l,Dc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else xd(t,i,l,null,a)}}function Hd(t){return t=xn(t),Fd(t)}var Dc=null;function Fd(t){if(Dc=null,t=fi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=g(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Dc=t,null}function e0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(yr()){case bo:return 2;case Ao:return 8;case gs:case $h:return 32;case uu:return 268435456;default:return 32}default:return 32}}var Gd=!1,qs=null,Hs=null,Fs=null,El=new Map,Tl=new Map,Gs=[],RA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function t0(t,i){switch(t){case"focusin":case"focusout":qs=null;break;case"dragenter":case"dragleave":Hs=null;break;case"mouseover":case"mouseout":Fs=null;break;case"pointerover":case"pointerout":El.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tl.delete(i.pointerId)}}function bl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Cn(i),i!==null&&Z_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function CA(t,i,a,l,h){switch(i){case"focusin":return qs=bl(qs,t,i,a,l,h),!0;case"dragenter":return Hs=bl(Hs,t,i,a,l,h),!0;case"mouseover":return Fs=bl(Fs,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return El.set(d,bl(El.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Tl.set(d,bl(Tl.get(d)||null,t,i,a,l,h)),!0}return!1}function n0(t){var i=fi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Hn(t.priority,function(){W_(a)});return}}else if(i===31){if(i=g(a),i!==null){t.blockedOn=i,Hn(t.priority,function(){W_(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Oc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Hd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);ko=l,a.target.dispatchEvent(l),ko=null}else return i=Cn(a),i!==null&&Z_(i),t.blockedOn=a,!1;i.shift()}return!0}function i0(t,i,a){Oc(t)&&a.delete(i)}function xA(){Gd=!1,qs!==null&&Oc(qs)&&(qs=null),Hs!==null&&Oc(Hs)&&(Hs=null),Fs!==null&&Oc(Fs)&&(Fs=null),El.forEach(i0),Tl.forEach(i0)}function Mc(t,i){t.blockedOn===i&&(t.blockedOn=null,Gd||(Gd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,xA)))}var Vc=null;function s0(t){Vc!==t&&(Vc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Vc===t&&(Vc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(Fd(l||a)===null)continue;break}var d=Cn(a);d!==null&&(t.splice(i,3),i-=3,Hf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Qa(t){function i(I){return Mc(I,t)}qs!==null&&Mc(qs,t),Hs!==null&&Mc(Hs,t),Fs!==null&&Mc(Fs,t),El.forEach(i),Tl.forEach(i);for(var a=0;a<Gs.length;a++){var l=Gs[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Gs.length&&(a=Gs[0],a.blockedOn===null);)n0(a),a.blockedOn===null&&Gs.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[Ut]||null;if(typeof d=="function")_||s0(a);else if(_){var E=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Ut]||null)E=_.formAction;else if(Fd(h)!==null)continue}else E=_.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),s0(a)}}}function r0(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function Yd(t){this._internalRoot=t}kc.prototype.render=Yd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,l=An();X_(a,l,t,i,null,null)},kc.prototype.unmount=Yd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;X_(t.current,2,null,t,null,null),gc(),i[ci]=null}};function kc(t){this._internalRoot=t}kc.prototype.unstable_scheduleHydration=function(t){if(t){var i=gu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Gs.length&&i!==0&&i<Gs[a].priority;a++);Gs.splice(a,0,t),a===0&&n0(t)}};var a0=e.version;if(a0!=="19.2.3")throw Error(r(527,a0,"19.2.3"));se.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=y(i),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var IA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uc.isDisabled&&Uc.supportsFiber)try{Bn=Uc.inject(IA),zt=Uc}catch{}}return Sl.createRoot=function(t,i){if(!o(t))throw Error(r(299));var a=!1,l="",h=dy,d=my,_=gy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=Q_(t,1,!1,null,null,a,l,null,h,d,_,r0),t[ci]=i.current,Cd(t),new Yd(i)},Sl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(r(299));var l=!1,h="",d=dy,_=my,E=gy,I=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(I=a.formState)),i=Q_(t,1,!0,i,a??null,l,h,I,d,_,E,r0),i.context=$_(null),a=i.current,l=An(),l=Tr(l),h=Ns(l),h.callback=null,Ds(a,h,l),a=l,i.current.lanes=a,vr(i,a),Ri(i),t[ci]=i.current,Cd(t),new kc(i)},Sl.version="19.2.3",Sl}var p0;function jA(){if(p0)return $d.exports;p0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),$d.exports=PA(),$d.exports}var zA=jA();const BA=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),qA=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),y0=s=>{const e=qA(s);return e.charAt(0).toUpperCase()+e.slice(1)},EE=(...s)=>s.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),HA=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var FA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const GA=qe.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:u,iconNode:f,...g},p)=>qe.createElement("svg",{ref:p,...FA,width:e,height:e,stroke:s,strokeWidth:r?Number(n)*24/Number(e):n,className:EE("lucide",o),...!u&&!HA(g)&&{"aria-hidden":"true"},...g},[...f.map(([y,b])=>qe.createElement(y,b)),...Array.isArray(u)?u:[u]]));const je=(s,e)=>{const n=qe.forwardRef(({className:r,...o},u)=>qe.createElement(GA,{ref:u,iconNode:e,className:EE(`lucide-${BA(y0(s))}`,`lucide-${s}`,r),...o}));return n.displayName=y0(s),n};const YA=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],TE=je("calendar",YA);const KA=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],QA=je("chevron-left",KA);const $A=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],XA=je("chevron-right",$A);const JA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Rh=je("circle-alert",JA);const ZA=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Hm=je("circle-check-big",ZA);const WA=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],eS=je("clock",WA);const tS=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],nS=je("cloud-upload",tS);const iS=[["line",{x1:"15",x2:"15",y1:"12",y2:"18",key:"1p7wdc"}],["line",{x1:"12",x2:"18",y1:"15",y2:"15",key:"1nscbv"}],["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],sS=je("copy-plus",iS);const rS=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],bE=je("copy",rS);const aS=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],oS=je("ellipsis",aS);const lS=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],uS=je("external-link",lS);const cS=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],_0=je("grid-3x3",cS);const hS=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],fS=je("instagram",hS);const dS=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],AE=je("layers",dS);const mS=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],gS=je("link",mS);const pS=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],yS=je("linkedin",pS);const _S=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],vS=je("loader-circle",_S);const ES=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],TS=je("log-out",ES);const bS=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],SE=je("map-pin",bS);const AS=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],SS=je("menu",AS);const wS=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],Wd=je("panels-top-left",wS);const RS=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],CS=je("pen-line",RS);const xS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],wE=je("plus",xS);const IS=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],NS=je("refresh-cw",IS);const DS=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],OS=je("save",DS);const MS=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],VS=je("search",MS);const kS=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],US=je("shield-check",kS);const LS=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],v0=je("smartphone",LS);const PS=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],jS=je("sparkles",PS);const zS=[["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}],["path",{d:"M17 14V2",key:"8ymqnk"}]],BS=je("thumbs-down",zS);const qS=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],RE=je("trash-2",qS);const HS=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],CE=je("triangle-alert",HS);const FS=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],GS=je("twitter",FS);const YS=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],em=je("wand-sparkles",YS);const KS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ll=je("x",KS),QS=()=>{};var E0={};const xE=function(s){const e=[];let n=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},$S=function(s){const e=[];let n=0,r=0;for(;n<s.length;){const o=s[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=s[n++];e[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=s[n++],f=s[n++],g=s[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|g&63)-65536;e[r++]=String.fromCharCode(55296+(p>>10)),e[r++]=String.fromCharCode(56320+(p&1023))}else{const u=s[n++],f=s[n++];e[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},IE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const u=s[o],f=o+1<s.length,g=f?s[o+1]:0,p=o+2<s.length,y=p?s[o+2]:0,b=u>>2,S=(u&3)<<4|g>>4;let R=(g&15)<<2|y>>6,P=y&63;p||(P=64,f||(R=64)),r.push(n[b],n[S],n[R],n[P])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(xE(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):$S(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const u=n[s.charAt(o++)],g=o<s.length?n[s.charAt(o)]:0;++o;const y=o<s.length?n[s.charAt(o)]:64;++o;const S=o<s.length?n[s.charAt(o)]:64;if(++o,u==null||g==null||y==null||S==null)throw new XS;const R=u<<2|g>>4;if(r.push(R),y!==64){const P=g<<4&240|y>>2;if(r.push(P),S!==64){const $=y<<6&192|S;r.push($)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class XS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const JS=function(s){const e=xE(s);return IE.encodeByteArray(e,!0)},ih=function(s){return JS(s).replace(/\./g,"")},NE=function(s){try{return IE.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function ZS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const WS=()=>ZS().__FIREBASE_DEFAULTS__,ew=()=>{if(typeof process>"u"||typeof E0>"u")return;const s=E0.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},tw=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&NE(s[1]);return e&&JSON.parse(e)},Ch=()=>{try{return QS()||WS()||ew()||tw()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},DE=s=>Ch()?.emulatorHosts?.[s],OE=s=>{const e=DE(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},ME=()=>Ch()?.config,VE=s=>Ch()?.[`_${s}`];class nw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function sa(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Fm(s){return(await fetch(s,{credentials:"include"})).ok}function kE(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[ih(JSON.stringify(n)),ih(JSON.stringify(f)),""].join(".")}const Nl={};function iw(){const s={prod:[],emulator:[]};for(const e of Object.keys(Nl))Nl[e]?s.emulator.push(e):s.prod.push(e);return s}function sw(s){let e=document.getElementById(s),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),n=!0),{created:n,element:e}}let T0=!1;function Gm(s,e){if(typeof window>"u"||typeof document>"u"||!sa(window.location.host)||Nl[s]===e||Nl[s]||T0)return;Nl[s]=e;function n(R){return`__firebase__banner__${R}`}const r="__firebase__banner",u=iw().prod.length>0;function f(){const R=document.getElementById(r);R&&R.remove()}function g(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function p(R,P){R.setAttribute("width","24"),R.setAttribute("id",P),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function y(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{T0=!0,f()},R}function b(R,P){R.setAttribute("id",P),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function S(){const R=sw(r),P=n("text"),$=document.getElementById(P)||document.createElement("span"),X=n("learnmore"),K=document.getElementById(X)||document.createElement("a"),te=n("preprendIcon"),ce=document.getElementById(te)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const le=R.element;g(le),b(K,X);const ve=y();p(ce,te),le.append(ce,$,K,ve),document.body.appendChild(le)}u?($.innerText="Preview backend disconnected.",ce.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ce.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function aw(){const s=Ch()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ow(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function lw(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function uw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function cw(){const s=en();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function hw(){return!aw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fw(){try{return typeof indexedDB=="object"}catch{return!1}}function dw(){return new Promise((s,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const mw="FirebaseError";class Li extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=mw,Object.setPrototypeOf(this,Li.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ql.prototype.create)}}class Ql{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?gw(u,r):"Error",g=`${this.serviceName}: ${f} (${o}).`;return new Li(o,g,r)}}function gw(s,e){return s.replace(pw,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const pw=/\{\$([^}]+)}/g;function yw(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Zr(s,e){if(s===e)return!0;const n=Object.keys(s),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const u=s[o],f=e[o];if(b0(u)&&b0(f)){if(!Zr(u,f))return!1}else if(u!==f)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function b0(s){return s!==null&&typeof s=="object"}function $l(s){const e=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function _w(s,e){const n=new vw(s,e);return n.subscribe.bind(n)}class vw{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Ew(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=tm),o.error===void 0&&(o.error=tm),o.complete===void 0&&(o.complete=tm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ew(s,e){if(typeof s!="object"||s===null)return!1;for(const n of e)if(n in s&&typeof s[n]=="function")return!0;return!1}function tm(){}function kt(s){return s&&s._delegate?s._delegate:s}class ar{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Kr="[DEFAULT]";class Tw{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new nw;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Aw(e))try{this.getOrInitializeService({instanceIdentifier:Kr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(e=Kr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Kr){return this.instances.has(e)}getOptions(e=Kr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,f]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(u);r===g&&f.resolve(o)}return o}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&e(u,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:bw(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Kr){return this.component?this.component.multipleInstances?e:Kr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function bw(s){return s===Kr?void 0:s}function Aw(s){return s.instantiationMode==="EAGER"}class Sw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Tw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var ke;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(ke||(ke={}));const ww={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},Rw=ke.INFO,Cw={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},xw=(s,e,...n)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),o=Cw[e];if(o)console[o](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ym{constructor(e){this.name=e,this._logLevel=Rw,this._logHandler=xw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ww[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const Iw=(s,e)=>e.some(n=>s instanceof n);let A0,S0;function Nw(){return A0||(A0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Dw(){return S0||(S0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const UE=new WeakMap,pm=new WeakMap,LE=new WeakMap,nm=new WeakMap,Km=new WeakMap;function Ow(s){const e=new Promise((n,r)=>{const o=()=>{s.removeEventListener("success",u),s.removeEventListener("error",f)},u=()=>{n(Ws(s.result)),o()},f=()=>{r(s.error),o()};s.addEventListener("success",u),s.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&UE.set(n,s)}).catch(()=>{}),Km.set(e,s),e}function Mw(s){if(pm.has(s))return;const e=new Promise((n,r)=>{const o=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",f),s.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",u),s.addEventListener("error",f),s.addEventListener("abort",f)});pm.set(s,e)}let ym={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return pm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||LE.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ws(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function Vw(s){ym=s(ym)}function kw(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=s.call(im(this),e,...n);return LE.set(r,e.sort?e.sort():[e]),Ws(r)}:Dw().includes(s)?function(...e){return s.apply(im(this),e),Ws(UE.get(this))}:function(...e){return Ws(s.apply(im(this),e))}}function Uw(s){return typeof s=="function"?kw(s):(s instanceof IDBTransaction&&Mw(s),Iw(s,Nw())?new Proxy(s,ym):s)}function Ws(s){if(s instanceof IDBRequest)return Ow(s);if(nm.has(s))return nm.get(s);const e=Uw(s);return e!==s&&(nm.set(s,e),Km.set(e,s)),e}const im=s=>Km.get(s);function Lw(s,e,{blocked:n,upgrade:r,blocking:o,terminated:u}={}){const f=indexedDB.open(s,e),g=Ws(f);return r&&f.addEventListener("upgradeneeded",p=>{r(Ws(f.result),p.oldVersion,p.newVersion,Ws(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),g.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const Pw=["get","getKey","getAll","getAllKeys","count"],jw=["put","add","delete","clear"],sm=new Map;function w0(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(sm.get(e))return sm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=jw.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||Pw.includes(n)))return;const u=async function(f,...g){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return r&&(y=y.index(g.shift())),(await Promise.all([y[n](...g),o&&p.done]))[0]};return sm.set(e,u),u}Vw(s=>({...s,get:(e,n,r)=>w0(e,n)||s.get(e,n,r),has:(e,n)=>!!w0(e,n)||s.has(e,n)}));class zw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Bw(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Bw(s){return s.getComponent()?.type==="VERSION"}const _m="@firebase/app",R0="0.14.6";const cs=new Ym("@firebase/app"),qw="@firebase/app-compat",Hw="@firebase/analytics-compat",Fw="@firebase/analytics",Gw="@firebase/app-check-compat",Yw="@firebase/app-check",Kw="@firebase/auth",Qw="@firebase/auth-compat",$w="@firebase/database",Xw="@firebase/data-connect",Jw="@firebase/database-compat",Zw="@firebase/functions",Ww="@firebase/functions-compat",eR="@firebase/installations",tR="@firebase/installations-compat",nR="@firebase/messaging",iR="@firebase/messaging-compat",sR="@firebase/performance",rR="@firebase/performance-compat",aR="@firebase/remote-config",oR="@firebase/remote-config-compat",lR="@firebase/storage",uR="@firebase/storage-compat",cR="@firebase/firestore",hR="@firebase/ai",fR="@firebase/firestore-compat",dR="firebase",mR="12.6.0";const vm="[DEFAULT]",gR={[_m]:"fire-core",[qw]:"fire-core-compat",[Fw]:"fire-analytics",[Hw]:"fire-analytics-compat",[Yw]:"fire-app-check",[Gw]:"fire-app-check-compat",[Kw]:"fire-auth",[Qw]:"fire-auth-compat",[$w]:"fire-rtdb",[Xw]:"fire-data-connect",[Jw]:"fire-rtdb-compat",[Zw]:"fire-fn",[Ww]:"fire-fn-compat",[eR]:"fire-iid",[tR]:"fire-iid-compat",[nR]:"fire-fcm",[iR]:"fire-fcm-compat",[sR]:"fire-perf",[rR]:"fire-perf-compat",[aR]:"fire-rc",[oR]:"fire-rc-compat",[lR]:"fire-gcs",[uR]:"fire-gcs-compat",[cR]:"fire-fst",[fR]:"fire-fst-compat",[hR]:"fire-vertex","fire-js":"fire-js",[dR]:"fire-js-all"};const sh=new Map,pR=new Map,Em=new Map;function C0(s,e){try{s.container.addComponent(e)}catch(n){cs.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function Wr(s){const e=s.name;if(Em.has(e))return cs.debug(`There were multiple attempts to register component ${e}.`),!1;Em.set(e,s);for(const n of sh.values())C0(n,s);for(const n of pR.values())C0(n,s);return!0}function xh(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}function Sn(s){return s==null?!1:s.settings!==void 0}const yR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},er=new Ql("app","Firebase",yR);class _R{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ar("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw er.create("app-deleted",{appName:this._name})}}const ra=mR;function PE(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const r={name:vm,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw er.create("bad-app-name",{appName:String(o)});if(n||(n=ME()),!n)throw er.create("no-options");const u=sh.get(o);if(u){if(Zr(n,u.options)&&Zr(r,u.config))return u;throw er.create("duplicate-app",{appName:o})}const f=new Sw(o);for(const p of Em.values())f.addComponent(p);const g=new _R(n,r,f);return sh.set(o,g),g}function Qm(s=vm){const e=sh.get(s);if(!e&&s===vm&&ME())return PE();if(!e)throw er.create("no-app",{appName:s});return e}function xi(s,e,n){let r=gR[s]??s;n&&(r+=`-${n}`);const o=r.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${r}" with version "${e}":`];o&&f.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),cs.warn(f.join(" "));return}Wr(new ar(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const vR="firebase-heartbeat-database",ER=1,Pl="firebase-heartbeat-store";let rm=null;function jE(){return rm||(rm=Lw(vR,ER,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Pl)}catch(n){console.warn(n)}}}}).catch(s=>{throw er.create("idb-open",{originalErrorMessage:s.message})})),rm}async function TR(s){try{const n=(await jE()).transaction(Pl),r=await n.objectStore(Pl).get(zE(s));return await n.done,r}catch(e){if(e instanceof Li)cs.warn(e.message);else{const n=er.create("idb-get",{originalErrorMessage:e?.message});cs.warn(n.message)}}}async function x0(s,e){try{const r=(await jE()).transaction(Pl,"readwrite");await r.objectStore(Pl).put(e,zE(s)),await r.done}catch(n){if(n instanceof Li)cs.warn(n.message);else{const r=er.create("idb-set",{originalErrorMessage:n?.message});cs.warn(r.message)}}}function zE(s){return`${s.name}!${s.options.appId}`}const bR=1024,AR=30;class SR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new RR(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=I0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>AR){const o=CR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){cs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=I0(),{heartbeatsToSend:n,unsentEntries:r}=wR(this._heartbeatsCache.heartbeats),o=ih(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return cs.warn(e),""}}}function I0(){return new Date().toISOString().substring(0,10)}function wR(s,e=bR){const n=[];let r=s.slice();for(const o of s){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),N0(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),N0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class RR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fw()?dw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await TR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return x0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return x0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function N0(s){return ih(JSON.stringify({version:2,heartbeats:s})).length}function CR(s){if(s.length===0)return-1;let e=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,e=r);return e}function xR(s){Wr(new ar("platform-logger",e=>new zw(e),"PRIVATE")),Wr(new ar("heartbeat",e=>new SR(e),"PRIVATE")),xi(_m,R0,s),xi(_m,R0,"esm2020"),xi("fire-js","")}xR("");function BE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const IR=BE,qE=new Ql("auth","Firebase",BE());const rh=new Ym("@firebase/auth");function NR(s,...e){rh.logLevel<=ke.WARN&&rh.warn(`Auth (${ra}): ${s}`,...e)}function Yc(s,...e){rh.logLevel<=ke.ERROR&&rh.error(`Auth (${ra}): ${s}`,...e)}function Vi(s,...e){throw Xm(s,...e)}function ti(s,...e){return Xm(s,...e)}function $m(s,e,n){const r={...IR(),[e]:n};return new Ql("auth","Firebase",r).create(e,{appName:s.name})}function tr(s){return $m(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function DR(s,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Vi(s,"argument-error"),$m(s,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Xm(s,...e){if(typeof s!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return qE.create(s,...e)}function _e(s,e,...n){if(!s)throw Xm(e,...n)}function as(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Yc(e),new Error(e)}function hs(s,e){s||as(e)}function Tm(){return typeof self<"u"&&self.location?.href||""}function OR(){return D0()==="http:"||D0()==="https:"}function D0(){return typeof self<"u"&&self.location?.protocol||null}function MR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(OR()||lw()||"connection"in navigator)?navigator.onLine:!0}function VR(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Xl{constructor(e,n){this.shortDelay=e,this.longDelay=n,hs(n>e,"Short delay should be less than long delay!"),this.isMobile=rw()||uw()}get(){return MR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Jm(s,e){hs(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class HE{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;as("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;as("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;as("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const kR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const UR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],LR=new Xl(3e4,6e4);function Ih(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function fo(s,e,n,r,o={}){return FE(s,o,async()=>{let u={},f={};r&&(e==="GET"?f=r:u={body:JSON.stringify(r)});const g=$l({key:s.config.apiKey,...f}).slice(1),p=await s._getAdditionalHeaders();p["Content-Type"]="application/json",s.languageCode&&(p["X-Firebase-Locale"]=s.languageCode);const y={method:e,headers:p,...u};return ow()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&sa(s.emulatorConfig.host)&&(y.credentials="include"),HE.fetch()(await YE(s,s.config.apiHost,n,g),y)})}async function FE(s,e,n){s._canInitEmulator=!1;const r={...kR,...e};try{const o=new PR(s),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Lc(s,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const g=u.ok?f.errorMessage:f.error.message,[p,y]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lc(s,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Lc(s,"email-already-in-use",f);if(p==="USER_DISABLED")throw Lc(s,"user-disabled",f);const b=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw $m(s,b,y);Vi(s,b)}}catch(o){if(o instanceof Li)throw o;Vi(s,"network-request-failed",{message:String(o)})}}async function GE(s,e,n,r,o={}){const u=await fo(s,e,n,r,o);return"mfaPendingCredential"in u&&Vi(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function YE(s,e,n,r){const o=`${e}${n}?${r}`,u=s,f=u.config.emulator?Jm(s.config,o):`${s.config.apiScheme}://${o}`;return UR.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class PR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ti(this.auth,"network-request-failed")),LR.get())})}}function Lc(s,e,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=ti(s,e,r);return o.customData._tokenResponse=n,o}async function jR(s,e){return fo(s,"POST","/v1/accounts:delete",e)}async function ah(s,e){return fo(s,"POST","/v1/accounts:lookup",e)}function Dl(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function zR(s,e=!1){const n=kt(s),r=await n.getIdToken(e),o=Zm(r);_e(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:r,authTime:Dl(am(o.auth_time)),issuedAtTime:Dl(am(o.iat)),expirationTime:Dl(am(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function am(s){return Number(s)*1e3}function Zm(s){const[e,n,r]=s.split(".");if(e===void 0||n===void 0||r===void 0)return Yc("JWT malformed, contained fewer than 3 sections"),null;try{const o=NE(n);return o?JSON.parse(o):(Yc("Failed to decode base64 JWT payload"),null)}catch(o){return Yc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function O0(s){const e=Zm(s);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function jl(s,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Li&&BR(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function BR({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class qR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class bm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Dl(this.lastLoginAt),this.creationTime=Dl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function oh(s){const e=s.auth,n=await s.getIdToken(),r=await jl(s,ah(e,{idToken:n}));_e(r?.users.length,e,"internal-error");const o=r.users[0];s._notifyReloadListener(o);const u=o.providerUserInfo?.length?KE(o.providerUserInfo):[],f=FR(s.providerData,u),g=s.isAnonymous,p=!(s.email&&o.passwordHash)&&!f?.length,y=g?p:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new bm(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(s,b)}async function HR(s){const e=kt(s);await oh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function FR(s,e){return[...s.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function KE(s){return s.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function GR(s,e){const n=await FE(s,{},async()=>{const r=$l({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=s.config,f=await YE(s,o,"/v1/token",`key=${u}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:g,body:r};return s.emulatorConfig&&sa(s.emulatorConfig.host)&&(p.credentials="include"),HE.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function YR(s,e){return fo(s,"POST","/v2/accounts:revokeToken",Ih(s,e))}class eo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):O0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){_e(e.length!==0,"internal-error");const n=O0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:u}=await GR(e,n);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:u}=n,f=new eo;return r&&(_e(typeof r=="string","internal-error",{appName:e}),f.refreshToken=r),o&&(_e(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(_e(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new eo,this.toJSON())}_performRefresh(){return as("not implemented")}}function Ks(s,e){_e(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class Wn{constructor({uid:e,auth:n,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new qR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new bm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await jl(this,this.stsTokenManager.getToken(this.auth,e));return _e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return zR(this,e)}reload(){return HR(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Wn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await oh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Sn(this.auth.app))return Promise.reject(tr(this.auth));const e=await this.getIdToken();return await jl(this,jR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,g=n.tenantId??void 0,p=n._redirectEventId??void 0,y=n.createdAt??void 0,b=n.lastLoginAt??void 0,{uid:S,emailVerified:R,isAnonymous:P,providerData:$,stsTokenManager:X}=n;_e(S&&X,e,"internal-error");const K=eo.fromJSON(this.name,X);_e(typeof S=="string",e,"internal-error"),Ks(r,e.name),Ks(o,e.name),_e(typeof R=="boolean",e,"internal-error"),_e(typeof P=="boolean",e,"internal-error"),Ks(u,e.name),Ks(f,e.name),Ks(g,e.name),Ks(p,e.name),Ks(y,e.name),Ks(b,e.name);const te=new Wn({uid:S,auth:e,email:o,emailVerified:R,displayName:r,isAnonymous:P,photoURL:f,phoneNumber:u,tenantId:g,stsTokenManager:K,createdAt:y,lastLoginAt:b});return $&&Array.isArray($)&&(te.providerData=$.map(ce=>({...ce}))),p&&(te._redirectEventId=p),te}static async _fromIdTokenResponse(e,n,r=!1){const o=new eo;o.updateFromServerResponse(n);const u=new Wn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await oh(u),u}static async _fromGetAccountInfoResponse(e,n,r){const o=n.users[0];_e(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?KE(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,g=new eo;g.updateFromIdToken(r);const p=new Wn({uid:o.localId,auth:e,stsTokenManager:g,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new bm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,y),p}}const M0=new Map;function os(s){hs(s instanceof Function,"Expected a class definition");let e=M0.get(s);return e?(hs(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,M0.set(s,e),e)}class QE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}QE.type="NONE";const V0=QE;function Kc(s,e,n){return`firebase:${s}:${e}:${n}`}class to{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=Kc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Kc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await ah(this.auth,{idToken:e}).catch(()=>{});return n?Wn._fromGetAccountInfoResponse(this.auth,n,e):null}return Wn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new to(os(V0),e,r);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||os(V0);const f=Kc(r,e.config.apiKey,e.name);let g=null;for(const y of n)try{const b=await y._get(f);if(b){let S;if(typeof b=="string"){const R=await ah(e,{idToken:b}).catch(()=>{});if(!R)break;S=await Wn._fromGetAccountInfoResponse(e,R,b)}else S=Wn._fromJSON(e,b);y!==u&&(g=S),u=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new to(u,e,r):(u=p[0],g&&await u._set(f,g.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new to(u,e,r))}}function k0(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ZE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($E(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(eT(e))return"Blackberry";if(tT(e))return"Webos";if(XE(e))return"Safari";if((e.includes("chrome/")||JE(e))&&!e.includes("edge/"))return"Chrome";if(WE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if(r?.length===2)return r[1]}return"Other"}function $E(s=en()){return/firefox\//i.test(s)}function XE(s=en()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function JE(s=en()){return/crios\//i.test(s)}function ZE(s=en()){return/iemobile/i.test(s)}function WE(s=en()){return/android/i.test(s)}function eT(s=en()){return/blackberry/i.test(s)}function tT(s=en()){return/webos/i.test(s)}function Wm(s=en()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function KR(s=en()){return Wm(s)&&!!window.navigator?.standalone}function QR(){return cw()&&document.documentMode===10}function nT(s=en()){return Wm(s)||WE(s)||tT(s)||eT(s)||/windows phone/i.test(s)||ZE(s)}function iT(s,e=[]){let n;switch(s){case"Browser":n=k0(en());break;case"Worker":n=`${k0(en())}-${s}`;break;default:n=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ra}/${r}`}class $R{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=u=>new Promise((f,g)=>{try{const p=e(u);f(p)}catch(p){g(p)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function XR(s,e={}){return fo(s,"GET","/v2/passwordPolicy",Ih(s,e))}const JR=6;class ZR{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??JR,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class WR{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new U0(this),this.idTokenSubscription=new U0(this),this.beforeStateQueue=new $R(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=os(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await to.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ah(this,{idToken:e}),r=await Wn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Sn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=r?._redirectEventId,g=await this.tryRedirectSignIn(e);(!u||u===f)&&g?.user&&(r=g.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await oh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=VR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Sn(this.app))return Promise.reject(tr(this));const n=e?kt(e):null;return n&&_e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Sn(this.app)?Promise.reject(tr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Sn(this.app)?Promise.reject(tr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(os(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await XR(this),n=new ZR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ql("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await YR(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&os(e)||this._popupRedirectResolver;_e(n,this,"argument-error"),this.redirectPersistenceManager=await to.create(this,[os(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(g,this,"internal-error"),g.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,r,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=iT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Sn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&NR(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Jl(s){return kt(s)}class U0{constructor(e){this.auth=e,this.observer=null,this.addObserver=_w(n=>this.observer=n)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let eg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function e2(s){eg=s}function t2(s){return eg.loadJS(s)}function n2(){return eg.gapiScript}function i2(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function s2(s,e){const n=xh(s,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Zr(u,e??{}))return o;Vi(o,"already-initialized")}return n.initialize({options:e})}function r2(s,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(os);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function a2(s,e,n){const r=Jl(s);_e(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,u=sT(e),{host:f,port:g}=o2(e),p=g===null?"":`:${g}`,y={url:`${u}//${f}${p}/`},b=Object.freeze({host:f,port:g,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){_e(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),_e(Zr(y,r.config.emulator)&&Zr(b,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=b,r.settings.appVerificationDisabledForTesting=!0,sa(f)?(Fm(`${u}//${f}${p}`),Gm("Auth",!0)):l2()}function sT(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function o2(s){const e=sT(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:L0(r.substr(u.length+1))}}else{const[u,f]=r.split(":");return{host:u,port:L0(f)}}}function L0(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function l2(){function s(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class rT{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return as("not implemented")}_getIdTokenResponse(e){return as("not implemented")}_linkToIdToken(e,n){return as("not implemented")}_getReauthenticationResolver(e){return as("not implemented")}}async function no(s,e){return GE(s,"POST","/v1/accounts:signInWithIdp",Ih(s,e))}const u2="http://localhost";class ea extends rT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ea(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Vi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...u}=n;if(!r||!o)return null;const f=new ea(r,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return no(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,no(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,no(e,n)}buildRequest(){const e={requestUri:u2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=$l(n)}return e}}class tg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Zl extends tg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class $s extends Zl{constructor(){super("facebook.com")}static credential(e){return ea._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $s.credentialFromTaggedObject(e)}static credentialFromError(e){return $s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $s.credential(e.oauthAccessToken)}catch{return null}}}$s.FACEBOOK_SIGN_IN_METHOD="facebook.com";$s.PROVIDER_ID="facebook.com";class rs extends Zl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ea._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return rs.credential(n,r)}catch{return null}}}rs.GOOGLE_SIGN_IN_METHOD="google.com";rs.PROVIDER_ID="google.com";class Xs extends Zl{constructor(){super("github.com")}static credential(e){return ea._fromParams({providerId:Xs.PROVIDER_ID,signInMethod:Xs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xs.credentialFromTaggedObject(e)}static credentialFromError(e){return Xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xs.credential(e.oauthAccessToken)}catch{return null}}}Xs.GITHUB_SIGN_IN_METHOD="github.com";Xs.PROVIDER_ID="github.com";class Js extends Zl{constructor(){super("twitter.com")}static credential(e,n){return ea._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Js.credentialFromTaggedObject(e)}static credentialFromError(e){return Js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Js.credential(n,r)}catch{return null}}}Js.TWITTER_SIGN_IN_METHOD="twitter.com";Js.PROVIDER_ID="twitter.com";async function c2(s,e){return GE(s,"POST","/v1/accounts:signUp",Ih(s,e))}class or{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const u=await Wn._fromIdTokenResponse(e,r,o),f=P0(r);return new or({user:u,providerId:f,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=P0(r);return new or({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function P0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function h2(s){if(Sn(s.app))return Promise.reject(tr(s));const e=Jl(s);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new or({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await c2(e,{returnSecureToken:!0}),r=await or._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(r.user),r}class lh extends Li{constructor(e,n,r,o){super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,lh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new lh(e,n,r,o)}}function aT(s,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?lh._fromErrorAndOperation(s,u,e,r):u})}async function f2(s,e,n=!1){const r=await jl(s,e._linkToIdToken(s.auth,await s.getIdToken()),n);return or._forOperation(s,"link",r)}async function d2(s,e,n=!1){const{auth:r}=s;if(Sn(r.app))return Promise.reject(tr(r));const o="reauthenticate";try{const u=await jl(s,aT(r,o,e,s),n);_e(u.idToken,r,"internal-error");const f=Zm(u.idToken);_e(f,r,"internal-error");const{sub:g}=f;return _e(s.uid===g,r,"user-mismatch"),or._forOperation(s,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Vi(r,"user-mismatch"),u}}async function m2(s,e,n=!1){if(Sn(s.app))return Promise.reject(tr(s));const r="signIn",o=await aT(s,r,e),u=await or._fromIdTokenResponse(s,r,o);return n||await s._updateCurrentUser(u.user),u}function g2(s,e,n,r){return kt(s).onIdTokenChanged(e,n,r)}function p2(s,e,n){return kt(s).beforeAuthStateChanged(e,n)}function y2(s,e,n,r){return kt(s).onAuthStateChanged(e,n,r)}function _2(s){return kt(s).signOut()}const uh="__sak";class oT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(uh,"1"),this.storage.removeItem(uh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const v2=1e3,E2=10;class lT extends oT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=nT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,g,p)=>{this.notifyListeners(f,p)});return}const r=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(r);!n&&this.localCache[r]===f||this.notifyListeners(r,f)},u=this.storage.getItem(r);QR()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,E2):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},v2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}lT.type="LOCAL";const T2=lT;class uT extends oT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}uT.type="SESSION";const cT=uT;function b2(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Nh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new Nh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const g=Array.from(f).map(async y=>y(n.origin,u)),p=await b2(g);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Nh.receivers=[];function ng(s="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return s+n}class A2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((g,p)=>{const y=ng("",20);o.port1.start();const b=setTimeout(()=>{p(new Error("unsupported_event"))},r);f={messageChannel:o,onMessage(S){const R=S;if(R.data.eventId===y)switch(R.data.status){case"ack":clearTimeout(b),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),g(R.data.response);break;default:clearTimeout(b),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Ii(){return window}function S2(s){Ii().location.href=s}function hT(){return typeof Ii().WorkerGlobalScope<"u"&&typeof Ii().importScripts=="function"}async function w2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function R2(){return navigator?.serviceWorker?.controller||null}function C2(){return hT()?self:null}const fT="firebaseLocalStorageDb",x2=1,ch="firebaseLocalStorage",dT="fbase_key";class Wl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Dh(s,e){return s.transaction([ch],e?"readwrite":"readonly").objectStore(ch)}function I2(){const s=indexedDB.deleteDatabase(fT);return new Wl(s).toPromise()}function Am(){const s=indexedDB.open(fT,x2);return new Promise((e,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(ch,{keyPath:dT})}catch(o){n(o)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(ch)?e(r):(r.close(),await I2(),e(await Am()))})})}async function j0(s,e,n){const r=Dh(s,!0).put({[dT]:e,value:n});return new Wl(r).toPromise()}async function N2(s,e){const n=Dh(s,!1).get(e),r=await new Wl(n).toPromise();return r===void 0?null:r.value}function z0(s,e){const n=Dh(s,!0).delete(e);return new Wl(n).toPromise()}const D2=800,O2=3;class mT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Am(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>O2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return hT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Nh._getInstance(C2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await w2(),!this.activeServiceWorker)return;this.sender=new A2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||R2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Am();return await j0(e,uh,"1"),await z0(e,uh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>j0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>N2(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>z0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Dh(o,!1).getAll();return new Wl(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),D2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}mT.type="LOCAL";const M2=mT;new Xl(3e4,6e4);function gT(s,e){return e?os(e):(_e(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class ig extends rT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return no(e,this._buildIdpRequest())}_linkToIdToken(e,n){return no(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return no(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function V2(s){return m2(s.auth,new ig(s),s.bypassAuthState)}function k2(s){const{auth:e,user:n}=s;return _e(n,e,"internal-error"),d2(n,new ig(s),s.bypassAuthState)}async function U2(s){const{auth:e,user:n}=s;return _e(n,e,"internal-error"),f2(n,new ig(s),s.bypassAuthState)}class pT{constructor(e,n,r,o,u=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:u,error:f,type:g}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return V2;case"linkViaPopup":case"linkViaRedirect":return U2;case"reauthViaPopup":case"reauthViaRedirect":return k2;default:Vi(this.auth,"internal-error")}}resolve(e){hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const L2=new Xl(2e3,1e4);async function P2(s,e,n){if(Sn(s.app))return Promise.reject(ti(s,"operation-not-supported-in-this-environment"));const r=Jl(s);DR(s,e,tg);const o=gT(r,n);return new Qr(r,"signInViaPopup",e,o).executeNotNull()}class Qr extends pT{constructor(e,n,r,o,u){super(e,n,o,u),this.provider=r,this.authWindow=null,this.pollId=null,Qr.currentPopupAction&&Qr.currentPopupAction.cancel(),Qr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){hs(this.filter.length===1,"Popup operations only handle one event");const e=ng();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ti(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ti(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qr.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ti(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,L2.get())};e()}}Qr.currentPopupAction=null;const j2="pendingRedirect",Qc=new Map;class z2 extends pT{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Qc.get(this.auth._key());if(!e){try{const r=await B2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Qc.set(this.auth._key(),e)}return this.bypassAuthState||Qc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function B2(s,e){const n=F2(e),r=H2(s);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function q2(s,e){Qc.set(s._key(),e)}function H2(s){return os(s._redirectPersistence)}function F2(s){return Kc(j2,s.config.apiKey,s.name)}async function G2(s,e,n=!1){if(Sn(s.app))return Promise.reject(tr(s));const r=Jl(s),o=gT(r,e),f=await new z2(r,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await r._persistUserIfCurrent(f.user),await r._setRedirectUser(null,e)),f}const Y2=600*1e3;class K2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Q2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!yT(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ti(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Y2&&this.cachedEventUids.clear(),this.cachedEventUids.has(B0(e))}saveEventToCache(e){this.cachedEventUids.add(B0(e)),this.lastProcessedEventTime=Date.now()}}function B0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function yT({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function Q2(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yT(s);default:return!1}}async function $2(s,e={}){return fo(s,"GET","/v1/projects",e)}const X2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,J2=/^https?/;async function Z2(s){if(s.config.emulator)return;const{authorizedDomains:e}=await $2(s);for(const n of e)try{if(W2(n))return}catch{}Vi(s,"unauthorized-domain")}function W2(s){const e=Tm(),{protocol:n,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const f=new URL(s);return f.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===r}if(!J2.test(n))return!1;if(X2.test(s))return r===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const eC=new Xl(3e4,6e4);function q0(){const s=Ii().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function tC(s){return new Promise((e,n)=>{function r(){q0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{q0(),n(ti(s,"network-request-failed"))},timeout:eC.get()})}if(Ii().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ii().gapi?.load)r();else{const o=i2("iframefcb");return Ii()[o]=()=>{gapi.load?r():n(ti(s,"network-request-failed"))},t2(`${n2()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw $c=null,e})}let $c=null;function nC(s){return $c=$c||tC(s),$c}const iC=new Xl(5e3,15e3),sC="__/auth/iframe",rC="emulator/auth/iframe",aC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},oC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lC(s){const e=s.config;_e(e.authDomain,s,"auth-domain-config-required");const n=e.emulator?Jm(e,rC):`https://${s.config.authDomain}/${sC}`,r={apiKey:e.apiKey,appName:s.name,v:ra},o=oC.get(s.config.apiHost);o&&(r.eid=o);const u=s._getFrameworks();return u.length&&(r.fw=u.join(",")),`${n}?${$l(r).slice(1)}`}async function uC(s){const e=await nC(s),n=Ii().gapi;return _e(n,s,"internal-error"),e.open({where:document.body,url:lC(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:aC,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const f=ti(s,"network-request-failed"),g=Ii().setTimeout(()=>{u(f)},iC.get());function p(){Ii().clearTimeout(g),o(r)}r.ping(p).then(p,()=>{u(f)})}))}const cC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hC=500,fC=600,dC="_blank",mC="http://localhost";class H0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function gC(s,e,n,r=hC,o=fC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-r)/2,0).toString();let g="";const p={...cC,width:r.toString(),height:o.toString(),top:u,left:f},y=en().toLowerCase();n&&(g=JE(y)?dC:n),$E(y)&&(e=e||mC,p.scrollbars="yes");const b=Object.entries(p).reduce((R,[P,$])=>`${R}${P}=${$},`,"");if(KR(y)&&g!=="_self")return pC(e||"",g),new H0(null);const S=window.open(e||"",g,b);_e(S,s,"popup-blocked");try{S.focus()}catch{}return new H0(S)}function pC(s,e){const n=document.createElement("a");n.href=s,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const yC="__/auth/handler",_C="emulator/auth/handler",vC=encodeURIComponent("fac");async function F0(s,e,n,r,o,u){_e(s.config.authDomain,s,"auth-domain-config-required"),_e(s.config.apiKey,s,"invalid-api-key");const f={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:ra,eventId:o};if(e instanceof tg){e.setDefaultLanguage(s.languageCode),f.providerId=e.providerId||"",yw(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,S]of Object.entries({}))f[b]=S}if(e instanceof Zl){const b=e.getScopes().filter(S=>S!=="");b.length>0&&(f.scopes=b.join(","))}s.tenantId&&(f.tid=s.tenantId);const g=f;for(const b of Object.keys(g))g[b]===void 0&&delete g[b];const p=await s._getAppCheckToken(),y=p?`#${vC}=${encodeURIComponent(p)}`:"";return`${EC(s)}?${$l(g).slice(1)}${y}`}function EC({config:s}){return s.emulator?Jm(s,_C):`https://${s.authDomain}/${yC}`}const om="webStorageSupport";class TC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cT,this._completeRedirectFn=G2,this._overrideRedirectResult=q2}async _openPopup(e,n,r,o){hs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await F0(e,n,r,Tm(),o);return gC(e,u,ng())}async _openRedirect(e,n,r,o){await this._originValidation(e);const u=await F0(e,n,r,Tm(),o);return S2(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(hs(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await uC(e),r=new K2(e);return n.register("authEvent",o=>(_e(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(om,{type:om},o=>{const u=o?.[0]?.[om];u!==void 0&&n(!!u),Vi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Z2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return nT()||XE()||Wm()}}const bC=TC;var G0="@firebase/auth",Y0="1.12.0";class AC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function SC(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function wC(s){Wr(new ar("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:g}=r.options;_e(f&&!f.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:f,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:iT(s)},y=new WR(r,o,u,p);return r2(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Wr(new ar("auth-internal",e=>{const n=Jl(e.getProvider("auth").getImmediate());return(r=>new AC(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),xi(G0,Y0,SC(s)),xi(G0,Y0,"esm2020")}const RC=300,CC=VE("authIdTokenMaxAge")||RC;let K0=null;const xC=s=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>CC)return;const o=n?.token;K0!==o&&(K0=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function IC(s=Qm()){const e=xh(s,"auth");if(e.isInitialized())return e.getImmediate();const n=s2(s,{popupRedirectResolver:bC,persistence:[M2,T2,cT]}),r=VE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const f=xC(u.toString());p2(n,f,()=>f(n.currentUser)),g2(n,g=>f(g))}}const o=DE("auth");return o&&a2(n,`http://${o}`),n}function NC(){return document.getElementsByTagName("head")?.[0]??document}e2({loadJS(s){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=o=>{const u=ti("internal-error");u.customData=o,n(u)},r.type="text/javascript",r.charset="UTF-8",NC().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});wC("Browser");var Q0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var nr,_T;(function(){var s;function e(D,w){function N(){}N.prototype=w.prototype,D.F=w.prototype,D.prototype=new N,D.prototype.constructor=D,D.D=function(V,O,k){for(var C=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)C[tt-2]=arguments[tt];return w.prototype[O].apply(V,C)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,w,N){N||(N=0);const V=Array(16);if(typeof w=="string")for(var O=0;O<16;++O)V[O]=w.charCodeAt(N++)|w.charCodeAt(N++)<<8|w.charCodeAt(N++)<<16|w.charCodeAt(N++)<<24;else for(O=0;O<16;++O)V[O]=w[N++]|w[N++]<<8|w[N++]<<16|w[N++]<<24;w=D.g[0],N=D.g[1],O=D.g[2];let k=D.g[3],C;C=w+(k^N&(O^k))+V[0]+3614090360&4294967295,w=N+(C<<7&4294967295|C>>>25),C=k+(O^w&(N^O))+V[1]+3905402710&4294967295,k=w+(C<<12&4294967295|C>>>20),C=O+(N^k&(w^N))+V[2]+606105819&4294967295,O=k+(C<<17&4294967295|C>>>15),C=N+(w^O&(k^w))+V[3]+3250441966&4294967295,N=O+(C<<22&4294967295|C>>>10),C=w+(k^N&(O^k))+V[4]+4118548399&4294967295,w=N+(C<<7&4294967295|C>>>25),C=k+(O^w&(N^O))+V[5]+1200080426&4294967295,k=w+(C<<12&4294967295|C>>>20),C=O+(N^k&(w^N))+V[6]+2821735955&4294967295,O=k+(C<<17&4294967295|C>>>15),C=N+(w^O&(k^w))+V[7]+4249261313&4294967295,N=O+(C<<22&4294967295|C>>>10),C=w+(k^N&(O^k))+V[8]+1770035416&4294967295,w=N+(C<<7&4294967295|C>>>25),C=k+(O^w&(N^O))+V[9]+2336552879&4294967295,k=w+(C<<12&4294967295|C>>>20),C=O+(N^k&(w^N))+V[10]+4294925233&4294967295,O=k+(C<<17&4294967295|C>>>15),C=N+(w^O&(k^w))+V[11]+2304563134&4294967295,N=O+(C<<22&4294967295|C>>>10),C=w+(k^N&(O^k))+V[12]+1804603682&4294967295,w=N+(C<<7&4294967295|C>>>25),C=k+(O^w&(N^O))+V[13]+4254626195&4294967295,k=w+(C<<12&4294967295|C>>>20),C=O+(N^k&(w^N))+V[14]+2792965006&4294967295,O=k+(C<<17&4294967295|C>>>15),C=N+(w^O&(k^w))+V[15]+1236535329&4294967295,N=O+(C<<22&4294967295|C>>>10),C=w+(O^k&(N^O))+V[1]+4129170786&4294967295,w=N+(C<<5&4294967295|C>>>27),C=k+(N^O&(w^N))+V[6]+3225465664&4294967295,k=w+(C<<9&4294967295|C>>>23),C=O+(w^N&(k^w))+V[11]+643717713&4294967295,O=k+(C<<14&4294967295|C>>>18),C=N+(k^w&(O^k))+V[0]+3921069994&4294967295,N=O+(C<<20&4294967295|C>>>12),C=w+(O^k&(N^O))+V[5]+3593408605&4294967295,w=N+(C<<5&4294967295|C>>>27),C=k+(N^O&(w^N))+V[10]+38016083&4294967295,k=w+(C<<9&4294967295|C>>>23),C=O+(w^N&(k^w))+V[15]+3634488961&4294967295,O=k+(C<<14&4294967295|C>>>18),C=N+(k^w&(O^k))+V[4]+3889429448&4294967295,N=O+(C<<20&4294967295|C>>>12),C=w+(O^k&(N^O))+V[9]+568446438&4294967295,w=N+(C<<5&4294967295|C>>>27),C=k+(N^O&(w^N))+V[14]+3275163606&4294967295,k=w+(C<<9&4294967295|C>>>23),C=O+(w^N&(k^w))+V[3]+4107603335&4294967295,O=k+(C<<14&4294967295|C>>>18),C=N+(k^w&(O^k))+V[8]+1163531501&4294967295,N=O+(C<<20&4294967295|C>>>12),C=w+(O^k&(N^O))+V[13]+2850285829&4294967295,w=N+(C<<5&4294967295|C>>>27),C=k+(N^O&(w^N))+V[2]+4243563512&4294967295,k=w+(C<<9&4294967295|C>>>23),C=O+(w^N&(k^w))+V[7]+1735328473&4294967295,O=k+(C<<14&4294967295|C>>>18),C=N+(k^w&(O^k))+V[12]+2368359562&4294967295,N=O+(C<<20&4294967295|C>>>12),C=w+(N^O^k)+V[5]+4294588738&4294967295,w=N+(C<<4&4294967295|C>>>28),C=k+(w^N^O)+V[8]+2272392833&4294967295,k=w+(C<<11&4294967295|C>>>21),C=O+(k^w^N)+V[11]+1839030562&4294967295,O=k+(C<<16&4294967295|C>>>16),C=N+(O^k^w)+V[14]+4259657740&4294967295,N=O+(C<<23&4294967295|C>>>9),C=w+(N^O^k)+V[1]+2763975236&4294967295,w=N+(C<<4&4294967295|C>>>28),C=k+(w^N^O)+V[4]+1272893353&4294967295,k=w+(C<<11&4294967295|C>>>21),C=O+(k^w^N)+V[7]+4139469664&4294967295,O=k+(C<<16&4294967295|C>>>16),C=N+(O^k^w)+V[10]+3200236656&4294967295,N=O+(C<<23&4294967295|C>>>9),C=w+(N^O^k)+V[13]+681279174&4294967295,w=N+(C<<4&4294967295|C>>>28),C=k+(w^N^O)+V[0]+3936430074&4294967295,k=w+(C<<11&4294967295|C>>>21),C=O+(k^w^N)+V[3]+3572445317&4294967295,O=k+(C<<16&4294967295|C>>>16),C=N+(O^k^w)+V[6]+76029189&4294967295,N=O+(C<<23&4294967295|C>>>9),C=w+(N^O^k)+V[9]+3654602809&4294967295,w=N+(C<<4&4294967295|C>>>28),C=k+(w^N^O)+V[12]+3873151461&4294967295,k=w+(C<<11&4294967295|C>>>21),C=O+(k^w^N)+V[15]+530742520&4294967295,O=k+(C<<16&4294967295|C>>>16),C=N+(O^k^w)+V[2]+3299628645&4294967295,N=O+(C<<23&4294967295|C>>>9),C=w+(O^(N|~k))+V[0]+4096336452&4294967295,w=N+(C<<6&4294967295|C>>>26),C=k+(N^(w|~O))+V[7]+1126891415&4294967295,k=w+(C<<10&4294967295|C>>>22),C=O+(w^(k|~N))+V[14]+2878612391&4294967295,O=k+(C<<15&4294967295|C>>>17),C=N+(k^(O|~w))+V[5]+4237533241&4294967295,N=O+(C<<21&4294967295|C>>>11),C=w+(O^(N|~k))+V[12]+1700485571&4294967295,w=N+(C<<6&4294967295|C>>>26),C=k+(N^(w|~O))+V[3]+2399980690&4294967295,k=w+(C<<10&4294967295|C>>>22),C=O+(w^(k|~N))+V[10]+4293915773&4294967295,O=k+(C<<15&4294967295|C>>>17),C=N+(k^(O|~w))+V[1]+2240044497&4294967295,N=O+(C<<21&4294967295|C>>>11),C=w+(O^(N|~k))+V[8]+1873313359&4294967295,w=N+(C<<6&4294967295|C>>>26),C=k+(N^(w|~O))+V[15]+4264355552&4294967295,k=w+(C<<10&4294967295|C>>>22),C=O+(w^(k|~N))+V[6]+2734768916&4294967295,O=k+(C<<15&4294967295|C>>>17),C=N+(k^(O|~w))+V[13]+1309151649&4294967295,N=O+(C<<21&4294967295|C>>>11),C=w+(O^(N|~k))+V[4]+4149444226&4294967295,w=N+(C<<6&4294967295|C>>>26),C=k+(N^(w|~O))+V[11]+3174756917&4294967295,k=w+(C<<10&4294967295|C>>>22),C=O+(w^(k|~N))+V[2]+718787259&4294967295,O=k+(C<<15&4294967295|C>>>17),C=N+(k^(O|~w))+V[9]+3951481745&4294967295,D.g[0]=D.g[0]+w&4294967295,D.g[1]=D.g[1]+(O+(C<<21&4294967295|C>>>11))&4294967295,D.g[2]=D.g[2]+O&4294967295,D.g[3]=D.g[3]+k&4294967295}r.prototype.v=function(D,w){w===void 0&&(w=D.length);const N=w-this.blockSize,V=this.C;let O=this.h,k=0;for(;k<w;){if(O==0)for(;k<=N;)o(this,D,k),k+=this.blockSize;if(typeof D=="string"){for(;k<w;)if(V[O++]=D.charCodeAt(k++),O==this.blockSize){o(this,V),O=0;break}}else for(;k<w;)if(V[O++]=D[k++],O==this.blockSize){o(this,V),O=0;break}}this.h=O,this.o+=w},r.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var w=1;w<D.length-8;++w)D[w]=0;w=this.o*8;for(var N=D.length-8;N<D.length;++N)D[N]=w&255,w/=256;for(this.v(D),D=Array(16),w=0,N=0;N<4;++N)for(let V=0;V<32;V+=8)D[w++]=this.g[N]>>>V&255;return D};function u(D,w){var N=g;return Object.prototype.hasOwnProperty.call(N,D)?N[D]:N[D]=w(D)}function f(D,w){this.h=w;const N=[];let V=!0;for(let O=D.length-1;O>=0;O--){const k=D[O]|0;V&&k==w||(N[O]=k,V=!1)}this.g=N}var g={};function p(D){return-128<=D&&D<128?u(D,function(w){return new f([w|0],w<0?-1:0)}):new f([D|0],D<0?-1:0)}function y(D){if(isNaN(D)||!isFinite(D))return S;if(D<0)return K(y(-D));const w=[];let N=1;for(let V=0;D>=N;V++)w[V]=D/N|0,N*=4294967296;return new f(w,0)}function b(D,w){if(D.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(D.charAt(0)=="-")return K(b(D.substring(1),w));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=y(Math.pow(w,8));let V=S;for(let k=0;k<D.length;k+=8){var O=Math.min(8,D.length-k);const C=parseInt(D.substring(k,k+O),w);O<8?(O=y(Math.pow(w,O)),V=V.j(O).add(y(C))):(V=V.j(N),V=V.add(y(C)))}return V}var S=p(0),R=p(1),P=p(16777216);s=f.prototype,s.m=function(){if(X(this))return-K(this).m();let D=0,w=1;for(let N=0;N<this.g.length;N++){const V=this.i(N);D+=(V>=0?V:4294967296+V)*w,w*=4294967296}return D},s.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if($(this))return"0";if(X(this))return"-"+K(this).toString(D);const w=y(Math.pow(D,6));var N=this;let V="";for(;;){const O=ve(N,w).g;N=te(N,O.j(w));let k=((N.g.length>0?N.g[0]:N.h)>>>0).toString(D);if(N=O,$(N))return k+V;for(;k.length<6;)k="0"+k;V=k+V}},s.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function $(D){if(D.h!=0)return!1;for(let w=0;w<D.g.length;w++)if(D.g[w]!=0)return!1;return!0}function X(D){return D.h==-1}s.l=function(D){return D=te(this,D),X(D)?-1:$(D)?0:1};function K(D){const w=D.g.length,N=[];for(let V=0;V<w;V++)N[V]=~D.g[V];return new f(N,~D.h).add(R)}s.abs=function(){return X(this)?K(this):this},s.add=function(D){const w=Math.max(this.g.length,D.g.length),N=[];let V=0;for(let O=0;O<=w;O++){let k=V+(this.i(O)&65535)+(D.i(O)&65535),C=(k>>>16)+(this.i(O)>>>16)+(D.i(O)>>>16);V=C>>>16,k&=65535,C&=65535,N[O]=C<<16|k}return new f(N,N[N.length-1]&-2147483648?-1:0)};function te(D,w){return D.add(K(w))}s.j=function(D){if($(this)||$(D))return S;if(X(this))return X(D)?K(this).j(K(D)):K(K(this).j(D));if(X(D))return K(this.j(K(D)));if(this.l(P)<0&&D.l(P)<0)return y(this.m()*D.m());const w=this.g.length+D.g.length,N=[];for(var V=0;V<2*w;V++)N[V]=0;for(V=0;V<this.g.length;V++)for(let O=0;O<D.g.length;O++){const k=this.i(V)>>>16,C=this.i(V)&65535,tt=D.i(O)>>>16,dt=D.i(O)&65535;N[2*V+2*O]+=C*dt,ce(N,2*V+2*O),N[2*V+2*O+1]+=k*dt,ce(N,2*V+2*O+1),N[2*V+2*O+1]+=C*tt,ce(N,2*V+2*O+1),N[2*V+2*O+2]+=k*tt,ce(N,2*V+2*O+2)}for(D=0;D<w;D++)N[D]=N[2*D+1]<<16|N[2*D];for(D=w;D<2*w;D++)N[D]=0;return new f(N,0)};function ce(D,w){for(;(D[w]&65535)!=D[w];)D[w+1]+=D[w]>>>16,D[w]&=65535,w++}function le(D,w){this.g=D,this.h=w}function ve(D,w){if($(w))throw Error("division by zero");if($(D))return new le(S,S);if(X(D))return w=ve(K(D),w),new le(K(w.g),K(w.h));if(X(w))return w=ve(D,K(w)),new le(K(w.g),w.h);if(D.g.length>30){if(X(D)||X(w))throw Error("slowDivide_ only works with positive integers.");for(var N=R,V=w;V.l(D)<=0;)N=ze(N),V=ze(V);var O=Re(N,1),k=Re(V,1);for(V=Re(V,2),N=Re(N,2);!$(V);){var C=k.add(V);C.l(D)<=0&&(O=O.add(N),k=C),V=Re(V,1),N=Re(N,1)}return w=te(D,O.j(w)),new le(O,w)}for(O=S;D.l(w)>=0;){for(N=Math.max(1,Math.floor(D.m()/w.m())),V=Math.ceil(Math.log(N)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),k=y(N),C=k.j(w);X(C)||C.l(D)>0;)N-=V,k=y(N),C=k.j(w);$(k)&&(k=R),O=O.add(k),D=te(D,C)}return new le(O,D)}s.B=function(D){return ve(this,D).h},s.and=function(D){const w=Math.max(this.g.length,D.g.length),N=[];for(let V=0;V<w;V++)N[V]=this.i(V)&D.i(V);return new f(N,this.h&D.h)},s.or=function(D){const w=Math.max(this.g.length,D.g.length),N=[];for(let V=0;V<w;V++)N[V]=this.i(V)|D.i(V);return new f(N,this.h|D.h)},s.xor=function(D){const w=Math.max(this.g.length,D.g.length),N=[];for(let V=0;V<w;V++)N[V]=this.i(V)^D.i(V);return new f(N,this.h^D.h)};function ze(D){const w=D.g.length+1,N=[];for(let V=0;V<w;V++)N[V]=D.i(V)<<1|D.i(V-1)>>>31;return new f(N,D.h)}function Re(D,w){const N=w>>5;w%=32;const V=D.g.length-N,O=[];for(let k=0;k<V;k++)O[k]=w>0?D.i(k+N)>>>w|D.i(k+N+1)<<32-w:D.i(k+N);return new f(O,D.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,_T=r,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=b,nr=f}).apply(typeof Q0<"u"?Q0:typeof self<"u"?self:typeof window<"u"?window:{});var Pc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var vT,wl,ET,Xc,Sm,TT,bT,AT;(function(){var s,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pc=="object"&&Pc];for(var m=0;m<c.length;++m){var v=c[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function o(c,m){if(m)e:{var v=r;c=c.split(".");for(var A=0;A<c.length-1;A++){var L=c[A];if(!(L in v))break e;v=v[L]}c=c[c.length-1],A=v[c],m=m(A),m!=A&&m!=null&&e(v,c,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(m){var v=[],A;for(A in m)Object.prototype.hasOwnProperty.call(m,A)&&v.push([A,m[A]]);return v}});var u=u||{},f=this||self;function g(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function p(c,m,v){return c.call.apply(c.bind,arguments)}function y(c,m,v){return y=p,y.apply(null,arguments)}function b(c,m){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function S(c,m){function v(){}v.prototype=m.prototype,c.Z=m.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(A,L,q){for(var ie=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)ie[Se-2]=arguments[Se];return m.prototype[L].apply(A,ie)}}var R=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function P(c){const m=c.length;if(m>0){const v=Array(m);for(let A=0;A<m;A++)v[A]=c[A];return v}return[]}function $(c,m){for(let A=1;A<arguments.length;A++){const L=arguments[A];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=c.length||0;const q=L.length||0;c.length=v+q;for(let ie=0;ie<q;ie++)c[v+ie]=L[ie]}else c.push(L)}}class X{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function K(c){f.setTimeout(()=>{throw c},0)}function te(){var c=D;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class ce{constructor(){this.h=this.g=null}add(m,v){const A=le.get();A.set(m,v),this.h?this.h.next=A:this.g=A,this.h=A}}var le=new X(()=>new ve,c=>c.reset());class ve{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ze,Re=!1,D=new ce,w=()=>{const c=Promise.resolve(void 0);ze=()=>{c.then(N)}};function N(){for(var c;c=te();){try{c.h.call(c.g)}catch(v){K(v)}var m=le;m.j(c),m.h<100&&(m.h++,c.next=m.g,m.g=c)}Re=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,m),f.removeEventListener("test",v,m)}catch{}return c})();function C(c){return/^[\s\xa0]*$/.test(c)}function tt(c,m){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,m)}S(tt,O),tt.prototype.init=function(c,m){const v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget,m||(v=="mouseover"?m=c.fromElement:v=="mouseout"&&(m=c.toElement)),this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&tt.Z.h.call(this)},tt.prototype.h=function(){tt.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var dt="closure_listenable_"+(Math.random()*1e6|0),G=0;function se(c,m,v,A,L){this.listener=c,this.proxy=null,this.src=m,this.type=v,this.capture=!!A,this.ha=L,this.key=++G,this.da=this.fa=!1}function fe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ie(c,m,v){for(const A in c)m.call(v,c[A],A,c)}function ne(c,m){for(const v in c)m.call(void 0,c[v],v,c)}function x(c){const m={};for(const v in c)m[v]=c[v];return m}const F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ee(c,m){let v,A;for(let L=1;L<arguments.length;L++){A=arguments[L];for(v in A)c[v]=A[v];for(let q=0;q<F.length;q++)v=F[q],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function re(c){this.src=c,this.g={},this.h=0}re.prototype.add=function(c,m,v,A,L){const q=c.toString();c=this.g[q],c||(c=this.g[q]=[],this.h++);const ie=Ee(c,m,A,L);return ie>-1?(m=c[ie],v||(m.fa=!1)):(m=new se(m,this.src,q,!!A,L),m.fa=v,c.push(m)),m};function pe(c,m){const v=m.type;if(v in c.g){var A=c.g[v],L=Array.prototype.indexOf.call(A,m,void 0),q;(q=L>=0)&&Array.prototype.splice.call(A,L,1),q&&(fe(m),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Ee(c,m,v,A){for(let L=0;L<c.length;++L){const q=c[L];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==A)return L}return-1}var xe="closure_lm_"+(Math.random()*1e6|0),ct={};function Oe(c,m,v,A,L){if(Array.isArray(m)){for(let q=0;q<m.length;q++)Oe(c,m[q],v,A,L);return null}return v=To(v),c&&c[dt]?c.J(m,v,g(A)?!!A.capture:!1,L):rn(c,m,v,!1,A,L)}function rn(c,m,v,A,L,q){if(!m)throw Error("Invalid event type");const ie=g(L)?!!L.capture:!!L;let Se=pr(c);if(Se||(c[xe]=Se=new re(c)),v=Se.add(m,v,A,ie,q),v.proxy)return v;if(A=zn(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)k||(L=ie),L===void 0&&(L=!1),c.addEventListener(m.toString(),A,L);else if(c.attachEvent)c.attachEvent(ri(m.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function zn(){function c(v){return m.call(c.src,c.listener,v)}const m=vo;return c}function si(c,m,v,A,L){if(Array.isArray(m))for(var q=0;q<m.length;q++)si(c,m[q],v,A,L);else A=g(A)?!!A.capture:!!A,v=To(v),c&&c[dt]?(c=c.i,q=String(m).toString(),q in c.g&&(m=c.g[q],v=Ee(m,v,A,L),v>-1&&(fe(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete c.g[q],c.h--)))):c&&(c=pr(c))&&(m=c.g[m.toString()],c=-1,m&&(c=Ee(m,v,A,L)),(v=c>-1?m[c]:null)&&ji(v))}function ji(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[dt])pe(m.i,c);else{var v=c.type,A=c.proxy;m.removeEventListener?m.removeEventListener(v,A,c.capture):m.detachEvent?m.detachEvent(ri(v),A):m.addListener&&m.removeListener&&m.removeListener(A),(v=pr(m))?(pe(v,c),v.h==0&&(v.src=null,m[xe]=null)):fe(c)}}}function ri(c){return c in ct?ct[c]:ct[c]="on"+c}function vo(c,m){if(c.da)c=!0;else{m=new tt(m,this);const v=c.listener,A=c.ha||c.src;c.fa&&ji(c),c=v.call(A,m)}return c}function pr(c){return c=c[xe],c instanceof re?c:null}var Eo="__closure_events_fn_"+(Math.random()*1e9>>>0);function To(c){return typeof c=="function"?c:(c[Eo]||(c[Eo]=function(m){return c.handleEvent(m)}),c[Eo])}function vt(){V.call(this),this.i=new re(this),this.M=this,this.G=null}S(vt,V),vt.prototype[dt]=!0,vt.prototype.removeEventListener=function(c,m,v,A){si(this,c,m,v,A)};function Ot(c,m){var v,A=c.G;if(A)for(v=[];A;A=A.G)v.push(A);if(c=c.M,A=m.type||m,typeof m=="string")m=new O(m,c);else if(m instanceof O)m.target=m.target||c;else{var L=m;m=new O(A,c),ee(m,L)}L=!0;let q,ie;if(v)for(ie=v.length-1;ie>=0;ie--)q=m.g=v[ie],L=ms(q,A,!0,m)&&L;if(q=m.g=c,L=ms(q,A,!0,m)&&L,L=ms(q,A,!1,m)&&L,v)for(ie=0;ie<v.length;ie++)q=m.g=v[ie],L=ms(q,A,!1,m)&&L}vt.prototype.N=function(){if(vt.Z.N.call(this),this.i){var c=this.i;for(const m in c.g){const v=c.g[m];for(let A=0;A<v.length;A++)fe(v[A]);delete c.g[m],c.h--}}this.G=null},vt.prototype.J=function(c,m,v,A){return this.i.add(String(c),m,!1,v,A)},vt.prototype.K=function(c,m,v,A){return this.i.add(String(c),m,!0,v,A)};function ms(c,m,v,A){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let q=0;q<m.length;++q){const ie=m[q];if(ie&&!ie.da&&ie.capture==v){const Se=ie.listener,gt=ie.ha||ie.src;ie.fa&&pe(c.i,ie),L=Se.call(gt,A)!==!1&&L}}return L&&!A.defaultPrevented}function Qh(c,m){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:f.setTimeout(c,m||0)}function lu(c){c.g=Qh(()=>{c.g=null,c.i&&(c.i=!1,lu(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class tn extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:lu(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function yr(c){V.call(this),this.h=c,this.g={}}S(yr,V);var bo=[];function Ao(c){Ie(c.g,function(m,v){this.g.hasOwnProperty(v)&&ji(m)},c),c.g={}}yr.prototype.N=function(){yr.Z.N.call(this),Ao(this)},yr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var gs=f.JSON.stringify,$h=f.JSON.parse,uu=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function cu(){}function hu(){}var Bn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function zt(){O.call(this,"d")}S(zt,O);function Rn(){O.call(this,"c")}S(Rn,O);var mt={},fu=null;function la(){return fu=fu||new vt}mt.Ia="serverreachability";function du(c){O.call(this,mt.Ia,c)}S(du,O);function ai(c){const m=la();Ot(m,new du(m))}mt.STAT_EVENT="statevent";function _r(c,m){O.call(this,mt.STAT_EVENT,c),this.stat=m}S(_r,O);function Et(c){const m=la();Ot(m,new _r(m,c))}mt.Ja="timingevent";function oi(c,m){O.call(this,mt.Ja,c),this.size=m}S(oi,O);function li(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},m)}function qn(){this.g=!0}qn.prototype.ua=function(){this.g=!1};function Xh(c,m,v,A,L,q){c.info(function(){if(c.g)if(q){var ie="",Se=q.split("&");for(let Ge=0;Ge<Se.length;Ge++){var gt=Se[Ge].split("=");if(gt.length>1){const ot=gt[0];gt=gt[1];const Nn=ot.split("_");ie=Nn.length>=2&&Nn[1]=="type"?ie+(ot+"="+gt+"&"):ie+(ot+"=redacted&")}}}else ie=null;else ie=q;return"XMLHTTP REQ ("+A+") [attempt "+L+"]: "+m+`
`+v+`
`+ie})}function mu(c,m,v,A,L,q,ie){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+L+"]: "+m+`
`+v+`
`+q+" "+ie})}function ui(c,m,v,A){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+Jh(c,v)+(A?" "+A:"")})}function vr(c,m){c.info(function(){return"TIMEOUT: "+m})}qn.prototype.info=function(){};function Jh(c,m){if(!c.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(c=0;c<q.length;c++)if(Array.isArray(q[c])){var v=q[c];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var L=A[0];if(L!="noop"&&L!="stop"&&L!="close")for(let ie=1;ie<A.length;ie++)A[ie]=""}}}}return gs(q)}catch{return m}}var Er={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},So={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},wo;function Tr(){}S(Tr,cu),Tr.prototype.g=function(){return new XMLHttpRequest},wo=new Tr;function zi(c){return encodeURIComponent(String(c))}function gu(c){var m=1;c=c.split(":");const v=[];for(;m>0&&c.length;)v.push(c.shift()),m--;return c.length&&v.push(c.join(":")),v}function Hn(c,m,v,A){this.j=c,this.i=m,this.l=v,this.S=A||1,this.V=new yr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Fn}function Fn(){this.i=null,this.g="",this.h=!1}var Tt={},Ut={};function ci(c,m,v){c.M=1,c.A=br(At(m)),c.u=v,c.R=!0,ua(c,null)}function ua(c,m){c.F=Date.now(),hi(c),c.B=At(c.A);var v=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),da(v.i,"t",A),c.C=0,v=c.j.L,c.h=new Fn,c.g=Nu(c.j,v?m:null,!c.u),c.P>0&&(c.O=new tn(y(c.Y,c,c.g),c.P)),m=c.V,v=c.g,A=c.ba;var L="readystatechange";Array.isArray(L)||(L&&(bo[0]=L.toString()),L=bo);for(let q=0;q<L.length;q++){const ie=Oe(v,L[q],A||m.handleEvent,!1,m.h||m);if(!ie)break;m.g[ie.key]=ie}m=c.J?x(c.J):{},c.u?(c.v||(c.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,m)):(c.v="GET",c.g.ea(c.B,c.v,null,m)),ai(),Xh(c.i,c.v,c.B,c.l,c.S,c.u)}Hn.prototype.ba=function(c){c=c.target;const m=this.O;m&&Kn(c)==3?m.j():this.Y(c)},Hn.prototype.Y=function(c){try{if(c==this.g)e:{const Se=Kn(this.g),gt=this.g.ya(),Ge=this.g.ca();if(!(Se<3)&&(Se!=3||this.g&&(this.h.h||this.g.la()||Bt(this.g)))){this.K||Se!=4||gt==7||(gt==8||Ge<=0?ai(3):ai(2)),fi(this);var m=this.g.ca();this.X=m;var v=Zh(this);if(this.o=m==200,mu(this.i,this.v,this.B,this.l,this.S,Se,m),this.o){if(this.U&&!this.L){t:{if(this.g){var A,L=this.g;if((A=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(A)){var q=A;break t}}q=null}if(c=q)ui(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,di(this,c);else{this.o=!1,this.m=3,Et(12),gn(this),Cn(this);break e}}if(this.R){c=!0;let ot;for(;!this.K&&this.C<v.length;)if(ot=yu(this,v),ot==Ut){Se==4&&(this.m=4,Et(14),c=!1),ui(this.i,this.l,null,"[Incomplete Response]");break}else if(ot==Tt){this.m=4,Et(15),ui(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else ui(this.i,this.l,ot,null),di(this,ot);if(pu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Se!=4||v.length!=0||this.h.h||(this.m=1,Et(16),c=!1),this.o=this.o&&c,!c)ui(this.i,this.l,v,"[Invalid Chunked Response]"),gn(this),Cn(this);else if(v.length>0&&!this.W){this.W=!0;var ie=this.j;ie.g==this&&ie.aa&&!ie.P&&(ie.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),zo(ie),ie.P=!0,Et(11))}}else ui(this.i,this.l,v,null),di(this,v);Se==4&&gn(this),this.o&&!this.K&&(Se==4?Ru(this.j,this):(this.o=!1,hi(this)))}else qi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Et(12)):(this.m=0,Et(13)),gn(this),Cn(this)}}}catch{}};function Zh(c){if(!pu(c))return c.g.la();const m=Bt(c.g);if(m==="")return"";let v="";const A=m.length,L=Kn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return gn(c),Cn(c),"";c.h.i=new f.TextDecoder}for(let q=0;q<A;q++)c.h.h=!0,v+=c.h.i.decode(m[q],{stream:!(L&&q==A-1)});return m.length=0,c.h.g+=v,c.C=0,c.h.g}function pu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function yu(c,m){var v=c.C,A=m.indexOf(`
`,v);return A==-1?Ut:(v=Number(m.substring(v,A)),isNaN(v)?Tt:(A+=1,A+v>m.length?Ut:(m=m.slice(A,A+v),c.C=A+v,m)))}Hn.prototype.cancel=function(){this.K=!0,gn(this)};function hi(c){c.T=Date.now()+c.H,ca(c,c.H)}function ca(c,m){if(c.D!=null)throw Error("WatchDog timer not null");c.D=li(y(c.aa,c),m)}function fi(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Hn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(vr(this.i,this.B),this.M!=2&&(ai(),Et(17)),gn(this),this.m=2,Cn(this)):ca(this,this.T-c)};function Cn(c){c.j.I==0||c.K||Ru(c.j,c)}function gn(c){fi(c);var m=c.O;m&&typeof m.dispose=="function"&&m.dispose(),c.O=null,Ao(c.V),c.g&&(m=c.g,c.g=null,m.abort(),m.dispose())}function di(c,m){try{var v=c.j;if(v.I!=0&&(v.g==c||gi(v.h,c))){if(!c.L&&gi(v.h,c)&&v.I==3){try{var A=v.Ba.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var L=A;if(L[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)_a(v),As(v);else break e;Ir(v),Et(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=li(y(v.Va,v),6e3));mi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ti(v,11)}else if((c.L||v.g==c)&&_a(v),!C(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let Ge=L[m];const ot=Ge[0];if(!(ot<=v.K))if(v.K=ot,Ge=Ge[1],v.I==2)if(Ge[0]=="c"){v.M=Ge[1],v.ba=Ge[2];const Nn=Ge[3];Nn!=null&&(v.ka=Nn,v.j.info("VER="+v.ka));const bi=Ge[4];bi!=null&&(v.za=bi,v.j.info("SVER="+v.za));const Qn=Ge[5];Qn!=null&&typeof Qn=="number"&&Qn>0&&(A=1.5*Qn,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const $n=c.g;if($n){const Nr=$n.g?$n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Nr){var q=A.h;q.g||Nr.indexOf("spdy")==-1&&Nr.indexOf("quic")==-1&&Nr.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(xo(q,q.h),q.h=null))}if(A.G){const va=$n.g?$n.g.getResponseHeader("X-HTTP-Session-Id"):null;va&&(A.wa=va,Qe(A.J,A.G,va))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var ie=c;if(A.na=Iu(A,A.L?A.ba:null,A.W),ie.L){Io(A.h,ie);var Se=ie,gt=A.O;gt&&(Se.H=gt),Se.D&&(fi(Se),hi(Se)),A.g=ie}else Su(A);v.i.length>0&&Ei(v)}else Ge[0]!="stop"&&Ge[0]!="close"||Ti(v,7);else v.I==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?Ti(v,7):Po(v):Ge[0]!="noop"&&v.l&&v.l.qa(Ge),v.A=0)}}ai(4)}catch{}}var bt=class{constructor(c,m){this.g=c,this.map=m}};function Ro(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Co(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function mi(c){return c.h?1:c.g?c.g.size:0}function gi(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function xo(c,m){c.g?c.g.add(m):c.h=m}function Io(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}Ro.prototype.cancel=function(){if(this.i=No(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function No(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const v of c.g.values())m=m.concat(v.G);return m}return P(c.i)}var _u=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ha(c,m){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const A=c[v].indexOf("=");let L,q=null;A>=0?(L=c[v].substring(0,A),q=c[v].substring(A+1)):L=c[v],m(L,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function pn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;c instanceof pn?(this.l=c.l,Lt(this,c.j),this.o=c.o,this.g=c.g,ps(this,c.u),this.h=c.h,Do(this,bu(c.i)),this.m=c.m):c&&(m=String(c).match(_u))?(this.l=!1,Lt(this,m[1]||"",!0),this.o=pi(m[2]||""),this.g=pi(m[3]||"",!0),ps(this,m[4]),this.h=pi(m[5]||"",!0),Do(this,m[6]||"",!0),this.m=pi(m[7]||"")):(this.l=!1,this.i=new _s(null,this.l))}pn.prototype.toString=function(){const c=[];var m=this.j;m&&c.push(Ar(m,fa,!0),":");var v=this.g;return(v||m=="file")&&(c.push("//"),(m=this.o)&&c.push(Ar(m,fa,!0),"@"),c.push(zi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Ar(v,v.charAt(0)=="/"?Oo:vu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Ar(v,Eu)),c.join("")},pn.prototype.resolve=function(c){const m=At(this);let v=!!c.j;v?Lt(m,c.j):v=!!c.o,v?m.o=c.o:v=!!c.g,v?m.g=c.g:v=c.u!=null;var A=c.h;if(v)ps(m,c.u);else if(v=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var L=m.h.lastIndexOf("/");L!=-1&&(A=m.h.slice(0,L+1)+A)}if(L=A,L==".."||L==".")A="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){A=L.lastIndexOf("/",0)==0,L=L.split("/");const q=[];for(let ie=0;ie<L.length;){const Se=L[ie++];Se=="."?A&&ie==L.length&&q.push(""):Se==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),A&&ie==L.length&&q.push("")):(q.push(Se),A=!0)}A=q.join("/")}else A=L}return v?m.h=A:v=c.i.toString()!=="",v?Do(m,bu(c.i)):v=!!c.m,v&&(m.m=c.m),m};function At(c){return new pn(c)}function Lt(c,m,v){c.j=v?pi(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function ps(c,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);c.u=m}else c.u=null}function Do(c,m,v){m instanceof _s?(c.i=m,ma(c.i,c.l)):(v||(m=Ar(m,ys)),c.i=new _s(m,c.l))}function Qe(c,m,v){c.i.set(m,v)}function br(c){return Qe(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function pi(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ar(c,m,v){return typeof c=="string"?(c=encodeURI(c).replace(m,an),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function an(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var fa=/[#\/\?@]/g,vu=/[#\?:]/g,Oo=/[#\?]/g,ys=/[#\?@]/g,Eu=/#/g;function _s(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function on(c){c.g||(c.g=new Map,c.h=0,c.i&&ha(c.i,function(m,v){c.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=_s.prototype,s.add=function(c,m){on(this),this.i=null,c=vs(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(m),this.h+=1,this};function Tu(c,m){on(c),m=vs(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function Mo(c,m){return on(c),m=vs(c,m),c.g.has(m)}s.forEach=function(c,m){on(this),this.g.forEach(function(v,A){v.forEach(function(L){c.call(m,L,A,this)},this)},this)};function Vo(c,m){on(c);let v=[];if(typeof m=="string")Mo(c,m)&&(v=v.concat(c.g.get(vs(c,m))));else for(c=Array.from(c.g.values()),m=0;m<c.length;m++)v=v.concat(c[m]);return v}s.set=function(c,m){return on(this),this.i=null,c=vs(this,c),Mo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},s.get=function(c,m){return c?(c=Vo(this,c),c.length>0?String(c[0]):m):m};function da(c,m,v){Tu(c,m),v.length>0&&(c.i=null,c.g.set(vs(c,m),P(v)),c.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(let A=0;A<m.length;A++){var v=m[A];const L=zi(v);v=Vo(this,v);for(let q=0;q<v.length;q++){let ie=L;v[q]!==""&&(ie+="="+zi(v[q])),c.push(ie)}}return this.i=c.join("&")};function bu(c){const m=new _s;return m.i=c.i,c.g&&(m.g=new Map(c.g),m.h=c.h),m}function vs(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function ma(c,m){m&&!c.j&&(on(c),c.i=null,c.g.forEach(function(v,A){const L=A.toLowerCase();A!=L&&(Tu(this,A),da(this,L,v))},c)),c.j=m}function Gn(c,m){const v=new qn;if(f.Image){const A=new Image;A.onload=b(xn,v,"TestLoadImage: loaded",!0,m,A),A.onerror=b(xn,v,"TestLoadImage: error",!1,m,A),A.onabort=b(xn,v,"TestLoadImage: abort",!1,m,A),A.ontimeout=b(xn,v,"TestLoadImage: timeout",!1,m,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else m(!1)}function ko(c,m){const v=new qn,A=new AbortController,L=setTimeout(()=>{A.abort(),xn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:A.signal}).then(q=>{clearTimeout(L),q.ok?xn(v,"TestPingServer: ok",!0,m):xn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),xn(v,"TestPingServer: error",!1,m)})}function xn(c,m,v,A,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),A(v)}catch{}}function Es(){this.g=new uu}function yi(c){this.i=c.Sb||null,this.h=c.ab||!1}S(yi,cu),yi.prototype.g=function(){return new Sr(this.i,this.h)};function Sr(c,m){vt.call(this),this.H=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Sr,vt),s=Sr.prototype,s.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=m,this.readyState=1,Yn(this)},s.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(m.body=c),(this.H||f).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ts(this)),this.readyState=0},s.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Yn(this)),this.g&&(this.readyState=3,Yn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ga(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ga(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}s.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?Ts(this):Yn(this),this.readyState==3&&ga(this)}},s.Oa=function(c){this.g&&(this.response=this.responseText=c,Ts(this))},s.Na=function(c){this.g&&(this.response=c,Ts(this))},s.ga=function(){this.g&&Ts(this)};function Ts(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Yn(c)}s.setRequestHeader=function(c,m){this.A.append(c,m)},s.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=m.next();return c.join(`\r
`)};function Yn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Sr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function In(c){let m="";return Ie(c,function(v,A){m+=A,m+=":",m+=v,m+=`\r
`}),m}function wr(c,m,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=In(v),typeof c=="string"?v!=null&&zi(v):Qe(c,m,v))}function Je(c){vt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Je,vt);var _i=/^https?$/i,Uo=["POST","PUT"];s=Je.prototype,s.Fa=function(c){this.H=c},s.ea=function(c,m,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():wo.g(),this.g.onreadystatechange=R(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(q){Rr(this,q);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var L in A)v.set(L,A[L]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const q of A.keys())v.set(q,A.get(q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),L=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Uo,m,void 0)>=0)||A||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,ie]of v)this.g.setRequestHeader(q,ie);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(q){Rr(this,q)}};function Rr(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.o=5,Lo(c),Bi(c)}function Lo(c){c.A||(c.A=!0,Ot(c,"complete"),Ot(c,"error"))}s.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Ot(this,"complete"),Ot(this,"abort"),Bi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bi(this,!0)),Je.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Cr(this):this.Xa())},s.Xa=function(){Cr(this)};function Cr(c){if(c.h&&typeof u<"u"){if(c.v&&Kn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Ot(c,"readystatechange"),Kn(c)==4){c.h=!1;try{const q=c.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var A;if(A=q===0){let ie=String(c.D).match(_u)[1]||null;!ie&&f.self&&f.self.location&&(ie=f.self.location.protocol.slice(0,-1)),A=!_i.test(ie?ie.toLowerCase():"")}v=A}if(v)Ot(c,"complete"),Ot(c,"success");else{c.o=6;try{var L=Kn(c)>2?c.g.statusText:""}catch{L=""}c.l=L+" ["+c.ca()+"]",Lo(c)}}finally{Bi(c)}}}}function Bi(c,m){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,m||Ot(c,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Kn(c){return c.g?c.g.readyState:0}s.ca=function(){try{return Kn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),$h(m)}};function Bt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function qi(c){const m={};c=(c.g&&Kn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(C(c[A]))continue;var v=gu(c[A]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[L]||[];m[L]=q,q.push(v)}ne(m,function(A){return A.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function vi(c,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||m}function bs(c){this.za=0,this.i=[],this.j=new qn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=vi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=vi("baseRetryDelayMs",5e3,c),this.Za=vi("retryDelaySeedMs",1e4,c),this.Ta=vi("forwardChannelMaxRetries",2,c),this.va=vi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Ro(c&&c.concurrentRequestLimit),this.Ba=new Es,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=bs.prototype,s.ka=8,s.I=1,s.connect=function(c,m,v,A){Et(0),this.W=c,this.H=m||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=Iu(this,null,this.W),Ei(this)};function Po(c){if(pa(c),c.I==3){var m=c.V++,v=At(c.J);if(Qe(v,"SID",c.M),Qe(v,"RID",m),Qe(v,"TYPE","terminate"),xr(c,v),m=new Hn(c,c.j,m),m.M=2,m.A=br(At(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=m.A,v=!0),v||(m.g=Nu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),hi(m)}xu(c)}function As(c){c.g&&(zo(c),c.g.cancel(),c.g=null)}function pa(c){As(c),c.v&&(f.clearTimeout(c.v),c.v=null),_a(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Ei(c){if(!Co(c.h)&&!c.m){c.m=!0;var m=c.Ea;ze||w(),Re||(ze(),Re=!0),D.add(m,c),c.D=0}}function ya(c,m){return mi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=m.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=li(y(c.Ea,c,m),Cu(c,c.D)),c.D++,!0)}s.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const L=new Hn(this,this.j,c);let q=this.o;if(this.U&&(q?(q=x(q),ee(q,this.U)):q=this.U),this.u!==null||this.R||(L.J=q,q=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(m+=A,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=Au(this,L,m),v=At(this.J),Qe(v,"RID",c),Qe(v,"CVER",22),this.G&&Qe(v,"X-HTTP-Session-Id",this.G),xr(this,v),q&&(this.R?m="headers="+zi(In(q))+"&"+m:this.u&&wr(v,this.u,q)),xo(this.h,L),this.Ra&&Qe(v,"TYPE","init"),this.S?(Qe(v,"$req",m),Qe(v,"SID","null"),L.U=!0,ci(L,v,null)):ci(L,v,m),this.I=2}}else this.I==3&&(c?jo(this,c):this.i.length==0||Co(this.h)||jo(this))};function jo(c,m){var v;m?v=m.l:v=c.V++;const A=At(c.J);Qe(A,"SID",c.M),Qe(A,"RID",v),Qe(A,"AID",c.K),xr(c,A),c.u&&c.o&&wr(A,c.u,c.o),v=new Hn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),m&&(c.i=m.G.concat(c.i)),m=Au(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),xo(c.h,v),ci(v,A,m)}function xr(c,m){c.H&&Ie(c.H,function(v,A){Qe(m,A,v)}),c.l&&Ie({},function(v,A){Qe(m,A,v)})}function Au(c,m,v){v=Math.min(c.i.length,v);const A=c.l?y(c.l.Ka,c.l,c):null;e:{var L=c.i;let Se=-1;for(;;){const gt=["count="+v];Se==-1?v>0?(Se=L[0].g,gt.push("ofs="+Se)):Se=0:gt.push("ofs="+Se);let Ge=!0;for(let ot=0;ot<v;ot++){var q=L[ot].g;const Nn=L[ot].map;if(q-=Se,q<0)Se=Math.max(0,L[ot].g-100),Ge=!1;else try{q="req"+q+"_"||"";try{var ie=Nn instanceof Map?Nn:Object.entries(Nn);for(const[bi,Qn]of ie){let $n=Qn;g(Qn)&&($n=gs(Qn)),gt.push(q+bi+"="+encodeURIComponent($n))}}catch(bi){throw gt.push(q+"type="+encodeURIComponent("_badmap")),bi}}catch{A&&A(Nn)}}if(Ge){ie=gt.join("&");break e}}ie=void 0}return c=c.i.splice(0,v),m.G=c,ie}function Su(c){if(!c.g&&!c.v){c.Y=1;var m=c.Da;ze||w(),Re||(ze(),Re=!0),D.add(m,c),c.A=0}}function Ir(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=li(y(c.Da,c),Cu(c,c.A)),c.A++,!0)}s.Da=function(){if(this.v=null,wu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=li(y(this.Wa,this),c)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Et(10),As(this),wu(this))};function zo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function wu(c){c.g=new Hn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var m=At(c.na);Qe(m,"RID","rpc"),Qe(m,"SID",c.M),Qe(m,"AID",c.K),Qe(m,"CI",c.F?"0":"1"),!c.F&&c.ia&&Qe(m,"TO",c.ia),Qe(m,"TYPE","xmlhttp"),xr(c,m),c.u&&c.o&&wr(m,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=br(At(m)),v.u=null,v.R=!0,ua(v,c)}s.Va=function(){this.C!=null&&(this.C=null,As(this),Ir(this),Et(19))};function _a(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Ru(c,m){var v=null;if(c.g==m){_a(c),zo(c),c.g=null;var A=2}else if(gi(c.h,m))v=m.G,Io(c.h,m),A=1;else return;if(c.I!=0){if(m.o)if(A==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=c.D;A=la(),Ot(A,new oi(A,v)),Ei(c)}else Su(c);else if(L=m.m,L==3||L==0&&m.X>0||!(A==1&&ya(c,m)||A==2&&Ir(c)))switch(v&&v.length>0&&(m=c.h,m.i=m.i.concat(v)),L){case 1:Ti(c,5);break;case 4:Ti(c,10);break;case 3:Ti(c,6);break;default:Ti(c,2)}}}function Cu(c,m){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*m}function Ti(c,m){if(c.j.info("Error code "+m),m==2){var v=y(c.bb,c),A=c.Ua;const L=!A;A=new pn(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Lt(A,"https"),br(A),L?Gn(A.toString(),v):ko(A.toString(),v)}else Et(2);c.I=0,c.l&&c.l.pa(m),xu(c),pa(c)}s.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function xu(c){if(c.I=0,c.ja=[],c.l){const m=No(c.h);(m.length!=0||c.i.length!=0)&&($(c.ja,m),$(c.ja,c.i),c.h.i.length=0,P(c.i),c.i.length=0),c.l.oa()}}function Iu(c,m,v){var A=v instanceof pn?At(v):new pn(v);if(A.g!="")m&&(A.g=m+"."+A.g),ps(A,A.u);else{var L=f.location;A=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const q=new pn(null);A&&Lt(q,A),m&&(q.g=m),L&&ps(q,L),v&&(q.h=v),A=q}return v=c.G,m=c.wa,v&&m&&Qe(A,v,m),Qe(A,"VER",c.ka),xr(c,A),A}function Nu(c,m,v){if(m&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Aa&&!c.ma?new Je(new yi({ab:v})):new Je(c.ma),m.Fa(c.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Du(){}s=Du.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Ss(){}Ss.prototype.g=function(c,m){return new nn(c,m)};function nn(c,m){vt.call(this),this.g=new bs(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(c?c["X-WebChannel-Client-Profile"]=m.sa:c={"X-WebChannel-Client-Profile":m.sa}),this.g.U=c,(c=m&&m.Qb)&&!C(c)&&(this.g.u=c),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!C(m)&&(this.g.G=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new Hi(this)}S(nn,vt),nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Po(this.g)},nn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=gs(c),c=v);m.i.push(new bt(m.Ya++,c)),m.I==3&&Ei(m)},nn.prototype.N=function(){this.g.l=null,delete this.j,Po(this.g),delete this.g,nn.Z.N.call(this)};function Ou(c){zt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const v in m){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}S(Ou,zt);function Mu(){Rn.call(this),this.status=1}S(Mu,Rn);function Hi(c){this.g=c}S(Hi,Du),Hi.prototype.ra=function(){Ot(this.g,"a")},Hi.prototype.qa=function(c){Ot(this.g,new Ou(c))},Hi.prototype.pa=function(c){Ot(this.g,new Mu)},Hi.prototype.oa=function(){Ot(this.g,"b")},Ss.prototype.createWebChannel=Ss.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,AT=function(){return new Ss},bT=function(){return la()},TT=mt,Sm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Er.NO_ERROR=0,Er.TIMEOUT=8,Er.HTTP_ERROR=6,Xc=Er,So.COMPLETE="complete",ET=So,hu.EventType=Bn,Bn.OPEN="a",Bn.CLOSE="b",Bn.ERROR="c",Bn.MESSAGE="d",vt.prototype.listen=vt.prototype.J,wl=hu,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,vT=Je}).apply(typeof Pc<"u"?Pc:typeof self<"u"?self:typeof window<"u"?window:{});const $0="@firebase/firestore",X0="4.9.3";class Jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");let mo="12.7.0";const ta=new Ym("@firebase/firestore");function Xa(){return ta.logLevel}function ae(s,...e){if(ta.logLevel<=ke.DEBUG){const n=e.map(sg);ta.debug(`Firestore (${mo}): ${s}`,...n)}}function fs(s,...e){if(ta.logLevel<=ke.ERROR){const n=e.map(sg);ta.error(`Firestore (${mo}): ${s}`,...n)}}function ro(s,...e){if(ta.logLevel<=ke.WARN){const n=e.map(sg);ta.warn(`Firestore (${mo}): ${s}`,...n)}}function sg(s){if(typeof s=="string")return s;try{return(function(n){return JSON.stringify(n)})(s)}catch{return s}}function ye(s,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,ST(s,r,n)}function ST(s,e,n){let r=`FIRESTORE (${mo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw fs(r),new Error(r)}function Ke(s,e,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,s||ST(e,o,r)}function Ae(s,e){return s}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends Li{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Xr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class wT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class DC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Jt.UNAUTHENTICATED)))}shutdown(){}}class OC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class MC{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ke(this.o===void 0,42304);let r=this.i;const o=p=>this.i!==r?(r=this.i,n(p)):Promise.resolve();let u=new Xr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Xr,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},g=p=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>g(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Xr)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ke(typeof r.accessToken=="string",31837,{l:r}),new wT(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new Jt(e)}}class VC{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class kC{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new VC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Jt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class J0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class UC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Sn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ke(this.o===void 0,3512);const r=u=>{u.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ae("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>r(u)))};const o=u=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new J0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ke(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new J0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function LC(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}class rg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=LC(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<n&&(r+=e.charAt(o[u]%62))}return r}}function Ue(s,e){return s<e?-1:s>e?1:0}function wm(s,e){const n=Math.min(s.length,e.length);for(let r=0;r<n;r++){const o=s.charAt(r),u=e.charAt(r);if(o!==u)return lm(o)===lm(u)?Ue(o,u):lm(o)?1:-1}return Ue(s.length,e.length)}const PC=55296,jC=57343;function lm(s){const e=s.charCodeAt(0);return e>=PC&&e<=jC}function ao(s,e,n){return s.length===e.length&&s.every(((r,o)=>n(r,e[o])))}const Z0="__name__";class Ci{constructor(e,n,r){n===void 0?n=0:n>e.length&&ye(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ye(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ci.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ci?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const u=Ci.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ue(e.length,n.length)}static compareSegments(e,n){const r=Ci.isNumericId(e),o=Ci.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?Ci.extractNumericId(e).compare(Ci.extractNumericId(n)):wm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return nr.fromString(e.substring(4,e.length-2))}}class it extends Ci{construct(e,n,r){return new it(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new oe(Z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new it(n)}static emptyPath(){return new it([])}}const zC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends Ci{construct(e,n,r){return new Kt(e,n,r)}static isValidIdentifier(e){return zC.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Z0}static keyField(){return new Kt([Z0])}static fromServerFormat(e){const n=[];let r="",o=0;const u=()=>{if(r.length===0)throw new oe(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let f=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new oe(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new oe(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=p,o+=2}else g==="`"?(f=!f,o++):g!=="."||f?(r+=g,o++):(u(),o++)}if(u(),f)throw new oe(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(n)}static emptyPath(){return new Kt([])}}class me{constructor(e){this.path=e}static fromPath(e){return new me(it.fromString(e))}static fromName(e){return new me(it.fromString(e).popFirst(5))}static empty(){return new me(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return it.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new it(e.slice()))}}function RT(s,e,n){if(!n)throw new oe(Z.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function BC(s,e,n,r){if(e===!0&&r===!0)throw new oe(Z.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function W0(s){if(!me.isDocumentKey(s))throw new oe(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function ev(s){if(me.isDocumentKey(s))throw new oe(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function CT(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Oh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":ye(12329,{type:typeof s})}function ir(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new oe(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Oh(s);throw new oe(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}function Nt(s,e){const n={typeString:s};return e&&(n.value=e),n}function eu(s,e){if(!CT(s))throw new oe(Z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const o=e[r].typeString,u="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){n=`JSON missing required field: '${r}'`;break}const f=s[r];if(o&&typeof f!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${r}' field to equal '${u.value}'`;break}}if(n)throw new oe(Z.INVALID_ARGUMENT,n);return!0}const tv=-62135596800,nv=1e6;class at{static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*nv);return new at(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new oe(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new oe(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<tv)throw new oe(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/nv}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:at._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(eu(e,at._jsonSchema))return new at(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-tv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}at._jsonSchemaVersion="firestore/timestamp/1.0",at._jsonSchema={type:Nt("string",at._jsonSchemaVersion),seconds:Nt("number"),nanoseconds:Nt("number")};class Te{static fromTimestamp(e){return new Te(e)}static min(){return new Te(new at(0,0))}static max(){return new Te(new at(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const zl=-1;function qC(s,e){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=Te.fromTimestamp(r===1e9?new at(n+1,0):new at(n,r));return new lr(o,me.empty(),e)}function HC(s){return new lr(s.readTime,s.key,zl)}class lr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new lr(Te.min(),me.empty(),zl)}static max(){return new lr(Te.max(),me.empty(),zl)}}function FC(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=me.comparator(s.documentKey,e.documentKey),n!==0?n:Ue(s.largestBatchId,e.largestBatchId))}const GC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class YC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function go(s){if(s.code!==Z.FAILED_PRECONDITION||s.message!==GC)throw s;ae("LocalStore","Unexpectedly lost primary lease")}class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ye(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new W(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(r,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):W.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):W.reject(n)}static resolve(e){return new W(((n,r)=>{n(e)}))}static reject(e){return new W(((n,r)=>{r(e)}))}static waitFor(e){return new W(((n,r)=>{let o=0,u=0,f=!1;e.forEach((g=>{++o,g.next((()=>{++u,f&&u===o&&n()}),(p=>r(p)))})),f=!0,u===o&&n()}))}static or(e){let n=W.resolve(!1);for(const r of e)n=n.next((o=>o?W.resolve(o):r()));return n}static forEach(e,n){const r=[];return e.forEach(((o,u)=>{r.push(n.call(this,o,u))})),this.waitFor(r)}static mapArray(e,n){return new W(((r,o)=>{const u=e.length,f=new Array(u);let g=0;for(let p=0;p<u;p++){const y=p;n(e[y]).next((b=>{f[y]=b,++g,g===u&&r(f)}),(b=>o(b)))}}))}static doWhile(e,n){return new W(((r,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):r()};u()}))}}function KC(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function po(s){return s.name==="IndexedDbTransactionError"}class Mh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Mh.ce=-1;const ag=-1;function Vh(s){return s==null}function hh(s){return s===0&&1/s==-1/0}function QC(s){return typeof s=="number"&&Number.isInteger(s)&&!hh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const xT="";function $C(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=iv(e)),e=XC(s.get(n),e);return iv(e)}function XC(s,e){let n=e;const r=s.length;for(let o=0;o<r;o++){const u=s.charAt(o);switch(u){case"\0":n+="";break;case xT:n+="";break;default:n+=u}}return n}function iv(s){return s+xT+""}function sv(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function mr(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function IT(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class ut{constructor(e,n){this.comparator=e,this.root=n||Yt.EMPTY}insert(e,n){return new ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new jc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new jc(this.root,e,this.comparator,!1)}getReverseIterator(){return new jc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new jc(this.root,e,this.comparator,!0)}}class jc{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?r(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,n,r,o,u){this.key=e,this.value=n,this.color=r??Yt.RED,this.left=o??Yt.EMPTY,this.right=u??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,u){return new Yt(e??this.key,n??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,r),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Yt.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ye(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ye(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ye(27949);return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1;Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw ye(57766)}get value(){throw ye(16141)}get color(){throw ye(16727)}get left(){throw ye(29726)}get right(){throw ye(36894)}copy(e,n,r,o,u){return this}insert(e,n,r){return new Yt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Vt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new rv(this.data.getIterator())}getIteratorFrom(e){return new rv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Vt(this.comparator);return n.data=e,n}}class rv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class wn{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new wn([])}unionWith(e){let n=new Vt(Kt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new wn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ao(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class NT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new NT("Invalid base64 string: "+u):u}})(e);return new Qt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new Qt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const JC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ur(s){if(Ke(!!s,39018),typeof s=="string"){let e=0;const n=JC.exec(s);if(Ke(!!n,46558,{timestamp:s}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:_t(s.seconds),nanos:_t(s.nanos)}}function _t(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function cr(s){return typeof s=="string"?Qt.fromBase64String(s):Qt.fromUint8Array(s)}const DT="server_timestamp",OT="__type__",MT="__previous_value__",VT="__local_write_time__";function og(s){return(s?.mapValue?.fields||{})[OT]?.stringValue===DT}function kh(s){const e=s.mapValue.fields[MT];return og(e)?kh(e):e}function Bl(s){const e=ur(s.mapValue.fields[VT].timestampValue);return new at(e.seconds,e.nanos)}class ZC{constructor(e,n,r,o,u,f,g,p,y,b){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=b}}const fh="(default)";class ql{constructor(e,n){this.projectId=e,this.database=n||fh}static empty(){return new ql("","")}get isDefaultDatabase(){return this.database===fh}isEqual(e){return e instanceof ql&&e.projectId===this.projectId&&e.database===this.database}}const kT="__type__",WC="__max__",zc={mapValue:{}},UT="__vector__",dh="value";function hr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?og(s)?4:tx(s)?9007199254740991:ex(s)?10:11:ye(28295,{value:s})}function ki(s,e){if(s===e)return!0;const n=hr(s);if(n!==hr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Bl(s).isEqual(Bl(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=ur(o.timestampValue),g=ur(u.timestampValue);return f.seconds===g.seconds&&f.nanos===g.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,u){return cr(o.bytesValue).isEqual(cr(u.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,u){return _t(o.geoPointValue.latitude)===_t(u.geoPointValue.latitude)&&_t(o.geoPointValue.longitude)===_t(u.geoPointValue.longitude)})(s,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return _t(o.integerValue)===_t(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=_t(o.doubleValue),g=_t(u.doubleValue);return f===g?hh(f)===hh(g):isNaN(f)&&isNaN(g)}return!1})(s,e);case 9:return ao(s.arrayValue.values||[],e.arrayValue.values||[],ki);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},g=u.mapValue.fields||{};if(sv(f)!==sv(g))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(g[p]===void 0||!ki(f[p],g[p])))return!1;return!0})(s,e);default:return ye(52216,{left:s})}}function Hl(s,e){return(s.values||[]).find((n=>ki(n,e)))!==void 0}function oo(s,e){if(s===e)return 0;const n=hr(s),r=hr(e);if(n!==r)return Ue(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ue(s.booleanValue,e.booleanValue);case 2:return(function(u,f){const g=_t(u.integerValue||u.doubleValue),p=_t(f.integerValue||f.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1})(s,e);case 3:return av(s.timestampValue,e.timestampValue);case 4:return av(Bl(s),Bl(e));case 5:return wm(s.stringValue,e.stringValue);case 6:return(function(u,f){const g=cr(u),p=cr(f);return g.compareTo(p)})(s.bytesValue,e.bytesValue);case 7:return(function(u,f){const g=u.split("/"),p=f.split("/");for(let y=0;y<g.length&&y<p.length;y++){const b=Ue(g[y],p[y]);if(b!==0)return b}return Ue(g.length,p.length)})(s.referenceValue,e.referenceValue);case 8:return(function(u,f){const g=Ue(_t(u.latitude),_t(f.latitude));return g!==0?g:Ue(_t(u.longitude),_t(f.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return ov(s.arrayValue,e.arrayValue);case 10:return(function(u,f){const g=u.fields||{},p=f.fields||{},y=g[dh]?.arrayValue,b=p[dh]?.arrayValue,S=Ue(y?.values?.length||0,b?.values?.length||0);return S!==0?S:ov(y,b)})(s.mapValue,e.mapValue);case 11:return(function(u,f){if(u===zc.mapValue&&f===zc.mapValue)return 0;if(u===zc.mapValue)return 1;if(f===zc.mapValue)return-1;const g=u.fields||{},p=Object.keys(g),y=f.fields||{},b=Object.keys(y);p.sort(),b.sort();for(let S=0;S<p.length&&S<b.length;++S){const R=wm(p[S],b[S]);if(R!==0)return R;const P=oo(g[p[S]],y[b[S]]);if(P!==0)return P}return Ue(p.length,b.length)})(s.mapValue,e.mapValue);default:throw ye(23264,{he:n})}}function av(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Ue(s,e);const n=ur(s),r=ur(e),o=Ue(n.seconds,r.seconds);return o!==0?o:Ue(n.nanos,r.nanos)}function ov(s,e){const n=s.values||[],r=e.values||[];for(let o=0;o<n.length&&o<r.length;++o){const u=oo(n[o],r[o]);if(u)return u}return Ue(n.length,r.length)}function lo(s){return Rm(s)}function Rm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const r=ur(n);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return cr(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return me.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let r="[",o=!0;for(const u of n.values||[])o?o=!1:r+=",",r+=Rm(u);return r+"]"})(s.arrayValue):"mapValue"in s?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of r)u?u=!1:o+=",",o+=`${f}:${Rm(n.fields[f])}`;return o+"}"})(s.mapValue):ye(61005,{value:s})}function Jc(s){switch(hr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=kh(s);return e?16+Jc(e):16;case 5:return 2*s.stringValue.length;case 6:return cr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+Jc(u)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return mr(r.fields,((u,f)=>{o+=u.length+Jc(f)})),o})(s.mapValue);default:throw ye(13486,{value:s})}}function lv(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Cm(s){return!!s&&"integerValue"in s}function lg(s){return!!s&&"arrayValue"in s}function uv(s){return!!s&&"nullValue"in s}function cv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Zc(s){return!!s&&"mapValue"in s}function ex(s){return(s?.mapValue?.fields||{})[kT]?.stringValue===UT}function Ol(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return mr(s.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Ol(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ol(s.arrayValue.values[n]);return e}return{...s}}function tx(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===WC}class mn{constructor(e){this.value=e}static empty(){return new mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Zc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ol(n)}setAll(e){let n=Kt.emptyPath(),r={},o=[];e.forEach(((f,g)=>{if(!n.isImmediateParentOf(g)){const p=this.getFieldsMap(n);this.applyChanges(p,r,o),r={},o=[],n=g.popLast()}f?r[g.lastSegment()]=Ol(f):o.push(g.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,r,o)}delete(e){const n=this.field(e.popLast());Zc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ki(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];Zc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){mr(n,((o,u)=>e[o]=u));for(const o of r)delete e[o]}clone(){return new mn(Ol(this.value))}}function LT(s){const e=[];return mr(s.fields,((n,r)=>{const o=new Kt([n]);if(Zc(r)){const u=LT(r.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new wn(e)}class Zt{constructor(e,n,r,o,u,f,g){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=u,this.data=f,this.documentState=g}static newInvalidDocument(e){return new Zt(e,0,Te.min(),Te.min(),Te.min(),mn.empty(),0)}static newFoundDocument(e,n,r,o){return new Zt(e,1,n,Te.min(),r,o,0)}static newNoDocument(e,n){return new Zt(e,2,n,Te.min(),Te.min(),mn.empty(),0)}static newUnknownDocument(e,n){return new Zt(e,3,n,Te.min(),Te.min(),mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class mh{constructor(e,n){this.position=e,this.inclusive=n}}function hv(s,e,n){let r=0;for(let o=0;o<s.position.length;o++){const u=e[o],f=s.position[o];if(u.field.isKeyField()?r=me.comparator(me.fromName(f.referenceValue),n.key):r=oo(f,n.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function fv(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!ki(s.position[n],e.position[n]))return!1;return!0}class gh{constructor(e,n="asc"){this.field=e,this.dir=n}}function nx(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class PT{}class It extends PT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new sx(e,n,r):n==="array-contains"?new ox(e,r):n==="in"?new lx(e,r):n==="not-in"?new ux(e,r):n==="array-contains-any"?new cx(e,r):new It(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new rx(e,r):new ax(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(oo(n,this.value)):n!==null&&hr(this.value)===hr(n)&&this.matchesComparison(oo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ye(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ii extends PT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ii(e,n)}matches(e){return jT(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function jT(s){return s.op==="and"}function zT(s){return ix(s)&&jT(s)}function ix(s){for(const e of s.filters)if(e instanceof ii)return!1;return!0}function xm(s){if(s instanceof It)return s.field.canonicalString()+s.op.toString()+lo(s.value);if(zT(s))return s.filters.map((e=>xm(e))).join(",");{const e=s.filters.map((n=>xm(n))).join(",");return`${s.op}(${e})`}}function BT(s,e){return s instanceof It?(function(r,o){return o instanceof It&&r.op===o.op&&r.field.isEqual(o.field)&&ki(r.value,o.value)})(s,e):s instanceof ii?(function(r,o){return o instanceof ii&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,f,g)=>u&&BT(f,o.filters[g])),!0):!1})(s,e):void ye(19439)}function qT(s){return s instanceof It?(function(n){return`${n.field.canonicalString()} ${n.op} ${lo(n.value)}`})(s):s instanceof ii?(function(n){return n.op.toString()+" {"+n.getFilters().map(qT).join(" ,")+"}"})(s):"Filter"}class sx extends It{constructor(e,n,r){super(e,n,r),this.key=me.fromName(r.referenceValue)}matches(e){const n=me.comparator(e.key,this.key);return this.matchesComparison(n)}}class rx extends It{constructor(e,n){super(e,"in",n),this.keys=HT("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class ax extends It{constructor(e,n){super(e,"not-in",n),this.keys=HT("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function HT(s,e){return(e.arrayValue?.values||[]).map((n=>me.fromName(n.referenceValue)))}class ox extends It{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return lg(n)&&Hl(n.arrayValue,this.value)}}class lx extends It{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Hl(this.value.arrayValue,n)}}class ux extends It{constructor(e,n){super(e,"not-in",n)}matches(e){if(Hl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Hl(this.value.arrayValue,n)}}class cx extends It{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!lg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Hl(this.value.arrayValue,r)))}}class hx{constructor(e,n=null,r=[],o=[],u=null,f=null,g=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=f,this.endAt=g,this.Te=null}}function dv(s,e=null,n=[],r=[],o=null,u=null,f=null){return new hx(s,e,n,r,o,u,f)}function ug(s){const e=Ae(s);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>xm(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Vh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>lo(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>lo(r))).join(",")),e.Te=n}return e.Te}function cg(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!nx(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!BT(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!fv(s.startAt,e.startAt)&&fv(s.endAt,e.endAt)}function Im(s){return me.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class tu{constructor(e,n=null,r=[],o=[],u=null,f="F",g=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=f,this.startAt=g,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function fx(s,e,n,r,o,u,f,g){return new tu(s,e,n,r,o,u,f,g)}function hg(s){return new tu(s)}function mv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function FT(s){return s.collectionGroup!==null}function Ml(s){const e=Ae(s);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let g=new Vt(Kt.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new gh(u,r))})),n.has(Kt.keyField().canonicalString())||e.Ie.push(new gh(Kt.keyField(),r))}return e.Ie}function Ni(s){const e=Ae(s);return e.Ee||(e.Ee=dx(e,Ml(s))),e.Ee}function dx(s,e){if(s.limitType==="F")return dv(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new gh(o.field,u)}));const n=s.endAt?new mh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new mh(s.startAt.position,s.startAt.inclusive):null;return dv(s.path,s.collectionGroup,e,s.filters,s.limit,n,r)}}function Nm(s,e){const n=s.filters.concat([e]);return new tu(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function Dm(s,e,n){return new tu(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function Uh(s,e){return cg(Ni(s),Ni(e))&&s.limitType===e.limitType}function GT(s){return`${ug(Ni(s))}|lt:${s.limitType}`}function Ja(s){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>qT(o))).join(", ")}]`),Vh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>lo(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>lo(o))).join(",")),`Target(${r})`})(Ni(s))}; limitType=${s.limitType})`}function Lh(s,e){return e.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):me.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(s,e)&&(function(r,o){for(const u of Ml(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(s,e)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(s,e)&&(function(r,o){return!(r.startAt&&!(function(f,g,p){const y=hv(f,g,p);return f.inclusive?y<=0:y<0})(r.startAt,Ml(r),o)||r.endAt&&!(function(f,g,p){const y=hv(f,g,p);return f.inclusive?y>=0:y>0})(r.endAt,Ml(r),o))})(s,e)}function mx(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function YT(s){return(e,n)=>{let r=!1;for(const o of Ml(s)){const u=gx(o,e,n);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function gx(s,e,n){const r=s.field.isKeyField()?me.comparator(e.key,n.key):(function(u,f,g){const p=f.data.field(u),y=g.data.field(u);return p!==null&&y!==null?oo(p,y):ye(42886)})(s.field,e,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return ye(19790,{direction:s.dir})}}class aa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){mr(this.inner,((n,r)=>{for(const[o,u]of r)e(o,u)}))}isEmpty(){return IT(this.inner)}size(){return this.innerSize}}const px=new ut(me.comparator);function ds(){return px}const KT=new ut(me.comparator);function Rl(...s){let e=KT;for(const n of s)e=e.insert(n.key,n);return e}function QT(s){let e=KT;return s.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function $r(){return Vl()}function $T(){return Vl()}function Vl(){return new aa((s=>s.toString()),((s,e)=>s.isEqual(e)))}const yx=new ut(me.comparator),_x=new Vt(me.comparator);function Le(...s){let e=_x;for(const n of s)e=e.add(n);return e}const vx=new Vt(Ue);function Ex(){return vx}function fg(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hh(e)?"-0":e}}function XT(s){return{integerValue:""+s}}function Tx(s,e){return QC(e)?XT(e):fg(s,e)}class Ph{constructor(){this._=void 0}}function bx(s,e,n){return s instanceof ph?(function(o,u){const f={fields:{[OT]:{stringValue:DT},[VT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&og(u)&&(u=kh(u)),u&&(f.fields[MT]=u),{mapValue:f}})(n,e):s instanceof Fl?ZT(s,e):s instanceof Gl?WT(s,e):(function(o,u){const f=JT(o,u),g=gv(f)+gv(o.Ae);return Cm(f)&&Cm(o.Ae)?XT(g):fg(o.serializer,g)})(s,e)}function Ax(s,e,n){return s instanceof Fl?ZT(s,e):s instanceof Gl?WT(s,e):n}function JT(s,e){return s instanceof yh?(function(r){return Cm(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(e)?e:{integerValue:0}:null}class ph extends Ph{}class Fl extends Ph{constructor(e){super(),this.elements=e}}function ZT(s,e){const n=e1(e);for(const r of s.elements)n.some((o=>ki(o,r)))||n.push(r);return{arrayValue:{values:n}}}class Gl extends Ph{constructor(e){super(),this.elements=e}}function WT(s,e){let n=e1(e);for(const r of s.elements)n=n.filter((o=>!ki(o,r)));return{arrayValue:{values:n}}}class yh extends Ph{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function gv(s){return _t(s.integerValue||s.doubleValue)}function e1(s){return lg(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function Sx(s,e){return s.field.isEqual(e.field)&&(function(r,o){return r instanceof Fl&&o instanceof Fl||r instanceof Gl&&o instanceof Gl?ao(r.elements,o.elements,ki):r instanceof yh&&o instanceof yh?ki(r.Ae,o.Ae):r instanceof ph&&o instanceof ph})(s.transform,e.transform)}class wx{constructor(e,n){this.version=e,this.transformResults=n}}class ni{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ni}static exists(e){return new ni(void 0,e)}static updateTime(e){return new ni(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class jh{}function t1(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new dg(s.key,ni.none()):new nu(s.key,s.data,ni.none());{const n=s.data,r=mn.empty();let o=new Vt(Kt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?r.delete(u):r.set(u,f),o=o.add(u)}return new gr(s.key,r,new wn(o.toArray()),ni.none())}}function Rx(s,e,n){s instanceof nu?(function(o,u,f){const g=o.value.clone(),p=yv(o.fieldTransforms,u,f.transformResults);g.setAll(p),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(s,e,n):s instanceof gr?(function(o,u,f){if(!Wc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const g=yv(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(n1(o)),p.setAll(g),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(s,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function kl(s,e,n,r){return s instanceof nu?(function(u,f,g,p){if(!Wc(u.precondition,f))return g;const y=u.value.clone(),b=_v(u.fieldTransforms,p,f);return y.setAll(b),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(s,e,n,r):s instanceof gr?(function(u,f,g,p){if(!Wc(u.precondition,f))return g;const y=_v(u.fieldTransforms,p,f),b=f.data;return b.setAll(n1(u)),b.setAll(y),f.convertToFoundDocument(f.version,b).setHasLocalMutations(),g===null?null:g.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(s,e,n,r):(function(u,f,g){return Wc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):g})(s,e,n)}function Cx(s,e){let n=null;for(const r of s.fieldTransforms){const o=e.data.field(r.field),u=JT(r.transform,o||null);u!=null&&(n===null&&(n=mn.empty()),n.set(r.field,u))}return n||null}function pv(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&ao(r,o,((u,f)=>Sx(u,f)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class nu extends jh{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class gr extends jh{constructor(e,n,r,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function n1(s){const e=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=s.data.field(n);e.set(n,r)}})),e}function yv(s,e,n){const r=new Map;Ke(s.length===n.length,32656,{Re:n.length,Ve:s.length});for(let o=0;o<n.length;o++){const u=s[o],f=u.transform,g=e.data.field(u.field);r.set(u.field,Ax(f,g,n[o]))}return r}function _v(s,e,n){const r=new Map;for(const o of s){const u=o.transform,f=n.data.field(o.field);r.set(o.field,bx(u,f,e))}return r}class dg extends jh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xx extends jh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ix{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&Rx(u,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=kl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=kl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=$T();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let g=this.applyToLocalView(f,u.mutatedFields);g=n.has(o.key)?null:g;const p=t1(f,g);p!==null&&r.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Te.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Le())}isEqual(e){return this.batchId===e.batchId&&ao(this.mutations,e.mutations,((n,r)=>pv(n,r)))&&ao(this.baseMutations,e.baseMutations,((n,r)=>pv(n,r)))}}class mg{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){Ke(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return yx})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,r[f].version);return new mg(e,n,r,o)}}class Nx{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Dx{constructor(e,n){this.count=e,this.unchangedNames=n}}var xt,Be;function Ox(s){switch(s){case Z.OK:return ye(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return ye(15467,{code:s})}}function i1(s){if(s===void 0)return fs("GRPC error has no .code"),Z.UNKNOWN;switch(s){case xt.OK:return Z.OK;case xt.CANCELLED:return Z.CANCELLED;case xt.UNKNOWN:return Z.UNKNOWN;case xt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case xt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case xt.INTERNAL:return Z.INTERNAL;case xt.UNAVAILABLE:return Z.UNAVAILABLE;case xt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case xt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case xt.NOT_FOUND:return Z.NOT_FOUND;case xt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case xt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case xt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case xt.ABORTED:return Z.ABORTED;case xt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case xt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case xt.DATA_LOSS:return Z.DATA_LOSS;default:return ye(39323,{code:s})}}(Be=xt||(xt={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";function Mx(){return new TextEncoder}const Vx=new nr([4294967295,4294967295],0);function vv(s){const e=Mx().encode(s),n=new _T;return n.update(e),new Uint8Array(n.digest())}function Ev(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new nr([n,r],0),new nr([o,u],0)]}class gg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Cl(`Invalid padding: ${n}`);if(r<0)throw new Cl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Cl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Cl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=nr.fromNumber(this.ge)}ye(e,n,r){let o=e.add(n.multiply(nr.fromNumber(r)));return o.compare(Vx)===1&&(o=new nr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=vv(e),[r,o]=Ev(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,o,u);if(!this.we(f))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new gg(u,o,n);return r.forEach((g=>f.insert(g))),f}insert(e){if(this.ge===0)return;const n=vv(e),[r,o]=Ev(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Cl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class zh{constructor(e,n,r,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,iu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new zh(Te.min(),o,new ut(Ue),ds(),Le())}}class iu{constructor(e,n,r,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new iu(r,n,Le(),Le(),Le())}}class eh{constructor(e,n,r,o){this.be=e,this.removedTargetIds=n,this.key=r,this.De=o}}class s1{constructor(e,n){this.targetId=e,this.Ce=n}}class r1{constructor(e,n,r=Qt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class Tv{constructor(){this.ve=0,this.Fe=bv(),this.Me=Qt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Le(),n=Le(),r=Le();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:ye(38017,{changeType:u})}})),new iu(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=bv()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ke(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class kx{constructor(e){this.Ge=e,this.ze=new Map,this.je=ds(),this.Je=Bc(),this.He=Bc(),this.Ye=new ut(Ue)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ye(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,r=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Im(u))if(r===0){const f=new me(u.path);this.et(n,f,Zt.newNoDocument(f,Te.min()))}else Ke(r===1,20013,{expectedCount:r});else{const f=this._t(n);if(f!==r){const g=this.ut(e),p=g?this.ct(g,e,f):1;if(p!==0){this.it(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=n;let f,g;try{f=cr(r).toUint8Array()}catch(p){if(p instanceof NT)return ro("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new gg(f,o,u)}catch(p){return ro(p instanceof Cl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.ge===0?null:g}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach((u=>{const f=this.Ge.ht(),g=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(g)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const g=this.ot(f);if(g){if(u.current&&Im(g.target)){const p=new me(g.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,Zt.newNoDocument(p,e))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let r=Le();this.He.forEach(((u,f)=>{let g=!0;f.forEachWhile((p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(r=r.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new zh(e,n,this.Ye,this.je,r);return this.je=ds(),this.Je=Bc(),this.He=Bc(),this.Ye=new ut(Ue),o}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Tv,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Vt(Ue),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Vt(Ue),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ae("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Tv),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Bc(){return new ut(me.comparator)}function bv(){return new ut(me.comparator)}const Ux={asc:"ASCENDING",desc:"DESCENDING"},Lx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Px={and:"AND",or:"OR"};class jx{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Om(s,e){return s.useProto3Json||Vh(e)?e:{value:e}}function _h(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function a1(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function zx(s,e){return _h(s,e.toTimestamp())}function Di(s){return Ke(!!s,49232),Te.fromTimestamp((function(n){const r=ur(n);return new at(r.seconds,r.nanos)})(s))}function pg(s,e){return Mm(s,e).canonicalString()}function Mm(s,e){const n=(function(o){return new it(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?n:n.child(e)}function o1(s){const e=it.fromString(s);return Ke(f1(e),10190,{key:e.toString()}),e}function Vm(s,e){return pg(s.databaseId,e.path)}function um(s,e){const n=o1(e);if(n.get(1)!==s.databaseId.projectId)throw new oe(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new oe(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new me(u1(n))}function l1(s,e){return pg(s.databaseId,e)}function Bx(s){const e=o1(s);return e.length===4?it.emptyPath():u1(e)}function km(s){return new it(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function u1(s){return Ke(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Av(s,e,n){return{name:Vm(s,e),fields:n.value.mapValue.fields}}function qx(s,e){let n;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:ye(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(y,b){return y.useProto3Json?(Ke(b===void 0||typeof b=="string",58123),Qt.fromBase64String(b||"")):(Ke(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Qt.fromUint8Array(b||new Uint8Array))})(s,e.targetChange.resumeToken),f=e.targetChange.cause,g=f&&(function(y){const b=y.code===void 0?Z.UNKNOWN:i1(y.code);return new oe(b,y.message||"")})(f);n=new r1(r,o,u,g||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=um(s,r.document.name),u=Di(r.document.updateTime),f=r.document.createTime?Di(r.document.createTime):Te.min(),g=new mn({mapValue:{fields:r.document.fields}}),p=Zt.newFoundDocument(o,u,f,g),y=r.targetIds||[],b=r.removedTargetIds||[];n=new eh(y,b,p.key,p)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=um(s,r.document),u=r.readTime?Di(r.readTime):Te.min(),f=Zt.newNoDocument(o,u),g=r.removedTargetIds||[];n=new eh([],g,f.key,f)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=um(s,r.document),u=r.removedTargetIds||[];n=new eh([],u,o,null)}else{if(!("filter"in e))return ye(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,f=new Dx(o,u),g=r.targetId;n=new s1(g,f)}}return n}function Hx(s,e){let n;if(e instanceof nu)n={update:Av(s,e.key,e.value)};else if(e instanceof dg)n={delete:Vm(s,e.key)};else if(e instanceof gr)n={update:Av(s,e.key,e.data),updateMask:Zx(e.fieldMask)};else{if(!(e instanceof xx))return ye(16599,{Vt:e.type});n={verify:Vm(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(u,f){const g=f.transform;if(g instanceof ph)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Fl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Gl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof yh)return{fieldPath:f.field.canonicalString(),increment:g.Ae};throw ye(20930,{transform:f.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:zx(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:ye(27497)})(s,e.precondition)),n}function Fx(s,e){return s&&s.length>0?(Ke(e!==void 0,14353),s.map((n=>(function(o,u){let f=o.updateTime?Di(o.updateTime):Di(u);return f.isEqual(Te.min())&&(f=Di(u)),new wx(f,o.transformResults||[])})(n,e)))):[]}function Gx(s,e){return{documents:[l1(s,e.path)]}}function Yx(s,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=l1(s,o);const u=(function(y){if(y.length!==0)return h1(ii.create(y,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((b=>(function(R){return{field:Za(R.field),direction:$x(R.dir)}})(b)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const g=Om(s,e.limit);return g!==null&&(n.structuredQuery.limit=g),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function Kx(s){let e=Bx(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){Ke(r===1,65062);const b=n.from[0];b.allDescendants?o=b.collectionId:e=e.child(b.collectionId)}let u=[];n.where&&(u=(function(S){const R=c1(S);return R instanceof ii&&zT(R)?R.getFilters():[R]})(n.where));let f=[];n.orderBy&&(f=(function(S){return S.map((R=>(function($){return new gh(Wa($.field),(function(K){switch(K){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})($.direction))})(R)))})(n.orderBy));let g=null;n.limit&&(g=(function(S){let R;return R=typeof S=="object"?S.value:S,Vh(R)?null:R})(n.limit));let p=null;n.startAt&&(p=(function(S){const R=!!S.before,P=S.values||[];return new mh(P,R)})(n.startAt));let y=null;return n.endAt&&(y=(function(S){const R=!S.before,P=S.values||[];return new mh(P,R)})(n.endAt)),fx(e,o,f,u,g,"F",p,y)}function Qx(s,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ye(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function c1(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Wa(n.unaryFilter.field);return It.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Wa(n.unaryFilter.field);return It.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Wa(n.unaryFilter.field);return It.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Wa(n.unaryFilter.field);return It.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ye(61313);default:return ye(60726)}})(s):s.fieldFilter!==void 0?(function(n){return It.create(Wa(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ye(58110);default:return ye(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return ii.create(n.compositeFilter.filters.map((r=>c1(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ye(1026)}})(n.compositeFilter.op))})(s):ye(30097,{filter:s})}function $x(s){return Ux[s]}function Xx(s){return Lx[s]}function Jx(s){return Px[s]}function Za(s){return{fieldPath:s.canonicalString()}}function Wa(s){return Kt.fromServerFormat(s.fieldPath)}function h1(s){return s instanceof It?(function(n){if(n.op==="=="){if(cv(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NAN"}};if(uv(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(cv(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NOT_NAN"}};if(uv(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Za(n.field),op:Xx(n.op),value:n.value}}})(s):s instanceof ii?(function(n){const r=n.getFilters().map((o=>h1(o)));return r.length===1?r[0]:{compositeFilter:{op:Jx(n.op),filters:r}}})(s):ye(54877,{filter:s})}function Zx(s){const e=[];return s.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function f1(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class Zs{constructor(e,n,r,o,u=Te.min(),f=Te.min(),g=Qt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(e){return new Zs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Wx{constructor(e){this.yt=e}}function eI(s){const e=Kx({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Dm(e,e.limit,"L"):e}class tI{constructor(){this.Cn=new nI}addToCollectionParentIndex(e,n){return this.Cn.add(n),W.resolve()}getCollectionParents(e,n){return W.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return W.resolve()}deleteFieldIndex(e,n){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,n){return W.resolve()}getDocumentsMatchingTarget(e,n){return W.resolve(null)}getIndexType(e,n){return W.resolve(0)}getFieldIndexes(e,n){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,n){return W.resolve(lr.min())}getMinOffsetFromCollectionGroup(e,n){return W.resolve(lr.min())}updateCollectionGroup(e,n,r){return W.resolve()}updateIndexEntries(e,n){return W.resolve()}}class nI{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new Vt(it.comparator),u=!o.has(r);return this.index[n]=o.add(r),u}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Vt(it.comparator)).toArray()}}const Sv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},d1=41943040;class dn{static withCacheSize(e){return new dn(e,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}dn.DEFAULT_COLLECTION_PERCENTILE=10,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dn.DEFAULT=new dn(d1,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dn.DISABLED=new dn(-1,0,0);class uo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new uo(0)}static cr(){return new uo(-1)}}const wv="LruGarbageCollector",iI=1048576;function Rv([s,e],[n,r]){const o=Ue(s,n);return o===0?Ue(e,r):o}class sI{constructor(e){this.Ir=e,this.buffer=new Vt(Rv),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Rv(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class rI{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ae(wv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){po(n)?ae(wv,"Ignoring IndexedDB error during garbage collection: ",n):await go(n)}await this.Vr(3e5)}))}}class aI{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return W.resolve(Mh.ce);const r=new sI(n);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(Sv)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Sv):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,o,u,f,g,p,y;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(r=S,g=Date.now(),this.removeTargets(e,r,n)))).next((S=>(u=S,p=Date.now(),this.removeOrphanedDocuments(e,r)))).next((S=>(y=Date.now(),Xa()<=ke.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-b}ms
	Determined least recently used ${o} in `+(g-f)+`ms
	Removed ${u} targets in `+(p-g)+`ms
	Removed ${S} documents in `+(y-p)+`ms
Total Duration: ${y-b}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S}))))}}function oI(s,e){return new aI(s,e)}class lI{constructor(){this.changes=new aa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?W.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class uI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class cI{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(r!==null&&kl(r.mutation,o,wn.empty(),at.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Le()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Le()){const o=$r();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,r).next((u=>{let f=Rl();return u.forEach(((g,p)=>{f=f.insert(g,p.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const r=$r();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Le())))}populateOverlays(e,n,r){const o=[];return r.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,g)=>{n.set(f,g)}))}))}computeViews(e,n,r,o){let u=ds();const f=Vl(),g=(function(){return Vl()})();return n.forEach(((p,y)=>{const b=r.get(y.key);o.has(y.key)&&(b===void 0||b.mutation instanceof gr)?u=u.insert(y.key,y):b!==void 0?(f.set(y.key,b.mutation.getFieldMask()),kl(b.mutation,y,b.mutation.getFieldMask(),at.now())):f.set(y.key,wn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((y,b)=>f.set(y,b))),n.forEach(((y,b)=>g.set(y,new uI(b,f.get(y)??null)))),g)))}recalculateAndSaveOverlays(e,n){const r=Vl();let o=new ut(((f,g)=>f-g)),u=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const g of f)g.keys().forEach((p=>{const y=n.get(p);if(y===null)return;let b=r.get(p)||wn.empty();b=g.applyToLocalView(y,b),r.set(p,b);const S=(o.get(g.batchId)||Le()).add(p);o=o.insert(g.batchId,S)}))})).next((()=>{const f=[],g=o.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),y=p.key,b=p.value,S=$T();b.forEach((R=>{if(!u.has(R)){const P=t1(n.get(R),r.get(R));P!==null&&S.set(R,P),u=u.add(R)}})),f.push(this.documentOverlayCache.saveOverlays(e,y,S))}return W.waitFor(f)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,o){return(function(f){return me.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):FT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-u.size):W.resolve($r());let g=zl,p=u;return f.next((y=>W.forEach(y,((b,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),u.get(b)?W.resolve():this.remoteDocumentCache.getEntry(e,b).next((R=>{p=p.insert(b,R)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,p,y,Le()))).next((b=>({batchId:g,changes:QT(b)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new me(n)).next((r=>{let o=Rl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const u=n.collectionGroup;let f=Rl();return this.indexManager.getCollectionParents(e,u).next((g=>W.forEach(g,(p=>{const y=(function(S,R){return new tu(R,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,r,o).next((b=>{b.forEach(((S,R)=>{f=f.insert(S,R)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,u,o)))).next((f=>{u.forEach(((p,y)=>{const b=y.getKey();f.get(b)===null&&(f=f.insert(b,Zt.newInvalidDocument(b)))}));let g=Rl();return f.forEach(((p,y)=>{const b=u.get(p);b!==void 0&&kl(b.mutation,y,wn.empty(),at.now()),Lh(n,y)&&(g=g.insert(p,y))})),g}))}}class hI{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return W.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Di(o.createTime)}})(n)),W.resolve()}getNamedQuery(e,n){return W.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:eI(o.bundledQuery),readTime:Di(o.readTime)}})(n)),W.resolve()}}class fI{constructor(){this.overlays=new ut(me.comparator),this.qr=new Map}getOverlay(e,n){return W.resolve(this.overlays.get(n))}getOverlays(e,n){const r=$r();return W.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((o,u)=>{this.St(e,n,u)})),W.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),W.resolve()}getOverlaysForCollection(e,n,r){const o=$r(),u=n.length+1,f=new me(n.child("")),g=this.overlays.getIteratorFrom(f);for(;g.hasNext();){const p=g.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>r&&o.set(p.getKey(),p)}return W.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let u=new ut(((y,b)=>y-b));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>r){let b=u.get(y.largestBatchId);b===null&&(b=$r(),u=u.insert(y.largestBatchId,b)),b.set(y.getKey(),y)}}const g=$r(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,b)=>g.set(y,b))),!(g.size()>=o)););return W.resolve(g)}St(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new Nx(n,r));let u=this.qr.get(n);u===void 0&&(u=Le(),this.qr.set(n,u)),this.qr.set(n,u.add(r.key))}}class dI{constructor(){this.sessionToken=Qt.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,W.resolve()}}class yg{constructor(){this.Qr=new Vt(jt.$r),this.Ur=new Vt(jt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new jt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new jt(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new me(new it([])),r=new jt(n,e),o=new jt(n,e+1),u=[];return this.Ur.forEachInRange([r,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new me(new it([])),r=new jt(n,e),o=new jt(n,e+1);let u=Le();return this.Ur.forEachInRange([r,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new jt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class jt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return me.comparator(e.key,n.key)||Ue(e.Yr,n.Yr)}static Kr(e,n){return Ue(e.Yr,n.Yr)||me.comparator(e.key,n.key)}}class mI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Vt(jt.$r)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new Ix(u,n,r,o);this.mutationQueue.push(f);for(const g of o)this.Zr=this.Zr.add(new jt(g.key,u)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return W.resolve(f)}lookupMutationBatch(e,n){return W.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.ei(r),u=o<0?0:o;return W.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?ag:this.tr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new jt(n,0),o=new jt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,o],(f=>{const g=this.Xr(f.Yr);u.push(g)})),W.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Vt(Ue);return n.forEach((o=>{const u=new jt(o,0),f=new jt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(g=>{r=r.add(g.Yr)}))})),W.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let u=r;me.isDocumentKey(u)||(u=u.child(""));const f=new jt(new me(u),0);let g=new Vt(Ue);return this.Zr.forEachWhile((p=>{const y=p.key.path;return!!r.isPrefixOf(y)&&(y.length===o&&(g=g.add(p.Yr)),!0)}),f),W.resolve(this.ti(g))}ti(e){const n=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Ke(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return W.forEach(n.mutations,(o=>{const u=new jt(o.key,n.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new jt(n,0),o=this.Zr.firstAfterOrEqual(r);return W.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class gI{constructor(e){this.ri=e,this.docs=(function(){return new ut(me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return W.resolve(r?r.document.mutableCopy():Zt.newInvalidDocument(n))}getEntries(e,n){let r=ds();return n.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():Zt.newInvalidDocument(o))})),W.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let u=ds();const f=n.path,g=new me(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:y,value:{document:b}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||FC(HC(b),r)<=0||(o.has(b.key)||Lh(n,b))&&(u=u.insert(b.key,b.mutableCopy()))}return W.resolve(u)}getAllFromCollectionGroup(e,n,r,o){ye(9500)}ii(e,n){return W.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new pI(this)}getSize(e){return W.resolve(this.size)}}class pI extends lI{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),W.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class yI{constructor(e){this.persistence=e,this.si=new aa((n=>ug(n)),cg),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.oi=0,this._i=new yg,this.targetCount=0,this.ai=uo.ur()}forEachTarget(e,n){return this.si.forEach(((r,o)=>n(o))),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),W.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new uo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,W.resolve()}updateTargetData(e,n){return this.Pr(n),W.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,n,r){let o=0;const u=[];return this.si.forEach(((f,g)=>{g.sequenceNumber<=n&&r.get(g.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)})),W.waitFor(u).next((()=>o))}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return W.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),W.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),W.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),W.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return W.resolve(r)}containsKey(e,n){return W.resolve(this._i.containsKey(n))}}class m1{constructor(e,n){this.ui={},this.overlays={},this.ci=new Mh(0),this.li=!1,this.li=!0,this.hi=new dI,this.referenceDelegate=e(this),this.Pi=new yI(this),this.indexManager=new tI,this.remoteDocumentCache=(function(o){return new gI(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new Wx(n),this.Ii=new hI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new fI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new mI(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ae("MemoryPersistence","Starting transaction:",e);const o=new _I(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return W.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class _I extends YC{constructor(e){super(),this.currentSequenceNumber=e}}class _g{constructor(e){this.persistence=e,this.Ri=new yg,this.Vi=null}static mi(e){return new _g(e)}get fi(){if(this.Vi)return this.Vi;throw ye(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),W.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),W.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),W.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.fi,(r=>{const o=me.fromPath(r);return this.gi(e,o).next((u=>{u||n.removeEntry(o,Te.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return W.or([()=>W.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class vh{constructor(e,n){this.persistence=e,this.pi=new aa((r=>$C(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=oI(this,n)}static mi(e,n){return new vh(e,n)}Ei(){}di(e){return W.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((o=>r+o))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return W.forEach(this.pi,((r,o)=>this.br(e,r,o).next((u=>u?W.resolve():n(o)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,n).next((g=>{g||(r++,u.removeEntry(f,Te.min()))})))).next((()=>u.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),W.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),W.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),W.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Jc(e.data.value)),n}br(e,n,r){return W.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return W.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class vg{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=o}static As(e,n){let r=Le(),o=Le();for(const u of n.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new vg(e,n.fromCache,r,o)}}class vI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class EI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return hw()?8:KC(en())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,o){const u={result:null};return this.ys(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,n,o,r).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new vI;return this.Ss(e,n,f).next((g=>{if(u.result=g,this.Vs)return this.bs(e,n,f,g.size)}))})).next((()=>u.result))}bs(e,n,r,o){return r.documentReadCount<this.fs?(Xa()<=ke.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",Ja(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),W.resolve()):(Xa()<=ke.DEBUG&&ae("QueryEngine","Query:",Ja(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(Xa()<=ke.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",Ja(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ni(n))):W.resolve())}ys(e,n){if(mv(n))return W.resolve(null);let r=Ni(n);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Dm(n,null,"F"),r=Ni(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((u=>{const f=Le(...u);return this.ps.getDocuments(e,f).next((g=>this.indexManager.getMinOffset(e,r).next((p=>{const y=this.Ds(n,g);return this.Cs(n,y,f,p.readTime)?this.ys(e,Dm(n,null,"F")):this.vs(e,y,n,p)}))))})))))}ws(e,n,r,o){return mv(n)||o.isEqual(Te.min())?W.resolve(null):this.ps.getDocuments(e,r).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,r,o)?W.resolve(null):(Xa()<=ke.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ja(n)),this.vs(e,f,n,qC(o,zl)).next((g=>g)))}))}Ds(e,n){let r=new Vt(YT(e));return n.forEach(((o,u)=>{Lh(e,u)&&(r=r.add(u))})),r}Cs(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,r){return Xa()<=ke.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",Ja(n)),this.ps.getDocumentsMatchingQuery(e,n,lr.min(),r)}vs(e,n,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const Eg="LocalStore",TI=3e8;class bI{constructor(e,n,r,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ut(Ue),this.xs=new aa((u=>ug(u)),cg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function AI(s,e,n,r){return new bI(s,e,n,r)}async function g1(s,e){const n=Ae(s);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((u=>{const f=[],g=[];let p=Le();for(const y of o){f.push(y.batchId);for(const b of y.mutations)p=p.add(b.key)}for(const y of u){g.push(y.batchId);for(const b of y.mutations)p=p.add(b.key)}return n.localDocuments.getDocuments(r,p).next((y=>({Ls:y,removedBatchIds:f,addedBatchIds:g})))}))}))}function SI(s,e){const n=Ae(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,p,y,b){const S=y.batch,R=S.keys();let P=W.resolve();return R.forEach(($=>{P=P.next((()=>b.getEntry(p,$))).next((X=>{const K=y.docVersions.get($);Ke(K!==null,48541),X.version.compareTo(K)<0&&(S.applyToRemoteDocument(X,y),X.isValidDocument()&&(X.setReadTime(y.commitVersion),b.addEntry(X)))}))})),P.next((()=>g.mutationQueue.removeMutationBatch(p,S)))})(n,r,e,u).next((()=>u.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(g){let p=Le();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(p=p.add(g.batch.mutations[y].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function p1(s){const e=Ae(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function wI(s,e){const n=Ae(s),r=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const g=[];e.targetChanges.forEach(((b,S)=>{const R=o.get(S);if(!R)return;g.push(n.Pi.removeMatchingKeys(u,b.removedDocuments,S).next((()=>n.Pi.addMatchingKeys(u,b.addedDocuments,S))));let P=R.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?P=P.withResumeToken(Qt.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):b.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(b.resumeToken,r)),o=o.insert(S,P),(function(X,K,te){return X.resumeToken.approximateByteSize()===0||K.snapshotVersion.toMicroseconds()-X.snapshotVersion.toMicroseconds()>=TI?!0:te.addedDocuments.size+te.modifiedDocuments.size+te.removedDocuments.size>0})(R,P,b)&&g.push(n.Pi.updateTargetData(u,P))}));let p=ds(),y=Le();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(u,b))})),g.push(RI(u,f,e.documentUpdates).next((b=>{p=b.ks,y=b.qs}))),!r.isEqual(Te.min())){const b=n.Pi.getLastRemoteSnapshotVersion(u).next((S=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));g.push(b)}return W.waitFor(g).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,y))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function RI(s,e,n){let r=Le(),o=Le();return n.forEach((u=>r=r.add(u))),e.getEntries(s,r).next((u=>{let f=ds();return n.forEach(((g,p)=>{const y=u.get(g);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(g)),p.isNoDocument()&&p.version.isEqual(Te.min())?(e.removeEntry(g,p.readTime),f=f.insert(g,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),f=f.insert(g,p)):ae(Eg,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",p.version)})),{ks:f,qs:o}}))}function CI(s,e){const n=Ae(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=ag),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function xI(s,e){const n=Ae(s);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.Pi.getTargetData(r,e).next((u=>u?(o=u,W.resolve(o)):n.Pi.allocateTargetId(r).next((f=>(o=new Zs(e,f,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function Um(s,e,n){const r=Ae(s),o=r.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",u,(f=>r.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!po(f))throw f;ae(Eg,`Failed to update sequence numbers for target ${e}: ${f}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function Cv(s,e,n){const r=Ae(s);let o=Te.min(),u=Le();return r.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,y,b){const S=Ae(p),R=S.xs.get(b);return R!==void 0?W.resolve(S.Ms.get(R)):S.Pi.getTargetData(y,b)})(r,f,Ni(e)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(f,g.targetId).next((p=>{u=p}))})).next((()=>r.Fs.getDocumentsMatchingQuery(f,e,n?o:Te.min(),n?u:Le()))).next((g=>(II(r,mx(e),g),{documents:g,Qs:u})))))}function II(s,e,n){let r=s.Os.get(e)||Te.min();n.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),s.Os.set(e,r)}class xv{constructor(){this.activeTargetIds=Ex()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class NI{constructor(){this.Mo=new xv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new xv,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class DI{Oo(e){}shutdown(){}}const Iv="ConnectivityMonitor";class Nv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ae(Iv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ae(Iv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let qc=null;function Lm(){return qc===null?qc=(function(){return 268435456+Math.round(2147483648*Math.random())})():qc++,"0x"+qc.toString(16)}const cm="RestConnection",OI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class MI{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===fh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,n,r,o,u){const f=Lm(),g=this.zo(e,n.toUriEncodedString());ae(cm,`Sending RPC '${e}' ${f}:`,g,r);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:y}=new URL(g),b=sa(y);return this.Jo(e,g,p,r,b).then((S=>(ae(cm,`Received RPC '${e}' ${f}: `,S),S)),(S=>{throw ro(cm,`RPC '${e}' ${f} failed with error: `,S,"url: ",g,"request:",r),S}))}Ho(e,n,r,o,u,f){return this.Go(e,n,r,o,u)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+mo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),r&&r.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const r=OI[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class VI{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Xt="WebChannelConnection";class kI extends MI{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,o,u){const f=Lm();return new Promise(((g,p)=>{const y=new vT;y.setWithCredentials(!0),y.listenOnce(ET.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Xc.NO_ERROR:const S=y.getResponseJson();ae(Xt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(S)),g(S);break;case Xc.TIMEOUT:ae(Xt,`RPC '${e}' ${f} timed out`),p(new oe(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Xc.HTTP_ERROR:const R=y.getStatus();if(ae(Xt,`RPC '${e}' ${f} failed with status:`,R,"response text:",y.getResponseText()),R>0){let P=y.getResponseJson();Array.isArray(P)&&(P=P[0]);const $=P?.error;if($&&$.status&&$.message){const X=(function(te){const ce=te.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(ce)>=0?ce:Z.UNKNOWN})($.status);p(new oe(X,$.message))}else p(new oe(Z.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new oe(Z.UNAVAILABLE,"Connection failed."));break;default:ye(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ae(Xt,`RPC '${e}' ${f} completed.`)}}));const b=JSON.stringify(o);ae(Xt,`RPC '${e}' ${f} sending request:`,o),y.send(n,"POST",b,r,15)}))}T_(e,n,r){const o=Lm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=AT(),g=bT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,r),p.encodeInitMessageHeaders=!0;const b=u.join("");ae(Xt,`Creating RPC '${e}' stream ${o}: ${b}`,p);const S=f.createWebChannel(b,p);this.I_(S);let R=!1,P=!1;const $=new VI({Yo:K=>{P?ae(Xt,`Not sending because RPC '${e}' stream ${o} is closed:`,K):(R||(ae(Xt,`Opening RPC '${e}' stream ${o} transport.`),S.open(),R=!0),ae(Xt,`RPC '${e}' stream ${o} sending:`,K),S.send(K))},Zo:()=>S.close()}),X=(K,te,ce)=>{K.listen(te,(le=>{try{ce(le)}catch(ve){setTimeout((()=>{throw ve}),0)}}))};return X(S,wl.EventType.OPEN,(()=>{P||(ae(Xt,`RPC '${e}' stream ${o} transport opened.`),$.o_())})),X(S,wl.EventType.CLOSE,(()=>{P||(P=!0,ae(Xt,`RPC '${e}' stream ${o} transport closed`),$.a_(),this.E_(S))})),X(S,wl.EventType.ERROR,(K=>{P||(P=!0,ro(Xt,`RPC '${e}' stream ${o} transport errored. Name:`,K.name,"Message:",K.message),$.a_(new oe(Z.UNAVAILABLE,"The operation could not be completed")))})),X(S,wl.EventType.MESSAGE,(K=>{if(!P){const te=K.data[0];Ke(!!te,16349);const ce=te,le=ce?.error||ce[0]?.error;if(le){ae(Xt,`RPC '${e}' stream ${o} received error:`,le);const ve=le.status;let ze=(function(w){const N=xt[w];if(N!==void 0)return i1(N)})(ve),Re=le.message;ze===void 0&&(ze=Z.INTERNAL,Re="Unknown error status: "+ve+" with message "+le.message),P=!0,$.a_(new oe(ze,Re)),S.close()}else ae(Xt,`RPC '${e}' stream ${o} received:`,te),$.u_(te)}})),X(g,TT.STAT_EVENT,(K=>{K.stat===Sm.PROXY?ae(Xt,`RPC '${e}' stream ${o} detected buffering proxy`):K.stat===Sm.NOPROXY&&ae(Xt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{$.__()}),0),$}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function hm(){return typeof document<"u"?document:null}function Bh(s){return new jx(s,!0)}class y1{constructor(e,n,r=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&ae("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Dv="PersistentStream";class _1{constructor(e,n,r,o,u,f,g,p){this.Mi=e,this.S_=r,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new y1(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(fs(n.toString()),fs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===n&&this.G_(r,o)}),(r=>{e((()=>{const o=new oe(Z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ae(Dv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ae(Dv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class UI extends _1{constructor(e,n,r,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=qx(this.serializer,e),r=(function(u){if(!("targetChange"in u))return Te.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Te.min():f.readTime?Di(f.readTime):Te.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=km(this.serializer),n.addTarget=(function(u,f){let g;const p=f.target;if(g=Im(p)?{documents:Gx(u,p)}:{query:Yx(u,p).ft},g.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){g.resumeToken=a1(u,f.resumeToken);const y=Om(u,f.expectedCount);y!==null&&(g.expectedCount=y)}else if(f.snapshotVersion.compareTo(Te.min())>0){g.readTime=_h(u,f.snapshotVersion.toTimestamp());const y=Om(u,f.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,e);const r=Qx(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=km(this.serializer),n.removeTarget=e,this.q_(n)}}class LI extends _1{constructor(e,n,r,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Fx(e.writeResults,e.commitTime),r=Di(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=km(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>Hx(this.serializer,r)))};this.q_(n)}}class PI{}class jI extends PI{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new oe(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,Mm(n,r),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new oe(Z.UNKNOWN,u.toString())}))}Ho(e,n,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,g])=>this.connection.Ho(e,Mm(n,r),o,f,g,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new oe(Z.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class zI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(fs(n),this.aa=!1):ae("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const na="RemoteStore";class BI{constructor(e,n,r,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{r.enqueueAndForget((async()=>{oa(this)&&(ae(na,"Restarting streams for network reachability change."),await(async function(p){const y=Ae(p);y.Ea.add(4),await su(y),y.Ra.set("Unknown"),y.Ea.delete(4),await qh(y)})(this))}))})),this.Ra=new zI(r,o)}}async function qh(s){if(oa(s))for(const e of s.da)await e(!0)}async function su(s){for(const e of s.da)await e(!1)}function v1(s,e){const n=Ae(s);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Sg(n)?Ag(n):yo(n).O_()&&bg(n,e))}function Tg(s,e){const n=Ae(s),r=yo(n);n.Ia.delete(e),r.O_()&&E1(n,e),n.Ia.size===0&&(r.O_()?r.L_():oa(n)&&n.Ra.set("Unknown"))}function bg(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}yo(s).Y_(e)}function E1(s,e){s.Va.Ue(e),yo(s).Z_(e)}function Ag(s){s.Va=new kx({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),yo(s).start(),s.Ra.ua()}function Sg(s){return oa(s)&&!yo(s).x_()&&s.Ia.size>0}function oa(s){return Ae(s).Ea.size===0}function T1(s){s.Va=void 0}async function qI(s){s.Ra.set("Online")}async function HI(s){s.Ia.forEach(((e,n)=>{bg(s,e)}))}async function FI(s,e){T1(s),Sg(s)?(s.Ra.ha(e),Ag(s)):s.Ra.set("Unknown")}async function GI(s,e,n){if(s.Ra.set("Online"),e instanceof r1&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const g of u.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,f),o.Ia.delete(g),o.Va.removeTarget(g))})(s,e)}catch(r){ae(na,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Eh(s,r)}else if(e instanceof eh?s.Va.Ze(e):e instanceof s1?s.Va.st(e):s.Va.tt(e),!n.isEqual(Te.min()))try{const r=await p1(s.localStore);n.compareTo(r)>=0&&await(function(u,f){const g=u.Va.Tt(f);return g.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const b=u.Ia.get(y);b&&u.Ia.set(y,b.withResumeToken(p.resumeToken,f))}})),g.targetMismatches.forEach(((p,y)=>{const b=u.Ia.get(p);if(!b)return;u.Ia.set(p,b.withResumeToken(Qt.EMPTY_BYTE_STRING,b.snapshotVersion)),E1(u,p);const S=new Zs(b.target,p,y,b.sequenceNumber);bg(u,S)})),u.remoteSyncer.applyRemoteEvent(g)})(s,n)}catch(r){ae(na,"Failed to raise snapshot:",r),await Eh(s,r)}}async function Eh(s,e,n){if(!po(e))throw e;s.Ea.add(1),await su(s),s.Ra.set("Offline"),n||(n=()=>p1(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ae(na,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await qh(s)}))}function b1(s,e){return e().catch((n=>Eh(s,n,e)))}async function Hh(s){const e=Ae(s),n=fr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ag;for(;YI(e);)try{const o=await CI(e.localStore,r);if(o===null){e.Ta.length===0&&n.L_();break}r=o.batchId,KI(e,o)}catch(o){await Eh(e,o)}A1(e)&&S1(e)}function YI(s){return oa(s)&&s.Ta.length<10}function KI(s,e){s.Ta.push(e);const n=fr(s);n.O_()&&n.X_&&n.ea(e.mutations)}function A1(s){return oa(s)&&!fr(s).x_()&&s.Ta.length>0}function S1(s){fr(s).start()}async function QI(s){fr(s).ra()}async function $I(s){const e=fr(s);for(const n of s.Ta)e.ea(n.mutations)}async function XI(s,e,n){const r=s.Ta.shift(),o=mg.from(r,e,n);await b1(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Hh(s)}async function JI(s,e){e&&fr(s).X_&&await(async function(r,o){if((function(f){return Ox(f)&&f!==Z.ABORTED})(o.code)){const u=r.Ta.shift();fr(r).B_(),await b1(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Hh(r)}})(s,e),A1(s)&&S1(s)}async function Ov(s,e){const n=Ae(s);n.asyncQueue.verifyOperationInProgress(),ae(na,"RemoteStore received new credentials");const r=oa(n);n.Ea.add(3),await su(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await qh(n)}async function ZI(s,e){const n=Ae(s);e?(n.Ea.delete(2),await qh(n)):e||(n.Ea.add(2),await su(n),n.Ra.set("Unknown"))}function yo(s){return s.ma||(s.ma=(function(n,r,o){const u=Ae(n);return u.sa(),new UI(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Xo:qI.bind(null,s),t_:HI.bind(null,s),r_:FI.bind(null,s),H_:GI.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),Sg(s)?Ag(s):s.Ra.set("Unknown")):(await s.ma.stop(),T1(s))}))),s.ma}function fr(s){return s.fa||(s.fa=(function(n,r,o){const u=Ae(n);return u.sa(),new LI(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:QI.bind(null,s),r_:JI.bind(null,s),ta:$I.bind(null,s),na:XI.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await Hh(s)):(await s.fa.stop(),s.Ta.length>0&&(ae(na,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class wg{constructor(e,n,r,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new Xr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,u){const f=Date.now()+r,g=new wg(e,n,f,o,u);return g.start(r),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Rg(s,e){if(fs("AsyncQueue",`${e}: ${s}`),po(s))return new oe(Z.UNAVAILABLE,`${e}: ${s}`);throw s}class io{static emptySet(e){return new io(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||me.comparator(n.key,r.key):(n,r)=>me.comparator(n.key,r.key),this.keyedMap=Rl(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof io)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new io;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class Mv{constructor(){this.ga=new ut(me.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ye(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class co{constructor(e,n,r,o,u,f,g,p,y){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,n,r,o,u){const f=[];return n.forEach((g=>{f.push({type:0,doc:g})})),new co(e,n,io.emptySet(n),f,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Uh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}class WI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class eN{constructor(){this.queries=Vv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=Ae(n),u=o.queries;o.queries=Vv(),u.forEach(((f,g)=>{for(const p of g.Sa)p.onError(r)}))})(this,new oe(Z.ABORTED,"Firestore shutting down"))}}function Vv(){return new aa((s=>GT(s)),Uh)}async function tN(s,e){const n=Ae(s);let r=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(r=2):(u=new WI,r=e.Da()?0:1);try{switch(r){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const g=Rg(f,`Initialization of query '${Ja(e.query)}' failed`);return void e.onError(g)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Cg(n)}async function nN(s,e){const n=Ae(s),r=e.query;let o=3;const u=n.queries.get(r);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function iN(s,e){const n=Ae(s);let r=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const g of f.Sa)g.Fa(o)&&(r=!0);f.wa=o}}r&&Cg(n)}function sN(s,e,n){const r=Ae(s),o=r.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);r.queries.delete(e)}function Cg(s){s.Ca.forEach((e=>{e.next()}))}var Pm,kv;(kv=Pm||(Pm={})).Ma="default",kv.Cache="cache";class rN{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new co(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=co.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Pm.Cache}}class w1{constructor(e){this.key=e}}class R1{constructor(e){this.key=e}}class aN{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Le(),this.mutatedKeys=Le(),this.eu=YT(e),this.tu=new io(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new Mv,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,g=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((b,S)=>{const R=o.get(b),P=Lh(this.query,S)?S:null,$=!!R&&this.mutatedKeys.has(R.key),X=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let K=!1;R&&P?R.data.isEqual(P.data)?$!==X&&(r.track({type:3,doc:P}),K=!0):this.su(R,P)||(r.track({type:2,doc:P}),K=!0,(p&&this.eu(P,p)>0||y&&this.eu(P,y)<0)&&(g=!0)):!R&&P?(r.track({type:0,doc:P}),K=!0):R&&!P&&(r.track({type:1,doc:R}),K=!0,(p||y)&&(g=!0)),K&&(P?(f=f.add(P),u=X?u.add(b):u.delete(b)):(f=f.delete(b),u=u.delete(b)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const b=this.query.limitType==="F"?f.last():f.first();f=f.delete(b.key),u=u.delete(b.key),r.track({type:1,doc:b})}return{tu:f,iu:r,Cs:g,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((b,S)=>(function(P,$){const X=K=>{switch(K){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye(20277,{Rt:K})}};return X(P)-X($)})(b.type,S.type)||this.eu(b.doc,S.doc))),this.ou(r),o=o??!1;const g=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,y=p!==this.Za;return this.Za=p,f.length!==0||y?{snapshot:new co(this.query,e.tu,u,f,e.mutatedKeys,p===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Mv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Le(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new R1(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new w1(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Le();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return co.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const xg="SyncEngine";class oN{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class lN{constructor(e){this.key=e,this.hu=!1}}class uN{constructor(e,n,r,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new aa((g=>GT(g)),Uh),this.Iu=new Map,this.Eu=new Set,this.du=new ut(me.comparator),this.Au=new Map,this.Ru=new yg,this.Vu={},this.mu=new Map,this.fu=uo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function cN(s,e,n=!0){const r=O1(s);let o;const u=r.Tu.get(e);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await C1(r,e,n,!0),o}async function hN(s,e){const n=O1(s);await C1(n,e,!0,!1)}async function C1(s,e,n,r){const o=await xI(s.localStore,Ni(e)),u=o.targetId,f=s.sharedClientState.addLocalQueryTarget(u,n);let g;return r&&(g=await fN(s,e,u,f==="current",o.resumeToken)),s.isPrimaryClient&&n&&v1(s.remoteStore,o),g}async function fN(s,e,n,r,o){s.pu=(S,R,P)=>(async function(X,K,te,ce){let le=K.view.ru(te);le.Cs&&(le=await Cv(X.localStore,K.query,!1).then((({documents:D})=>K.view.ru(D,le))));const ve=ce&&ce.targetChanges.get(K.targetId),ze=ce&&ce.targetMismatches.get(K.targetId)!=null,Re=K.view.applyChanges(le,X.isPrimaryClient,ve,ze);return Lv(X,K.targetId,Re.au),Re.snapshot})(s,S,R,P);const u=await Cv(s.localStore,e,!0),f=new aN(e,u.Qs),g=f.ru(u.documents),p=iu.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",o),y=f.applyChanges(g,s.isPrimaryClient,p);Lv(s,n,y.au);const b=new oN(e,n,f);return s.Tu.set(e,b),s.Iu.has(n)?s.Iu.get(n).push(e):s.Iu.set(n,[e]),y.snapshot}async function dN(s,e,n){const r=Ae(s),o=r.Tu.get(e),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((f=>!Uh(f,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Um(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&Tg(r.remoteStore,o.targetId),jm(r,o.targetId)})).catch(go)):(jm(r,o.targetId),await Um(r.localStore,o.targetId,!0))}async function mN(s,e){const n=Ae(s),r=n.Tu.get(e),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Tg(n.remoteStore,r.targetId))}async function gN(s,e,n){const r=bN(s);try{const o=await(function(f,g){const p=Ae(f),y=at.now(),b=g.reduce(((P,$)=>P.add($.key)),Le());let S,R;return p.persistence.runTransaction("Locally write mutations","readwrite",(P=>{let $=ds(),X=Le();return p.Ns.getEntries(P,b).next((K=>{$=K,$.forEach(((te,ce)=>{ce.isValidDocument()||(X=X.add(te))}))})).next((()=>p.localDocuments.getOverlayedDocuments(P,$))).next((K=>{S=K;const te=[];for(const ce of g){const le=Cx(ce,S.get(ce.key).overlayedDocument);le!=null&&te.push(new gr(ce.key,le,LT(le.value.mapValue),ni.exists(!0)))}return p.mutationQueue.addMutationBatch(P,y,te,g)})).next((K=>{R=K;const te=K.applyToLocalDocumentSet(S,X);return p.documentOverlayCache.saveOverlays(P,K.batchId,te)}))})).then((()=>({batchId:R.batchId,changes:QT(S)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(f,g,p){let y=f.Vu[f.currentUser.toKey()];y||(y=new ut(Ue)),y=y.insert(g,p),f.Vu[f.currentUser.toKey()]=y})(r,o.batchId,n),await ru(r,o.changes),await Hh(r.remoteStore)}catch(o){const u=Rg(o,"Failed to persist write");n.reject(u)}}async function x1(s,e){const n=Ae(s);try{const r=await wI(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Ke(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Ke(f.hu,14607):o.removedDocuments.size>0&&(Ke(f.hu,42227),f.hu=!1))})),await ru(n,r,e)}catch(r){await go(r)}}function Uv(s,e,n){const r=Ae(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach(((u,f)=>{const g=f.view.va(e);g.snapshot&&o.push(g.snapshot)})),(function(f,g){const p=Ae(f);p.onlineState=g;let y=!1;p.queries.forEach(((b,S)=>{for(const R of S.Sa)R.va(g)&&(y=!0)})),y&&Cg(p)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function pN(s,e,n){const r=Ae(s);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Au.get(e),u=o&&o.key;if(u){let f=new ut(me.comparator);f=f.insert(u,Zt.newNoDocument(u,Te.min()));const g=Le().add(u),p=new zh(Te.min(),new Map,new ut(Ue),f,g);await x1(r,p),r.du=r.du.remove(u),r.Au.delete(e),Ig(r)}else await Um(r.localStore,e,!1).then((()=>jm(r,e,n))).catch(go)}async function yN(s,e){const n=Ae(s),r=e.batch.batchId;try{const o=await SI(n.localStore,e);N1(n,r,null),I1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ru(n,o)}catch(o){await go(o)}}async function _N(s,e,n){const r=Ae(s);try{const o=await(function(f,g){const p=Ae(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let b;return p.mutationQueue.lookupMutationBatch(y,g).next((S=>(Ke(S!==null,37113),b=S.keys(),p.mutationQueue.removeMutationBatch(y,S)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,b,g))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,b))).next((()=>p.localDocuments.getDocuments(y,b)))}))})(r.localStore,e);N1(r,e,n),I1(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ru(r,o)}catch(o){await go(o)}}function I1(s,e){(s.mu.get(e)||[]).forEach((n=>{n.resolve()})),s.mu.delete(e)}function N1(s,e,n){const r=Ae(s);let o=r.Vu[r.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function jm(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),n&&s.Pu.yu(r,n);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((r=>{s.Ru.containsKey(r)||D1(s,r)}))}function D1(s,e){s.Eu.delete(e.path.canonicalString());const n=s.du.get(e);n!==null&&(Tg(s.remoteStore,n),s.du=s.du.remove(e),s.Au.delete(n),Ig(s))}function Lv(s,e,n){for(const r of n)r instanceof w1?(s.Ru.addReference(r.key,e),vN(s,r)):r instanceof R1?(ae(xg,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,e),s.Ru.containsKey(r.key)||D1(s,r.key)):ye(19791,{wu:r})}function vN(s,e){const n=e.key,r=n.path.canonicalString();s.du.get(n)||s.Eu.has(r)||(ae(xg,"New document in limbo: "+n),s.Eu.add(r),Ig(s))}function Ig(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const n=new me(it.fromString(e)),r=s.fu.next();s.Au.set(r,new lN(n)),s.du=s.du.insert(n,r),v1(s.remoteStore,new Zs(Ni(hg(n.path)),r,"TargetPurposeLimboResolution",Mh.ce))}}async function ru(s,e,n){const r=Ae(s),o=[],u=[],f=[];r.Tu.isEmpty()||(r.Tu.forEach(((g,p)=>{f.push(r.pu(p,e,n).then((y=>{if((y||n)&&r.isPrimaryClient){const b=y?!y.fromCache:n?.targetChanges.get(p.targetId)?.current;r.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(y){o.push(y);const b=vg.As(p.targetId,y);u.push(b)}})))})),await Promise.all(f),r.Pu.H_(o),await(async function(p,y){const b=Ae(p);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>W.forEach(y,(R=>W.forEach(R.Es,(P=>b.persistence.referenceDelegate.addReference(S,R.targetId,P))).next((()=>W.forEach(R.ds,(P=>b.persistence.referenceDelegate.removeReference(S,R.targetId,P)))))))))}catch(S){if(!po(S))throw S;ae(Eg,"Failed to update sequence numbers: "+S)}for(const S of y){const R=S.targetId;if(!S.fromCache){const P=b.Ms.get(R),$=P.snapshotVersion,X=P.withLastLimboFreeSnapshotVersion($);b.Ms=b.Ms.insert(R,X)}}})(r.localStore,u))}async function EN(s,e){const n=Ae(s);if(!n.currentUser.isEqual(e)){ae(xg,"User change. New user:",e.toKey());const r=await g1(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((g=>{g.forEach((p=>{p.reject(new oe(Z.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ru(n,r.Ls)}}function TN(s,e){const n=Ae(s),r=n.Au.get(e);if(r&&r.hu)return Le().add(r.key);{let o=Le();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const g=n.Tu.get(f);o=o.unionWith(g.view.nu)}return o}}function O1(s){const e=Ae(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=x1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=TN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pN.bind(null,e),e.Pu.H_=iN.bind(null,e.eventManager),e.Pu.yu=sN.bind(null,e.eventManager),e}function bN(s){const e=Ae(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=yN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_N.bind(null,e),e}class Th{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Bh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return AI(this.persistence,new EI,e.initialUser,this.serializer)}Cu(e){return new m1(_g.mi,this.serializer)}Du(e){return new NI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Th.provider={build:()=>new Th};class AN extends Th{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ke(this.persistence.referenceDelegate instanceof vh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new rI(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?dn.withCacheSize(this.cacheSizeBytes):dn.DEFAULT;return new m1((r=>vh.mi(r,n)),this.serializer)}}class zm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Uv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=EN.bind(null,this.syncEngine),await ZI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new eN})()}createDatastore(e){const n=Bh(e.databaseInfo.databaseId),r=(function(u){return new kI(u)})(e.databaseInfo);return(function(u,f,g,p){return new jI(u,f,g,p)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,o,u,f,g){return new BI(r,o,u,f,g)})(this.localStore,this.datastore,e.asyncQueue,(n=>Uv(this.syncEngine,n,0)),(function(){return Nv.v()?new Nv:new DI})())}createSyncEngine(e,n){return(function(o,u,f,g,p,y,b){const S=new uN(o,u,f,g,p,y);return b&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Ae(n);ae(na,"RemoteStore shutting down."),r.Ea.add(5),await su(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}zm.provider={build:()=>new zm};class SN{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):fs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const dr="FirestoreClient";class wN{constructor(e,n,r,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=Jt.UNAUTHENTICATED,this.clientId=rg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async f=>{ae(dr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(r,(f=>(ae(dr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Xr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Rg(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function fm(s,e){s.asyncQueue.verifyOperationInProgress(),ae(dr,"Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let r=n.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await g1(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function Pv(s,e){s.asyncQueue.verifyOperationInProgress();const n=await RN(s);ae(dr,"Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener((r=>Ov(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>Ov(e.remoteStore,o))),s._onlineComponents=e}async function RN(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ae(dr,"Using user provided OfflineComponentProvider");try{await fm(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;ro("Error using user provided cache. Falling back to memory cache: "+n),await fm(s,new Th)}}else ae(dr,"Using default OfflineComponentProvider"),await fm(s,new AN(void 0));return s._offlineComponents}async function M1(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ae(dr,"Using user provided OnlineComponentProvider"),await Pv(s,s._uninitializedComponentsProvider._online)):(ae(dr,"Using default OnlineComponentProvider"),await Pv(s,new zm))),s._onlineComponents}function CN(s){return M1(s).then((e=>e.syncEngine))}async function jv(s){const e=await M1(s),n=e.eventManager;return n.onListen=cN.bind(null,e.syncEngine),n.onUnlisten=dN.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=hN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=mN.bind(null,e.syncEngine),n}function V1(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const zv=new Map;const k1="firestore.googleapis.com",Bv=!0;class qv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new oe(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=k1,this.ssl=Bv}else this.host=e.host,this.ssl=e.ssl??Bv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=d1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<iI)throw new oe(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}BC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=V1(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new oe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new oe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new oe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Fh{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new DC;switch(r.type){case"firstParty":return new kC(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new oe(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=zv.get(n);r&&(ae("ComponentProvider","Removing Datastore"),zv.delete(n),r.terminate())})(this),Promise.resolve()}}function xN(s,e,n,r={}){s=ir(s,Fh);const o=sa(e),u=s._getSettings(),f={...u,emulatorOptions:s._getEmulatorOptions()},g=`${e}:${n}`;o&&(Fm(`https://${g}`),Gm("Firestore",!0)),u.host!==k1&&u.host!==g&&ro("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:g,ssl:o,emulatorOptions:r};if(!Zr(p,f)&&(s._setSettings(p),r.mockUserToken)){let y,b;if(typeof r.mockUserToken=="string")y=r.mockUserToken,b=Jt.MOCK_USER;else{y=kE(r.mockUserToken,s._app?.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new oe(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Jt(S)}s._authCredentials=new OC(new wT(y,b))}}class _o{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new _o(this.firestore,e,this._query)}}class Dt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new sr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Dt(this.firestore,e,this._key)}toJSON(){return{type:Dt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(eu(n,Dt._jsonSchema))return new Dt(e,r||null,new me(it.fromString(n.referencePath)))}}Dt._jsonSchemaVersion="firestore/documentReference/1.0",Dt._jsonSchema={type:Nt("string",Dt._jsonSchemaVersion),referencePath:Nt("string")};class sr extends _o{constructor(e,n,r){super(e,n,hg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Dt(this.firestore,null,new me(e))}withConverter(e){return new sr(this.firestore,e,this._path)}}function dm(s,e,...n){if(s=kt(s),RT("collection","path",e),s instanceof Fh){const r=it.fromString(e,...n);return ev(r),new sr(s,null,r)}{if(!(s instanceof Dt||s instanceof sr))throw new oe(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(it.fromString(e,...n));return ev(r),new sr(s.firestore,null,r)}}function xl(s,e,...n){if(s=kt(s),arguments.length===1&&(e=rg.newId()),RT("doc","path",e),s instanceof Fh){const r=it.fromString(e,...n);return W0(r),new Dt(s,null,new me(r))}{if(!(s instanceof Dt||s instanceof sr))throw new oe(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(it.fromString(e,...n));return W0(r),new Dt(s.firestore,s instanceof sr?s.converter:null,new me(r))}}const Hv="AsyncQueue";class Fv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new y1(this,"async_queue_retry"),this._c=()=>{const r=hm();r&&ae(Hv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=hm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=hm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Xr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!po(e))throw e;ae(Hv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,fs("INTERNAL UNHANDLED ERROR: ",Gv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=wg.createAndSchedule(this,e,n,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&ye(47125,{Pc:Gv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Gv(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}function Yv(s){return(function(n,r){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of r)if(u in o&&typeof o[u]=="function")return!0;return!1})(s,["next","error","complete"])}class ho extends Fh{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new Fv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Fv(e),this._firestoreClient=void 0,await e}}}function IN(s,e){const n=typeof s=="object"?s:Qm(),r=typeof s=="string"?s:fh,o=xh(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=OE("firestore");u&&xN(o,...u)}return o}function U1(s){if(s._terminated)throw new oe(Z.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||NN(s),s._firestoreClient}function NN(s){const e=s._freezeSettings(),n=(function(o,u,f,g){return new ZC(o,u,f,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,V1(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new wN(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(s._componentsProvider))}class jn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jn(Qt.fromBase64String(e))}catch(n){throw new oe(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new jn(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(eu(e,jn._jsonSchema))return jn.fromBase64String(e.bytes)}}jn._jsonSchemaVersion="firestore/bytes/1.0",jn._jsonSchema={type:Nt("string",jn._jsonSchemaVersion),bytes:Nt("string")};class Gh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new oe(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ng{constructor(e){this._methodName=e}}class Oi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new oe(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new oe(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Oi._jsonSchemaVersion}}static fromJSON(e){if(eu(e,Oi._jsonSchema))return new Oi(e.latitude,e.longitude)}}Oi._jsonSchemaVersion="firestore/geoPoint/1.0",Oi._jsonSchema={type:Nt("string",Oi._jsonSchemaVersion),latitude:Nt("number"),longitude:Nt("number")};class Mi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Mi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(eu(e,Mi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Mi(e.vectorValues);throw new oe(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Mi._jsonSchemaVersion="firestore/vectorValue/1.0",Mi._jsonSchema={type:Nt("string",Mi._jsonSchemaVersion),vectorValues:Nt("object")};const DN=/^__.*__$/;class ON{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new gr(e,this.data,this.fieldMask,n,this.fieldTransforms):new nu(e,this.data,n,this.fieldTransforms)}}class L1{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new gr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function P1(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye(40011,{Ac:s})}}class Dg{constructor(e,n,r,o,u,f){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Dg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return bh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(P1(this.Ac)&&DN.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class MN{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Bh(e)}Cc(e,n,r,o=!1){return new Dg({Ac:e,methodName:n,Dc:r,path:Kt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Og(s){const e=s._freezeSettings(),n=Bh(s._databaseId);return new MN(s._databaseId,!!e.ignoreUndefinedProperties,n)}function VN(s,e,n,r,o,u={}){const f=s.Cc(u.merge||u.mergeFields?2:0,e,n,o);Mg("Data must be an object, but it was:",f,r);const g=j1(r,f);let p,y;if(u.merge)p=new wn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const b=[];for(const S of u.mergeFields){const R=Bm(e,S,n);if(!f.contains(R))throw new oe(Z.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);B1(b,R)||b.push(R)}p=new wn(b),y=f.fieldTransforms.filter((S=>p.covers(S.field)))}else p=null,y=f.fieldTransforms;return new ON(new mn(g),p,y)}class Yh extends Ng{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Yh}}function kN(s,e,n,r){const o=s.Cc(1,e,n);Mg("Data must be an object, but it was:",o,r);const u=[],f=mn.empty();mr(r,((p,y)=>{const b=Vg(e,p,n);y=kt(y);const S=o.yc(b);if(y instanceof Yh)u.push(b);else{const R=au(y,S);R!=null&&(u.push(b),f.set(b,R))}}));const g=new wn(u);return new L1(f,g,o.fieldTransforms)}function UN(s,e,n,r,o,u){const f=s.Cc(1,e,n),g=[Bm(e,r,n)],p=[o];if(u.length%2!=0)throw new oe(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<u.length;R+=2)g.push(Bm(e,u[R])),p.push(u[R+1]);const y=[],b=mn.empty();for(let R=g.length-1;R>=0;--R)if(!B1(y,g[R])){const P=g[R];let $=p[R];$=kt($);const X=f.yc(P);if($ instanceof Yh)y.push(P);else{const K=au($,X);K!=null&&(y.push(P),b.set(P,K))}}const S=new wn(y);return new L1(b,S,f.fieldTransforms)}function LN(s,e,n,r=!1){return au(n,s.Cc(r?4:3,e))}function au(s,e){if(z1(s=kt(s)))return Mg("Unsupported field value:",e,s),j1(s,e);if(s instanceof Ng)return(function(r,o){if(!P1(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const u=[];let f=0;for(const g of r){let p=au(g,o.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(s,e)}return(function(r,o){if((r=kt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Tx(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=at.fromDate(r);return{timestampValue:_h(o.serializer,u)}}if(r instanceof at){const u=new at(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:_h(o.serializer,u)}}if(r instanceof Oi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof jn)return{bytesValue:a1(o.serializer,r._byteString)};if(r instanceof Dt){const u=o.databaseId,f=r.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:pg(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Mi)return(function(f,g){return{mapValue:{fields:{[kT]:{stringValue:UT},[dh]:{arrayValue:{values:f.toArray().map((y=>{if(typeof y!="number")throw g.Sc("VectorValues must only contain numeric values.");return fg(g.serializer,y)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${Oh(r)}`)})(s,e)}function j1(s,e){const n={};return IT(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):mr(s,((r,o)=>{const u=au(o,e.mc(r));u!=null&&(n[r]=u)})),{mapValue:{fields:n}}}function z1(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof at||s instanceof Oi||s instanceof jn||s instanceof Dt||s instanceof Ng||s instanceof Mi)}function Mg(s,e,n){if(!z1(n)||!CT(n)){const r=Oh(n);throw r==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+r)}}function Bm(s,e,n){if((e=kt(e))instanceof Gh)return e._internalPath;if(typeof e=="string")return Vg(s,e);throw bh("Field path arguments must be of type string or ",s,!1,void 0,n)}const PN=new RegExp("[~\\*/\\[\\]]");function Vg(s,e,n){if(e.search(PN)>=0)throw bh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new Gh(...e.split("."))._internalPath}catch{throw bh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function bh(s,e,n,r,o){const u=r&&!r.isEmpty(),f=o!==void 0;let g=`Function ${e}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${r}`),f&&(p+=` in document ${o}`),p+=")"),new oe(Z.INVALID_ARGUMENT,g+s+p)}function B1(s,e){return s.some((n=>n.isEqual(e)))}class q1{constructor(e,n,r,o,u){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Dt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new jN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(kg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class jN extends q1{data(){return super.data()}}function kg(s,e){return typeof e=="string"?Vg(s,e):e instanceof Gh?e._internalPath:e._delegate._internalPath}function zN(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new oe(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ug{}class BN extends Ug{}function qN(s,e,...n){let r=[];e instanceof Ug&&r.push(e),r=r.concat(n),(function(u){const f=u.filter((p=>p instanceof Lg)).length,g=u.filter((p=>p instanceof Kh)).length;if(f>1||f>0&&g>0)throw new oe(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)s=o._apply(s);return s}class Kh extends BN{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Kh(e,n,r)}_apply(e){const n=this._parse(e);return H1(e._query,n),new _o(e.firestore,e.converter,Nm(e._query,n))}_parse(e){const n=Og(e.firestore);return(function(u,f,g,p,y,b,S){let R;if(y.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new oe(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){$v(S,b);const $=[];for(const X of S)$.push(Qv(p,u,X));R={arrayValue:{values:$}}}else R=Qv(p,u,S)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||$v(S,b),R=LN(g,f,S,b==="in"||b==="not-in");return It.create(y,b,R)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Kv(s,e,n){const r=e,o=kg("where",s);return Kh._create(o,r,n)}class Lg extends Ug{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Lg(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ii.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let f=o;const g=u.getFlattenedFilters();for(const p of g)H1(f,p),f=Nm(f,p)})(e._query,n),new _o(e.firestore,e.converter,Nm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Qv(s,e,n){if(typeof(n=kt(n))=="string"){if(n==="")throw new oe(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!FT(e)&&n.indexOf("/")!==-1)throw new oe(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(it.fromString(n));if(!me.isDocumentKey(r))throw new oe(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return lv(s,new me(r))}if(n instanceof Dt)return lv(s,n._key);throw new oe(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Oh(n)}.`)}function $v(s,e){if(!Array.isArray(s)||s.length===0)throw new oe(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function H1(s,e){const n=(function(o,u){for(const f of o)for(const g of f.getFlattenedFilters())if(u.indexOf(g.op)>=0)return g.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new oe(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new oe(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class HN{convertValue(e,n="none"){switch(hr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(cr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ye(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return mr(e,((o,u)=>{r[o]=this.convertValue(u,n)})),r}convertVectorValue(e){const n=e.fields?.[dh].arrayValue?.values?.map((r=>_t(r.doubleValue)));return new Mi(n)}convertGeoPoint(e){return new Oi(_t(e.latitude),_t(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=kh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Bl(e));default:return null}}convertTimestamp(e){const n=ur(e);return new at(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=it.fromString(e);Ke(f1(r),9688,{name:e});const o=new ql(r.get(1),r.get(3)),u=new me(r.popFirst(5));return o.isEqual(n)||fs(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function FN(s,e,n){let r;return r=s?s.toFirestore(e):e,r}class Il{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Jr extends q1{constructor(e,n,r,o,u,f){super(e,n,r,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new th(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(kg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Jr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Jr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Jr._jsonSchema={type:Nt("string",Jr._jsonSchemaVersion),bundleSource:Nt("string","DocumentSnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class th extends Jr{data(e={}){return super.data(e)}}class so{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Il(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new th(this._firestore,this._userDataWriter,r.key,r,new Il(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new oe(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((g=>{const p=new th(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Il(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>u||g.type!==3)).map((g=>{const p=new th(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Il(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,b=-1;return g.type!==0&&(y=f.indexOf(g.doc.key),f=f.delete(g.doc.key)),g.type!==1&&(f=f.add(g.doc),b=f.indexOf(g.doc.key)),{type:GN(g.type),doc:p,oldIndex:y,newIndex:b}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=so._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=rg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function GN(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye(61501,{type:s})}}so._jsonSchemaVersion="firestore/querySnapshot/1.0",so._jsonSchema={type:Nt("string",so._jsonSchemaVersion),bundleSource:Nt("string","QuerySnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class F1 extends HN{constructor(e){super(),this.firestore=e}convertBytes(e){return new jn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Dt(this.firestore,null,n)}}function mm(s,e,n,...r){s=ir(s,Dt);const o=ir(s.firestore,ho),u=Og(o);let f;return f=typeof(e=kt(e))=="string"||e instanceof Gh?UN(u,"updateDoc",s._key,e,n,r):kN(u,"updateDoc",s._key,e),Pg(o,[f.toMutation(s._key,ni.exists(!0))])}function YN(s){return Pg(ir(s.firestore,ho),[new dg(s._key,ni.none())])}function Xv(s,e){const n=ir(s.firestore,ho),r=xl(s),o=FN(s.converter,e);return Pg(n,[VN(Og(s.firestore),"addDoc",r._key,o,s.converter!==null,{}).toMutation(r._key,ni.exists(!1))]).then((()=>r))}function KN(s,...e){s=kt(s);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Yv(e[r])||(n=e[r++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Yv(e[r])){const p=e[r];e[r]=p.next?.bind(p),e[r+1]=p.error?.bind(p),e[r+2]=p.complete?.bind(p)}let u,f,g;if(s instanceof Dt)f=ir(s.firestore,ho),g=hg(s._key.path),u={next:p=>{e[r]&&e[r](QN(f,s,p))},error:e[r+1],complete:e[r+2]};else{const p=ir(s,_o);f=ir(p.firestore,ho),g=p._query;const y=new F1(f);u={next:b=>{e[r]&&e[r](new so(f,y,p,b))},error:e[r+1],complete:e[r+2]},zN(s._query)}return(function(y,b,S,R){const P=new SN(R),$=new rN(b,P,S);return y.asyncQueue.enqueueAndForget((async()=>tN(await jv(y),$))),()=>{P.Nu(),y.asyncQueue.enqueueAndForget((async()=>nN(await jv(y),$)))}})(U1(f),g,o,u)}function Pg(s,e){return(function(r,o){const u=new Xr;return r.asyncQueue.enqueueAndForget((async()=>gN(await CN(r),o,u))),u.promise})(U1(s),e)}function QN(s,e,n){const r=n.docs.get(e._key),o=new F1(s);return new Jr(s,o,e._key,r,new Il(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){mo=o})(ra),Wr(new ar("firestore",((r,{instanceIdentifier:o,options:u})=>{const f=r.getProvider("app").getImmediate(),g=new ho(new MC(r.getProvider("auth-internal")),new UC(f,r.getProvider("app-check-internal")),(function(y,b){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new oe(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ql(y.options.projectId,b)})(f,o),f);return u={useFetchStreams:n,...u},g._setSettings(u),g}),"PUBLIC").setMultipleInstances(!0)),xi($0,X0,e),xi($0,X0,"esm2020")})();var $N="firebase",XN="12.7.0";xi($N,XN,"app");const G1="firebasestorage.googleapis.com",JN="storageBucket",ZN=120*1e3,WN=600*1e3;class Pi extends Li{constructor(e,n,r=0){super(gm(e),`Firebase Storage: ${n} (${gm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Pi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return gm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ui;(function(s){s.UNKNOWN="unknown",s.OBJECT_NOT_FOUND="object-not-found",s.BUCKET_NOT_FOUND="bucket-not-found",s.PROJECT_NOT_FOUND="project-not-found",s.QUOTA_EXCEEDED="quota-exceeded",s.UNAUTHENTICATED="unauthenticated",s.UNAUTHORIZED="unauthorized",s.UNAUTHORIZED_APP="unauthorized-app",s.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",s.INVALID_CHECKSUM="invalid-checksum",s.CANCELED="canceled",s.INVALID_EVENT_NAME="invalid-event-name",s.INVALID_URL="invalid-url",s.INVALID_DEFAULT_BUCKET="invalid-default-bucket",s.NO_DEFAULT_BUCKET="no-default-bucket",s.CANNOT_SLICE_BLOB="cannot-slice-blob",s.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",s.NO_DOWNLOAD_URL="no-download-url",s.INVALID_ARGUMENT="invalid-argument",s.INVALID_ARGUMENT_COUNT="invalid-argument-count",s.APP_DELETED="app-deleted",s.INVALID_ROOT_OPERATION="invalid-root-operation",s.INVALID_FORMAT="invalid-format",s.INTERNAL_ERROR="internal-error",s.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ui||(Ui={}));function gm(s){return"storage/"+s}function eD(){const s="An unknown error occurred, please check the error payload for server response.";return new Pi(Ui.UNKNOWN,s)}function tD(){return new Pi(Ui.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function nD(){return new Pi(Ui.CANCELED,"User canceled the upload/download.")}function iD(s){return new Pi(Ui.INVALID_URL,"Invalid URL '"+s+"'.")}function sD(s){return new Pi(Ui.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+s+"'.")}function Jv(s){return new Pi(Ui.INVALID_ARGUMENT,s)}function Y1(){return new Pi(Ui.APP_DELETED,"The Firebase app was deleted.")}function rD(s){return new Pi(Ui.INVALID_ROOT_OPERATION,"The operation '"+s+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class ei{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=ei.makeFromUrl(e,n)}catch{return new ei(e,"")}if(r.path==="")return r;throw sD(e)}static makeFromUrl(e,n){let r=null;const o="([A-Za-z0-9.\\-_]+)";function u(ve){ve.path.charAt(ve.path.length-1)==="/"&&(ve.path_=ve.path_.slice(0,-1))}const f="(/(.*))?$",g=new RegExp("^gs://"+o+f,"i"),p={bucket:1,path:3};function y(ve){ve.path_=decodeURIComponent(ve.path)}const b="v[A-Za-z0-9_]+",S=n.replace(/[.]/g,"\\."),R="(/([^?#]*).*)?$",P=new RegExp(`^https?://${S}/${b}/b/${o}/o${R}`,"i"),$={bucket:1,path:3},X=n===G1?"(?:storage.googleapis.com|storage.cloud.google.com)":n,K="([^?#]*)",te=new RegExp(`^https?://${X}/${o}/${K}`,"i"),le=[{regex:g,indices:p,postModify:u},{regex:P,indices:$,postModify:y},{regex:te,indices:{bucket:1,path:2},postModify:y}];for(let ve=0;ve<le.length;ve++){const ze=le[ve],Re=ze.regex.exec(e);if(Re){const D=Re[ze.indices.bucket];let w=Re[ze.indices.path];w||(w=""),r=new ei(D,w),ze.postModify(r);break}}if(r==null)throw iD(e);return r}}class aD{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function oD(s,e,n){let r=1,o=null,u=null,f=!1,g=0;function p(){return g===2}let y=!1;function b(...K){y||(y=!0,e.apply(null,K))}function S(K){o=setTimeout(()=>{o=null,s(P,p())},K)}function R(){u&&clearTimeout(u)}function P(K,...te){if(y){R();return}if(K){R(),b.call(null,K,...te);return}if(p()||f){R(),b.call(null,K,...te);return}r<64&&(r*=2);let le;g===1?(g=2,le=0):le=(r+Math.random())*1e3,S(le)}let $=!1;function X(K){$||($=!0,R(),!y&&(o!==null?(K||(g=2),clearTimeout(o),S(0)):K||(g=1)))}return S(0),u=setTimeout(()=>{f=!0,X(!0)},n),X}function lD(s){s(!1)}function uD(s){return s!==void 0}function Zv(s,e,n,r){if(r<e)throw Jv(`Invalid value for '${s}'. Expected ${e} or greater.`);if(r>n)throw Jv(`Invalid value for '${s}'. Expected ${n} or less.`)}function cD(s){const e=encodeURIComponent;let n="?";for(const r in s)if(s.hasOwnProperty(r)){const o=e(r)+"="+e(s[r]);n=n+o+"&"}return n=n.slice(0,-1),n}var Ah;(function(s){s[s.NO_ERROR=0]="NO_ERROR",s[s.NETWORK_ERROR=1]="NETWORK_ERROR",s[s.ABORT=2]="ABORT"})(Ah||(Ah={}));function hD(s,e){const n=s>=500&&s<600,o=[408,429].indexOf(s)!==-1,u=e.indexOf(s)!==-1;return n||o||u}class fD{constructor(e,n,r,o,u,f,g,p,y,b,S,R=!0,P=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=f,this.callback_=g,this.errorCallback_=p,this.timeout_=y,this.progressCallback_=b,this.connectionFactory_=S,this.retry=R,this.isUsingEmulator=P,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(($,X)=>{this.resolve_=$,this.reject_=X,this.start_()})}start_(){const e=(r,o)=>{if(o){r(!1,new Hc(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const f=g=>{const p=g.loaded,y=g.lengthComputable?g.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,y)};this.progressCallback_!==null&&u.addUploadProgressListener(f),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(f),this.pendingConnection_=null;const g=u.getErrorCode()===Ah.NO_ERROR,p=u.getStatus();if(!g||hD(p,this.additionalRetryCodes_)&&this.retry){const b=u.getErrorCode()===Ah.ABORT;r(!1,new Hc(!1,null,b));return}const y=this.successCodes_.indexOf(p)!==-1;r(!0,new Hc(y,u))})},n=(r,o)=>{const u=this.resolve_,f=this.reject_,g=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(g,g.getResponse());uD(p)?u(p):u()}catch(p){f(p)}else if(g!==null){const p=eD();p.serverResponse=g.getErrorText(),this.errorCallback_?f(this.errorCallback_(g,p)):f(p)}else if(o.canceled){const p=this.appDelete_?Y1():nD();f(p)}else{const p=tD();f(p)}};this.canceled_?n(!1,new Hc(!1,null,!0)):this.backoffId_=oD(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&lD(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Hc{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function dD(s,e){e!==null&&e.length>0&&(s.Authorization="Firebase "+e)}function mD(s,e){s["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function gD(s,e){e&&(s["X-Firebase-GMPID"]=e)}function pD(s,e){e!==null&&(s["X-Firebase-AppCheck"]=e)}function yD(s,e,n,r,o,u,f=!0,g=!1){const p=cD(s.urlParams),y=s.url+p,b=Object.assign({},s.headers);return gD(b,e),dD(b,n),mD(b,u),pD(b,r),new fD(y,s.method,b,s.body,s.successCodes,s.additionalRetryCodes,s.handler,s.errorHandler,s.timeout,s.progressCallback,o,f,g)}function _D(s){if(s.length===0)return null;const e=s.lastIndexOf("/");return e===-1?"":s.slice(0,e)}function vD(s){const e=s.lastIndexOf("/",s.length-2);return e===-1?s:s.slice(e+1)}class Sh{constructor(e,n){this._service=e,n instanceof ei?this._location=n:this._location=ei.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Sh(e,n)}get root(){const e=new ei(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return vD(this._location.path)}get storage(){return this._service}get parent(){const e=_D(this._location.path);if(e===null)return null;const n=new ei(this._location.bucket,e);return new Sh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw rD(e)}}function Wv(s,e){const n=e?.[JN];return n==null?null:ei.makeFromBucketSpec(n,s)}function ED(s,e,n,r={}){s.host=`${e}:${n}`;const o=sa(e);o&&(Fm(`https://${s.host}/b`),Gm("Storage",!0)),s._isUsingEmulator=!0,s._protocol=o?"https":"http";const{mockUserToken:u}=r;u&&(s._overrideAuthToken=typeof u=="string"?u:kE(u,s.app.options.projectId))}class TD{constructor(e,n,r,o,u,f=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=f,this._bucket=null,this._host=G1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=ZN,this._maxUploadRetryTime=WN,this._requests=new Set,o!=null?this._bucket=ei.makeFromBucketSpec(o,this._host):this._bucket=Wv(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ei.makeFromBucketSpec(this._url,e):this._bucket=Wv(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Zv("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Zv("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Sn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Sh(this,e)}_makeRequest(e,n,r,o,u=!0){if(this._deleted)return new aD(Y1());{const f=yD(e,this._appId,r,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(e,n){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,o).getPromise()}}const eE="@firebase/storage",tE="0.14.0";const K1="storage";function bD(s=Qm(),e){s=kt(s);const r=xh(s,K1).getImmediate({identifier:e}),o=OE("storage");return o&&AD(r,...o),r}function AD(s,e,n,r={}){ED(s,e,n,r)}function SD(s,{instanceIdentifier:e}){const n=s.getProvider("app").getImmediate(),r=s.getProvider("auth-internal"),o=s.getProvider("app-check-internal");return new TD(n,r,o,e,ra)}function wD(){Wr(new ar(K1,SD,"PUBLIC").setMultipleInstances(!0)),xi(eE,tE,""),xi(eE,tE,"esm2020")}wD();const RD={apiKey:"AIzaSyCG6jo4RZf1eS0wTSYLLA-7i6dyHH3o1NQ",authDomain:"spool-social.firebaseapp.com",projectId:"spool-social",storageBucket:"spool-social.firebasestorage.app",messagingSenderId:"650053374660",appId:"1:650053374660:web:64e5f1b6ee95d5dc7aef91",measurementId:"G-4RP43JTQKZ"},jg=PE(RD),Fc=IC(jg),Yr=IN(jg);bD(jg);const CD=new rs,us={gmb:{id:"gmb",name:"Google Business",color:"bg-blue-600",text:"text-blue-600",border:"border-blue-600",icon:SE,url:"https://business.google.com",placeholder:"Share an update, offer, or event...",maxChars:1500},linkedin:{id:"linkedin",name:"LinkedIn",color:"bg-sky-700",text:"text-sky-700",border:"border-sky-700",icon:yS,url:"https://www.linkedin.com",placeholder:"Share a professional insight or milestone...",maxChars:3e3},twitter:{id:"twitter",name:"X / Twitter",color:"bg-black",text:"text-black",border:"border-black",icon:GS,url:"https://twitter.com/compose/tweet",placeholder:"What's happening?",maxChars:280},instagram:{id:"instagram",name:"Instagram",color:"bg-pink-600",text:"text-pink-600",border:"border-pink-600",icon:fS,url:"https://www.instagram.com",placeholder:"Write a caption...",maxChars:2200}},ls={DRAFT:"draft",SCHEDULED:"scheduled",POSTED:"posted"},Gc={APPROVED:"approved",CHANGES_REQUESTED:"changes_requested"},xD=["Share a 'behind the scenes' photo of your workspace.","Highlight a recent customer review or success story.","Explain a common misconception in your industry.","Share a tool or resource that saves you time.","Post a throwback to when you first started.","Ask your audience a 'This or That' question.","Introduce yourself or a team member.","Share a mistake you made and what you learned.","Post a quick tip that solves a small problem.","Celebrate a small win or milestone.","Share what you are currently reading or learning.","Answer a Frequently Asked Question (FAQ)."],ID=({message:s,type:e="success",onClose:n})=>(qe.useEffect(()=>{const r=setTimeout(n,3e3);return()=>clearTimeout(r)},[n]),T.jsxs("div",{className:`fixed bottom-6 right-6 px-6 py-3 rounded-lg shadow-lg text-white transform transition-all duration-300 flex items-center gap-2 z-[60] ${e==="success"?"bg-indigo-900":"bg-rose-900"}`,children:[e==="success"?T.jsx(Hm,{size:18}):T.jsx(Rh,{size:18}),T.jsx("span",{className:"font-medium",children:s})]})),ND=({title:s,message:e,onConfirm:n,onCancel:r,type:o="action"})=>T.jsx("div",{className:"fixed inset-0 bg-slate-900/50 backdrop-blur-sm z-[70] flex items-center justify-center p-4",children:T.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-sm p-6 animate-in fade-in zoom-in duration-200",children:[T.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center mb-4 mx-auto ${o==="danger"?"bg-rose-100 text-rose-600":"bg-indigo-100 text-indigo-600"}`,children:o==="danger"?T.jsx(CE,{size:24}):T.jsx(AE,{size:24})}),T.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-2 text-center",children:s}),T.jsx("p",{className:"text-slate-600 text-sm mb-6 text-center",children:e}),T.jsxs("div",{className:"flex gap-3",children:[T.jsx("button",{onClick:r,className:"flex-1 py-2.5 bg-slate-100 text-slate-700 font-medium rounded-xl hover:bg-slate-200 transition-colors",children:"Cancel"}),T.jsx("button",{onClick:n,className:`flex-1 py-2.5 text-white font-medium rounded-xl transition-colors ${o==="danger"?"bg-rose-600 hover:bg-rose-700":"bg-indigo-600 hover:bg-indigo-700"}`,children:o==="danger"?"Delete":"Confirm"})]})]})}),Q1=({platformId:s,size:e=18,className:n=""})=>{const r=us[s]||us.gmb,o=r.icon||Rh;return T.jsx("div",{className:`flex items-center justify-center rounded-full text-white ${r.color} ${n}`,style:{width:e,height:e},children:T.jsx(o,{size:e*.6})})},wh=(s,e)=>s?s.startsWith("data:")?s:e[s]||null:null,DD=s=>new Promise((e,n)=>{s||n("No file provided");const r=new FileReader;r.readAsDataURL(s),r.onload=o=>{const u=new Image;u.src=o.target.result,u.onload=()=>{const f=document.createElement("canvas"),g=800,p=g/u.width;f.width=g,f.height=u.height*p,f.getContext("2d").drawImage(u,0,0,f.width,f.height),e(f.toDataURL("image/jpeg",.6))},u.onerror=f=>n(f)},r.onerror=o=>n(o)}),OD={punchy:s=>{const e=`


#Growth #Building`;return s.includes("#Growth #Building")?s:`${s.replace(/\b(I think|I believe|Just wanted to say|basically|actually)\b/gi,"").replace(/\s+/g," ").trim()}${e}`},professional:s=>{const e=` Professional Update:

`,n=`

I'd love to hear your perspective on this in the comments below.

#Leadership #IndustryTrends`;return s.startsWith(" Professional Update")?s:`${e}${s}${n}`},emojify:s=>{const e={launch:"",growth:"",money:"",team:"",idea:"",love:"",happy:"",work:""};let n=s;return Object.keys(e).forEach(r=>{const o=e[r],u=new RegExp(`\\b${r}\\b(?!\\s*${o})`,"gi");n=n.replace(u,`${r} ${o}`)}),n}},MD=({post:s,mediaMap:e,onEdit:n,onDelete:r,onDuplicate:o,onCloneToAll:u,onStatusChange:f,isReadOnly:g,onClick:p})=>{const y=us[s.platform]||us.gmb,b=s.status===ls.SCHEDULED,S=s.status===ls.POSTED,R=s.scheduledDate?new Date(s.scheduledDate).toLocaleString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}):"No date set",P=wh(s.imageUrl,e),$=K=>{navigator.clipboard.writeText(K)},X=()=>s.approvalStatus===Gc.APPROVED?"border-l-4 border-l-emerald-500":s.approvalStatus===Gc.CHANGES_REQUESTED?"border-l-4 border-l-rose-500":S?"opacity-90":"";return T.jsxs("div",{onClick:p,className:`group bg-white border border-slate-100 rounded-xl shadow-sm hover:shadow-md transition-all overflow-hidden flex flex-col cursor-pointer ${X()}`,children:[T.jsx("div",{className:`h-1.5 w-full ${S?"bg-indigo-500":b?"bg-amber-400":"bg-slate-300"}`}),T.jsxs("div",{className:"p-5 flex-1 flex flex-col",children:[T.jsxs("div",{className:"flex justify-between items-start mb-3",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx(Q1,{platformId:s.platform,size:28}),T.jsxs("div",{children:[T.jsx("h4",{className:"font-semibold text-slate-800 text-sm",children:y.name}),T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsxs("div",{className:"flex items-center gap-1 text-xs text-slate-400",children:[T.jsx(eS,{size:10}),T.jsx("span",{children:R})]}),s.client&&T.jsx("span",{className:"text-[10px] bg-indigo-50 text-indigo-700 px-1.5 py-0.5 rounded border border-indigo-100 font-medium truncate max-w-[80px]",children:s.client})]})]})]}),s.approvalStatus===Gc.APPROVED&&T.jsxs("div",{className:"text-xs font-bold text-emerald-600 bg-emerald-50 px-2 py-1 rounded flex items-center gap-1",children:[T.jsx(Hm,{size:12})," Approved"]}),s.approvalStatus===Gc.CHANGES_REQUESTED&&T.jsxs("div",{className:"text-xs font-bold text-rose-600 bg-rose-50 px-2 py-1 rounded flex items-center gap-1",children:[T.jsx(Rh,{size:12})," Review"]}),!g&&T.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[T.jsx("button",{onClick:K=>{K.stopPropagation(),u(s)},title:"Blast: Clone to All Platforms",className:"p-1.5 text-slate-400 hover:text-indigo-600 rounded-md",children:T.jsx(AE,{size:14})}),T.jsx("button",{onClick:K=>{K.stopPropagation(),o(s)},title:"Clone Draft",className:"p-1.5 text-slate-400 hover:text-blue-600 rounded-md",children:T.jsx(sS,{size:14})}),T.jsx("button",{onClick:K=>{K.stopPropagation(),n(s)},className:"p-1.5 text-slate-400 hover:text-emerald-700 rounded-md",children:T.jsx(CS,{size:14})}),T.jsx("button",{onClick:K=>{K.stopPropagation(),r(s.id)},className:"p-1.5 text-slate-400 hover:text-rose-600 rounded-md",children:T.jsx(RE,{size:14})})]})]}),s.tags&&s.tags.length>0&&T.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:s.tags.map((K,te)=>T.jsx("span",{className:"px-1.5 py-0.5 text-[10px] font-medium rounded-full bg-slate-100 text-slate-500 border border-slate-200",children:K},te))}),T.jsxs("div",{className:"mb-4 flex-1",children:[T.jsx("p",{className:"text-slate-600 text-sm line-clamp-3 leading-relaxed font-medium",children:s.content||T.jsx("span",{className:"italic text-slate-300",children:"Empty..."})}),P&&T.jsx("div",{className:"mt-3 relative h-32 w-full bg-slate-50 rounded-lg overflow-hidden border border-slate-100",children:T.jsx("img",{src:P,alt:"Asset",className:"w-full h-full object-cover"})})]}),s.feedback&&T.jsxs("div",{className:"mb-4 p-2 bg-rose-50 rounded-lg border border-rose-100 text-xs text-rose-900 italic",children:['"',s.feedback,'"']}),!g&&T.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-slate-50 mt-auto",children:[T.jsxs("button",{onClick:K=>{K.stopPropagation(),$(s.content)},className:"flex items-center gap-1.5 text-xs font-medium text-slate-500 hover:text-indigo-700 transition-colors active:scale-95",children:[T.jsx(bE,{size:12}),T.jsx("span",{children:"Copy"})]}),T.jsxs("a",{href:y.url,target:"_blank",rel:"noopener noreferrer",onClick:K=>K.stopPropagation(),className:"flex items-center gap-1.5 text-xs font-medium text-slate-500 hover:text-blue-600 transition-colors",children:[T.jsx(uS,{size:12}),T.jsx("span",{children:"Open App"})]}),T.jsx("button",{onClick:K=>{K.stopPropagation(),f(s.id,S?ls.DRAFT:ls.POSTED)},className:`flex items-center gap-1.5 text-xs font-bold px-2.5 py-1.5 rounded-full transition-colors ${S?"bg-indigo-100 text-indigo-700":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:S?"Posted":"Mark Done"})]})]})]})},$1=({post:s})=>{us[s.platform]||us.gmb;const e=s.content||"No content yet...",n=({children:r})=>T.jsxs("div",{className:"w-[300px] bg-white rounded-[2rem] border-[6px] border-slate-800 shadow-2xl overflow-hidden relative h-[600px] flex flex-col",children:[T.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-32 h-6 bg-slate-800 rounded-b-xl z-10"}),T.jsx("div",{className:"flex-1 overflow-y-auto pt-8 scrollbar-hide",children:r})]});return s.platform==="twitter"?T.jsx(n,{children:T.jsx("div",{className:"px-4 pb-4 font-sans",children:T.jsxs("div",{className:"flex gap-3",children:[T.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-200 shrink-0"}),T.jsxs("div",{className:"flex-1",children:[T.jsxs("div",{className:"flex items-center gap-1",children:[T.jsx("span",{className:"font-bold text-slate-900 text-sm",children:"You"}),T.jsx("span",{className:"text-slate-500 text-sm",children:"@handle  1m"})]}),T.jsx("p",{className:"text-slate-900 text-sm mt-1 whitespace-pre-wrap leading-normal",children:e}),s.imageUrl&&T.jsx("div",{className:"mt-3 rounded-2xl overflow-hidden border border-slate-100",children:T.jsx("img",{src:s.imageUrl,className:"w-full h-auto object-cover"})})]})]})})}):s.platform==="instagram"?T.jsx(n,{children:T.jsxs("div",{className:"font-sans text-sm pb-4",children:[T.jsxs("div",{className:"flex items-center justify-between p-3",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-200"}),T.jsx("span",{className:"font-semibold text-xs text-slate-900",children:"your_username"})]}),T.jsx(oS,{size:16})]}),T.jsx("div",{className:"bg-slate-100 w-full aspect-square flex items-center justify-center overflow-hidden",children:s.imageUrl?T.jsx("img",{src:s.imageUrl,className:"w-full h-full object-cover"}):T.jsx("span",{className:"text-slate-400 text-xs",children:"No Image"})}),T.jsx("div",{className:"p-3",children:T.jsxs("p",{className:"text-slate-900 text-xs",children:[T.jsx("span",{className:"font-semibold mr-2",children:"your_username"}),e]})})]})}):s.platform==="linkedin"?T.jsx(n,{children:T.jsxs("div",{className:"bg-white font-sans text-sm pb-4 border-b border-slate-200 mb-4",children:[T.jsxs("div",{className:"flex gap-2 p-3",children:[T.jsx("div",{className:"w-10 h-10 rounded bg-slate-200"}),T.jsxs("div",{children:[T.jsx("div",{className:"font-semibold text-xs text-slate-900",children:"Your Name"}),T.jsx("div",{className:"text-[10px] text-slate-500",children:"Title  1st"})]})]}),T.jsx("div",{className:"px-3 pb-2 text-xs text-slate-900 whitespace-pre-wrap",children:e}),s.imageUrl&&T.jsx("img",{src:s.imageUrl,className:"w-full h-auto object-cover"})]})}):T.jsx(n,{children:T.jsxs("div",{className:"px-4 pb-4 font-sans",children:[T.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[T.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-600 flex items-center justify-center text-white",children:T.jsx(SE,{size:20})}),T.jsxs("div",{children:[T.jsx("div",{className:"font-bold text-slate-900 text-sm",children:"Your Business"}),T.jsx("div",{className:"text-xs text-slate-500",children:"Posted on Google"})]})]}),s.imageUrl&&T.jsx("div",{className:"rounded-lg overflow-hidden mb-3",children:T.jsx("img",{src:s.imageUrl,className:"w-full h-40 object-cover"})}),T.jsx("p",{className:"text-slate-800 text-sm mb-4 whitespace-pre-wrap",children:e}),T.jsx("button",{className:"w-full py-2 bg-slate-100 text-blue-700 font-medium rounded-full text-xs",children:"Learn More"})]})})},VD=({post:s,mediaMap:e,onApprove:n,onRequestChanges:r,onClose:o})=>{const[u,f]=qe.useState(""),[g,p]=qe.useState("view"),[y,b]=qe.useState([]),S=wh(s.imageUrl,e),R=["Fix Text","Change Image","Wrong Link","Tone Issue"],P=X=>{b(K=>K.includes(X)?K.filter(te=>te!==X):[...K,X])},$=()=>{const X=`${y.join(", ")}${y.length>0&&u?" - ":""}${u}`;r(X||"Changes requested")};return T.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm z-[70] flex items-center justify-center p-4",children:T.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl h-[90vh] flex flex-col md:flex-row overflow-hidden animate-in fade-in zoom-in",children:[T.jsx("div",{className:"flex-1 bg-slate-100 p-8 flex items-center justify-center border-r border-slate-200",children:T.jsx($1,{post:{...s,imageUrl:S}})}),T.jsxs("div",{className:"flex-1 flex flex-col bg-white",children:[T.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-start",children:[T.jsxs("div",{children:[T.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"Review Thread"}),T.jsxs("p",{className:"text-sm text-slate-500",children:["Scheduled: ",new Date(s.scheduledDate).toLocaleString()]})]}),T.jsx("button",{onClick:o,className:"p-2 hover:bg-slate-100 rounded-full",children:T.jsx(Ll,{size:20,className:"text-slate-400"})})]}),T.jsx("div",{className:"p-6 flex-1 overflow-y-auto",children:g==="view"?T.jsxs("div",{className:"space-y-6",children:[T.jsxs("div",{children:[T.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2 block",children:"Content"}),T.jsx("div",{className:"p-4 bg-slate-50 rounded-xl text-slate-700 text-sm whitespace-pre-wrap leading-relaxed border border-slate-100",children:s.content})]}),s.tags&&T.jsx("div",{className:"flex gap-2",children:s.tags.map(X=>T.jsx("span",{className:"px-2 py-1 bg-indigo-50 text-indigo-700 text-xs rounded-full font-medium",children:X},X))})]}):T.jsxs("div",{className:"space-y-4 animate-in slide-in-from-right-4 duration-200",children:[T.jsxs("div",{className:"flex items-center gap-2 text-rose-600 font-bold",children:[T.jsx(Rh,{size:20}),T.jsx("h3",{children:"Request Changes"})]}),T.jsx("div",{className:"flex flex-wrap gap-2",children:R.map(X=>T.jsx("button",{onClick:()=>P(X),className:`px-3 py-1.5 text-xs font-medium rounded-full border transition-all ${y.includes(X)?"bg-rose-100 border-rose-200 text-rose-700":"bg-white border-slate-200 text-slate-500 hover:border-slate-300"}`,children:X},X))}),T.jsx("textarea",{className:"w-full h-32 p-4 border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-rose-500/20 focus:border-rose-500 resize-none",placeholder:"Add specific notes...",value:u,onChange:X=>f(X.target.value)})]})}),T.jsx("div",{className:"p-6 border-t border-slate-100 bg-slate-50/50",children:g==="view"?T.jsxs("div",{className:"flex gap-4",children:[T.jsxs("button",{onClick:()=>p("reject"),className:"flex-1 py-3 bg-white border border-slate-200 text-slate-700 font-bold rounded-xl hover:bg-rose-50 hover:text-rose-700 transition-all flex items-center justify-center gap-2",children:[T.jsx(BS,{size:18})," Request Changes"]}),T.jsxs("button",{onClick:n,className:"flex-1 py-3 bg-emerald-600 text-white font-bold rounded-xl hover:bg-emerald-700 transition-all flex items-center justify-center gap-2 shadow-lg shadow-emerald-600/20",children:[T.jsx(Hm,{size:18})," Approve Thread"]})]}):T.jsxs("div",{className:"flex gap-4",children:[T.jsx("button",{onClick:()=>p("view"),className:"px-6 py-3 text-slate-500 font-medium hover:text-slate-700 transition-colors",children:"Cancel"}),T.jsx("button",{onClick:$,className:"flex-1 py-3 bg-rose-600 text-white font-bold rounded-xl hover:bg-rose-700 transition-all shadow-lg shadow-rose-600/20",children:"Submit Feedback"})]})})]})]})})},kD=({onClose:s,onSelect:e})=>T.jsx("div",{className:"fixed inset-0 bg-slate-900/40 backdrop-blur-sm z-[80] flex items-end sm:items-center justify-center p-4",children:T.jsxs("div",{className:"bg-white w-full max-w-lg rounded-2xl shadow-2xl flex flex-col max-h-[85vh] animate-in slide-in-from-bottom-10 duration-200",children:[T.jsxs("div",{className:"p-5 border-b border-slate-100 flex justify-between items-center bg-indigo-600 rounded-t-2xl text-white",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx(jS,{size:20,className:"text-yellow-300"}),T.jsx("h3",{className:"font-bold text-lg",children:"Spark Deck"})]}),T.jsx("button",{onClick:s,className:"p-1 hover:bg-white/20 rounded-full transition-colors",children:T.jsx(Ll,{size:20})})]}),T.jsx("div",{className:"p-2 overflow-y-auto bg-slate-50 rounded-b-2xl",children:T.jsx("div",{className:"grid gap-2 p-2",children:xD.map((n,r)=>T.jsxs("button",{onClick:()=>e(n),className:"group text-left p-4 bg-white border border-slate-200 rounded-xl hover:border-indigo-300 hover:shadow-md hover:translate-x-1 transition-all flex justify-between items-center",children:[T.jsx("span",{className:"text-slate-700 text-sm font-medium pr-4",children:n}),T.jsx(bE,{size:14,className:"text-indigo-400 opacity-0 group-hover:opacity-100 transition-opacity"})]},r))})})]})}),UD=({posts:s,currentDate:e,onDateChange:n,onEdit:r})=>{const o=y=>new Date(y.getFullYear(),y.getMonth()+1,0).getDate(),u=y=>new Date(y.getFullYear(),y.getMonth(),1).getDay(),f=Array.from({length:o(e)},(y,b)=>b+1),g=Array.from({length:u(e)},(y,b)=>b),p=e.toLocaleString("default",{month:"long",year:"numeric"});return T.jsxs("div",{className:"h-full flex flex-col bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:[T.jsxs("div",{className:"p-4 flex justify-between items-center border-b border-slate-100 bg-slate-50",children:[T.jsxs("h2",{className:"text-lg font-bold text-slate-800 flex items-center gap-2",children:[T.jsx("span",{className:"text-indigo-600",children:""})," ",p]}),T.jsxs("div",{className:"flex gap-1 bg-white rounded-lg border border-slate-200 p-1",children:[T.jsx("button",{onClick:()=>n(new Date(e.setMonth(e.getMonth()-1))),className:"p-1.5 hover:bg-slate-100 rounded-md text-slate-600",children:T.jsx(QA,{size:18})}),T.jsx("button",{onClick:()=>n(new Date),className:"px-3 text-xs font-bold text-slate-600 hover:bg-slate-100 rounded-md",children:"Today"}),T.jsx("button",{onClick:()=>n(new Date(e.setMonth(e.getMonth()+1))),className:"p-1.5 hover:bg-slate-100 rounded-md text-slate-600",children:T.jsx(XA,{size:18})})]})]}),T.jsx("div",{className:"grid grid-cols-7 bg-slate-100 gap-px border-b border-slate-200 text-center py-2",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(y=>T.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:y},y))}),T.jsxs("div",{className:"flex-1 grid grid-cols-7 bg-slate-200 gap-px overflow-y-auto",children:[g.map(y=>T.jsx("div",{className:"bg-slate-50/50"},`pad-${y}`)),f.map(y=>{const b=s.filter(S=>{const R=new Date(S.scheduledDate);return R.getDate()===y&&R.getMonth()===e.getMonth()&&R.getFullYear()===e.getFullYear()}).sort((S,R)=>new Date(S.scheduledDate)-new Date(R.scheduledDate));return T.jsxs("div",{className:"bg-white min-h-[100px] p-2 hover:bg-slate-50 transition-colors group relative",children:[T.jsx("span",{className:`text-xs font-bold ${new Date().getDate()===y&&new Date().getMonth()===e.getMonth()?"bg-indigo-600 text-white w-6 h-6 flex items-center justify-center rounded-full":"text-slate-400"}`,children:y}),T.jsx("div",{className:"mt-2 space-y-1",children:b.map(S=>T.jsxs("button",{onClick:()=>r(S),className:`w-full text-left text-[10px] truncate px-1.5 py-1 rounded border-l-2 ${S.status===ls.POSTED?"border-indigo-500 bg-indigo-50 text-indigo-700":"border-amber-400 bg-amber-50 text-amber-800"}`,children:[new Date(S.scheduledDate).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})," ",S.client?` ${S.client}`:""]},S.id))}),T.jsx("button",{onClick:()=>r({scheduledDate:new Date(e.getFullYear(),e.getMonth(),y,9,0).toISOString()}),className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 p-1 text-slate-300 hover:text-indigo-600 transition-all",children:T.jsx(wE,{size:14})})]},y)})]})]})};var nE;(function(s){s.STRING="string",s.NUMBER="number",s.INTEGER="integer",s.BOOLEAN="boolean",s.ARRAY="array",s.OBJECT="object"})(nE||(nE={}));var iE;(function(s){s.LANGUAGE_UNSPECIFIED="language_unspecified",s.PYTHON="python"})(iE||(iE={}));var sE;(function(s){s.OUTCOME_UNSPECIFIED="outcome_unspecified",s.OUTCOME_OK="outcome_ok",s.OUTCOME_FAILED="outcome_failed",s.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(sE||(sE={}));const rE=["user","model","function","system"];var aE;(function(s){s.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",s.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",s.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",s.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",s.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",s.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(aE||(aE={}));var oE;(function(s){s.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",s.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",s.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",s.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",s.BLOCK_NONE="BLOCK_NONE"})(oE||(oE={}));var lE;(function(s){s.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",s.NEGLIGIBLE="NEGLIGIBLE",s.LOW="LOW",s.MEDIUM="MEDIUM",s.HIGH="HIGH"})(lE||(lE={}));var uE;(function(s){s.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",s.SAFETY="SAFETY",s.OTHER="OTHER"})(uE||(uE={}));var Ul;(function(s){s.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",s.STOP="STOP",s.MAX_TOKENS="MAX_TOKENS",s.SAFETY="SAFETY",s.RECITATION="RECITATION",s.LANGUAGE="LANGUAGE",s.BLOCKLIST="BLOCKLIST",s.PROHIBITED_CONTENT="PROHIBITED_CONTENT",s.SPII="SPII",s.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",s.OTHER="OTHER"})(Ul||(Ul={}));var cE;(function(s){s.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",s.RETRIEVAL_QUERY="RETRIEVAL_QUERY",s.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",s.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",s.CLASSIFICATION="CLASSIFICATION",s.CLUSTERING="CLUSTERING"})(cE||(cE={}));var hE;(function(s){s.MODE_UNSPECIFIED="MODE_UNSPECIFIED",s.AUTO="AUTO",s.ANY="ANY",s.NONE="NONE"})(hE||(hE={}));var fE;(function(s){s.MODE_UNSPECIFIED="MODE_UNSPECIFIED",s.MODE_DYNAMIC="MODE_DYNAMIC"})(fE||(fE={}));class Wt extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class $a extends Wt{constructor(e,n){super(e),this.response=n}}class X1 extends Wt{constructor(e,n,r,o){super(e),this.status=n,this.statusText=r,this.errorDetails=o}}class rr extends Wt{}class J1 extends Wt{}const LD="https://generativelanguage.googleapis.com",PD="v1beta",jD="0.24.1",zD="genai-js";var ia;(function(s){s.GENERATE_CONTENT="generateContent",s.STREAM_GENERATE_CONTENT="streamGenerateContent",s.COUNT_TOKENS="countTokens",s.EMBED_CONTENT="embedContent",s.BATCH_EMBED_CONTENTS="batchEmbedContents"})(ia||(ia={}));class BD{constructor(e,n,r,o,u){this.model=e,this.task=n,this.apiKey=r,this.stream=o,this.requestOptions=u}toString(){var e,n;const r=((e=this.requestOptions)===null||e===void 0?void 0:e.apiVersion)||PD;let u=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||LD}/${r}/${this.model}:${this.task}`;return this.stream&&(u+="?alt=sse"),u}}function qD(s){const e=[];return s?.apiClient&&e.push(s.apiClient),e.push(`${zD}/${jD}`),e.join(" ")}async function HD(s){var e;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",qD(s.requestOptions)),n.append("x-goog-api-key",s.apiKey);let r=(e=s.requestOptions)===null||e===void 0?void 0:e.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(o){throw new rr(`unable to convert customHeaders value ${JSON.stringify(r)} to Headers: ${o.message}`)}for(const[o,u]of r.entries()){if(o==="x-goog-api-key")throw new rr(`Cannot set reserved header name ${o}`);if(o==="x-goog-api-client")throw new rr(`Header name ${o} can only be set using the apiClient field`);n.append(o,u)}}return n}async function FD(s,e,n,r,o,u){const f=new BD(s,e,n,r,u);return{url:f.toString(),fetchOptions:Object.assign(Object.assign({},QD(u)),{method:"POST",headers:await HD(f),body:o})}}async function ou(s,e,n,r,o,u={},f=fetch){const{url:g,fetchOptions:p}=await FD(s,e,n,r,o,u);return GD(g,p,f)}async function GD(s,e,n=fetch){let r;try{r=await n(s,e)}catch(o){YD(o,s)}return r.ok||await KD(r,s),r}function YD(s,e){let n=s;throw n.name==="AbortError"?(n=new J1(`Request aborted when fetching ${e.toString()}: ${s.message}`),n.stack=s.stack):s instanceof X1||s instanceof rr||(n=new Wt(`Error fetching from ${e.toString()}: ${s.message}`),n.stack=s.stack),n}async function KD(s,e){let n="",r;try{const o=await s.json();n=o.error.message,o.error.details&&(n+=` ${JSON.stringify(o.error.details)}`,r=o.error.details)}catch{}throw new X1(`Error fetching from ${e.toString()}: [${s.status} ${s.statusText}] ${n}`,s.status,s.statusText,r)}function QD(s){const e={};if(s?.signal!==void 0||s?.timeout>=0){const n=new AbortController;s?.timeout>=0&&setTimeout(()=>n.abort(),s.timeout),s?.signal&&s.signal.addEventListener("abort",()=>{n.abort()}),e.signal=n.signal}return e}function zg(s){return s.text=()=>{if(s.candidates&&s.candidates.length>0){if(s.candidates.length>1&&console.warn(`This response had ${s.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),nh(s.candidates[0]))throw new $a(`${Qs(s)}`,s);return $D(s)}else if(s.promptFeedback)throw new $a(`Text not available. ${Qs(s)}`,s);return""},s.functionCall=()=>{if(s.candidates&&s.candidates.length>0){if(s.candidates.length>1&&console.warn(`This response had ${s.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),nh(s.candidates[0]))throw new $a(`${Qs(s)}`,s);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),dE(s)[0]}else if(s.promptFeedback)throw new $a(`Function call not available. ${Qs(s)}`,s)},s.functionCalls=()=>{if(s.candidates&&s.candidates.length>0){if(s.candidates.length>1&&console.warn(`This response had ${s.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),nh(s.candidates[0]))throw new $a(`${Qs(s)}`,s);return dE(s)}else if(s.promptFeedback)throw new $a(`Function call not available. ${Qs(s)}`,s)},s}function $D(s){var e,n,r,o;const u=[];if(!((n=(e=s.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const f of(o=(r=s.candidates)===null||r===void 0?void 0:r[0].content)===null||o===void 0?void 0:o.parts)f.text&&u.push(f.text),f.executableCode&&u.push("\n```"+f.executableCode.language+`
`+f.executableCode.code+"\n```\n"),f.codeExecutionResult&&u.push("\n```\n"+f.codeExecutionResult.output+"\n```\n");return u.length>0?u.join(""):""}function dE(s){var e,n,r,o;const u=[];if(!((n=(e=s.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const f of(o=(r=s.candidates)===null||r===void 0?void 0:r[0].content)===null||o===void 0?void 0:o.parts)f.functionCall&&u.push(f.functionCall);if(u.length>0)return u}const XD=[Ul.RECITATION,Ul.SAFETY,Ul.LANGUAGE];function nh(s){return!!s.finishReason&&XD.includes(s.finishReason)}function Qs(s){var e,n,r;let o="";if((!s.candidates||s.candidates.length===0)&&s.promptFeedback)o+="Response was blocked",!((e=s.promptFeedback)===null||e===void 0)&&e.blockReason&&(o+=` due to ${s.promptFeedback.blockReason}`),!((n=s.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(o+=`: ${s.promptFeedback.blockReasonMessage}`);else if(!((r=s.candidates)===null||r===void 0)&&r[0]){const u=s.candidates[0];nh(u)&&(o+=`Candidate was blocked due to ${u.finishReason}`,u.finishMessage&&(o+=`: ${u.finishMessage}`))}return o}function Yl(s){return this instanceof Yl?(this.v=s,this):new Yl(s)}function JD(s,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(s,e||[]),o,u=[];return o={},f("next"),f("throw"),f("return"),o[Symbol.asyncIterator]=function(){return this},o;function f(R){r[R]&&(o[R]=function(P){return new Promise(function($,X){u.push([R,P,$,X])>1||g(R,P)})})}function g(R,P){try{p(r[R](P))}catch($){S(u[0][3],$)}}function p(R){R.value instanceof Yl?Promise.resolve(R.value.v).then(y,b):S(u[0][2],R)}function y(R){g("next",R)}function b(R){g("throw",R)}function S(R,P){R(P),u.shift(),u.length&&g(u[0][0],u[0][1])}}const mE=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function ZD(s){const e=s.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=tO(e),[r,o]=n.tee();return{stream:eO(r),response:WD(o)}}async function WD(s){const e=[],n=s.getReader();for(;;){const{done:r,value:o}=await n.read();if(r)return zg(nO(e));e.push(o)}}function eO(s){return JD(this,arguments,function*(){const n=s.getReader();for(;;){const{value:r,done:o}=yield Yl(n.read());if(o)break;yield yield Yl(zg(r))}})}function tO(s){const e=s.getReader();return new ReadableStream({start(r){let o="";return u();function u(){return e.read().then(({value:f,done:g})=>{if(g){if(o.trim()){r.error(new Wt("Failed to parse stream"));return}r.close();return}o+=f;let p=o.match(mE),y;for(;p;){try{y=JSON.parse(p[1])}catch{r.error(new Wt(`Error parsing JSON response: "${p[1]}"`));return}r.enqueue(y),o=o.substring(p[0].length),p=o.match(mE)}return u()}).catch(f=>{let g=f;throw g.stack=f.stack,g.name==="AbortError"?g=new J1("Request aborted when reading from the stream"):g=new Wt("Error reading from the stream"),g})}}})}function nO(s){const e=s[s.length-1],n={promptFeedback:e?.promptFeedback};for(const r of s){if(r.candidates){let o=0;for(const u of r.candidates)if(n.candidates||(n.candidates=[]),n.candidates[o]||(n.candidates[o]={index:o}),n.candidates[o].citationMetadata=u.citationMetadata,n.candidates[o].groundingMetadata=u.groundingMetadata,n.candidates[o].finishReason=u.finishReason,n.candidates[o].finishMessage=u.finishMessage,n.candidates[o].safetyRatings=u.safetyRatings,u.content&&u.content.parts){n.candidates[o].content||(n.candidates[o].content={role:u.content.role||"user",parts:[]});const f={};for(const g of u.content.parts)g.text&&(f.text=g.text),g.functionCall&&(f.functionCall=g.functionCall),g.executableCode&&(f.executableCode=g.executableCode),g.codeExecutionResult&&(f.codeExecutionResult=g.codeExecutionResult),Object.keys(f).length===0&&(f.text=""),n.candidates[o].content.parts.push(f)}o++}r.usageMetadata&&(n.usageMetadata=r.usageMetadata)}return n}async function Z1(s,e,n,r){const o=await ou(e,ia.STREAM_GENERATE_CONTENT,s,!0,JSON.stringify(n),r);return ZD(o)}async function W1(s,e,n,r){const u=await(await ou(e,ia.GENERATE_CONTENT,s,!1,JSON.stringify(n),r)).json();return{response:zg(u)}}function eb(s){if(s!=null){if(typeof s=="string")return{role:"system",parts:[{text:s}]};if(s.text)return{role:"system",parts:[s]};if(s.parts)return s.role?s:{role:"system",parts:s.parts}}}function Kl(s){let e=[];if(typeof s=="string")e=[{text:s}];else for(const n of s)typeof n=="string"?e.push({text:n}):e.push(n);return iO(e)}function iO(s){const e={role:"user",parts:[]},n={role:"function",parts:[]};let r=!1,o=!1;for(const u of s)"functionResponse"in u?(n.parts.push(u),o=!0):(e.parts.push(u),r=!0);if(r&&o)throw new Wt("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!o)throw new Wt("No content is provided for sending chat message.");return r?e:n}function sO(s,e){var n;let r={model:e?.model,generationConfig:e?.generationConfig,safetySettings:e?.safetySettings,tools:e?.tools,toolConfig:e?.toolConfig,systemInstruction:e?.systemInstruction,cachedContent:(n=e?.cachedContent)===null||n===void 0?void 0:n.name,contents:[]};const o=s.generateContentRequest!=null;if(s.contents){if(o)throw new rr("CountTokensRequest must have one of contents or generateContentRequest, not both.");r.contents=s.contents}else if(o)r=Object.assign(Object.assign({},r),s.generateContentRequest);else{const u=Kl(s);r.contents=[u]}return{generateContentRequest:r}}function gE(s){let e;return s.contents?e=s:e={contents:[Kl(s)]},s.systemInstruction&&(e.systemInstruction=eb(s.systemInstruction)),e}function rO(s){return typeof s=="string"||Array.isArray(s)?{content:Kl(s)}:s}const pE=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],aO={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function oO(s){let e=!1;for(const n of s){const{role:r,parts:o}=n;if(!e&&r!=="user")throw new Wt(`First content should be with role 'user', got ${r}`);if(!rE.includes(r))throw new Wt(`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(rE)}`);if(!Array.isArray(o))throw new Wt("Content should have 'parts' property with an array of Parts");if(o.length===0)throw new Wt("Each Content should have at least one part");const u={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const g of o)for(const p of pE)p in g&&(u[p]+=1);const f=aO[r];for(const g of pE)if(!f.includes(g)&&u[g]>0)throw new Wt(`Content with role '${r}' can't contain '${g}' part`);e=!0}}function yE(s){var e;if(s.candidates===void 0||s.candidates.length===0)return!1;const n=(e=s.candidates[0])===null||e===void 0?void 0:e.content;if(n===void 0||n.parts===void 0||n.parts.length===0)return!1;for(const r of n.parts)if(r===void 0||Object.keys(r).length===0||r.text!==void 0&&r.text==="")return!1;return!0}const _E="SILENT_ERROR";class lO{constructor(e,n,r,o={}){this.model=n,this.params=r,this._requestOptions=o,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,r?.history&&(oO(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e,n={}){var r,o,u,f,g,p;await this._sendPromise;const y=Kl(e),b={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(o=this.params)===null||o===void 0?void 0:o.generationConfig,tools:(u=this.params)===null||u===void 0?void 0:u.tools,toolConfig:(f=this.params)===null||f===void 0?void 0:f.toolConfig,systemInstruction:(g=this.params)===null||g===void 0?void 0:g.systemInstruction,cachedContent:(p=this.params)===null||p===void 0?void 0:p.cachedContent,contents:[...this._history,y]},S=Object.assign(Object.assign({},this._requestOptions),n);let R;return this._sendPromise=this._sendPromise.then(()=>W1(this._apiKey,this.model,b,S)).then(P=>{var $;if(yE(P.response)){this._history.push(y);const X=Object.assign({parts:[],role:"model"},($=P.response.candidates)===null||$===void 0?void 0:$[0].content);this._history.push(X)}else{const X=Qs(P.response);X&&console.warn(`sendMessage() was unsuccessful. ${X}. Inspect response object for details.`)}R=P}).catch(P=>{throw this._sendPromise=Promise.resolve(),P}),await this._sendPromise,R}async sendMessageStream(e,n={}){var r,o,u,f,g,p;await this._sendPromise;const y=Kl(e),b={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(o=this.params)===null||o===void 0?void 0:o.generationConfig,tools:(u=this.params)===null||u===void 0?void 0:u.tools,toolConfig:(f=this.params)===null||f===void 0?void 0:f.toolConfig,systemInstruction:(g=this.params)===null||g===void 0?void 0:g.systemInstruction,cachedContent:(p=this.params)===null||p===void 0?void 0:p.cachedContent,contents:[...this._history,y]},S=Object.assign(Object.assign({},this._requestOptions),n),R=Z1(this._apiKey,this.model,b,S);return this._sendPromise=this._sendPromise.then(()=>R).catch(P=>{throw new Error(_E)}).then(P=>P.response).then(P=>{if(yE(P)){this._history.push(y);const $=Object.assign({},P.candidates[0].content);$.role||($.role="model"),this._history.push($)}else{const $=Qs(P);$&&console.warn(`sendMessageStream() was unsuccessful. ${$}. Inspect response object for details.`)}}).catch(P=>{P.message!==_E&&console.error(P)}),R}}async function uO(s,e,n,r){return(await ou(e,ia.COUNT_TOKENS,s,!1,JSON.stringify(n),r)).json()}async function cO(s,e,n,r){return(await ou(e,ia.EMBED_CONTENT,s,!1,JSON.stringify(n),r)).json()}async function hO(s,e,n,r){const o=n.requests.map(f=>Object.assign(Object.assign({},f),{model:e}));return(await ou(e,ia.BATCH_EMBED_CONTENTS,s,!1,JSON.stringify({requests:o}),r)).json()}class vE{constructor(e,n,r={}){this.apiKey=e,this._requestOptions=r,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=eb(n.systemInstruction),this.cachedContent=n.cachedContent}async generateContent(e,n={}){var r;const o=gE(e),u=Object.assign(Object.assign({},this._requestOptions),n);return W1(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},o),u)}async generateContentStream(e,n={}){var r;const o=gE(e),u=Object.assign(Object.assign({},this._requestOptions),n);return Z1(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},o),u)}startChat(e){var n;return new lO(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},e),this._requestOptions)}async countTokens(e,n={}){const r=sO(e,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),o=Object.assign(Object.assign({},this._requestOptions),n);return uO(this.apiKey,this.model,r,o)}async embedContent(e,n={}){const r=rO(e),o=Object.assign(Object.assign({},this._requestOptions),n);return cO(this.apiKey,this.model,r,o)}async batchEmbedContents(e,n={}){const r=Object.assign(Object.assign({},this._requestOptions),n);return hO(this.apiKey,this.model,e,r)}}class fO{constructor(e){this.apiKey=e}getGenerativeModel(e,n){if(!e.model)throw new Wt("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new vE(this.apiKey,e,n)}getGenerativeModelFromCachedContent(e,n,r){if(!e.name)throw new rr("Cached content must contain a `name` field.");if(!e.model)throw new rr("Cached content must contain a `model` field.");const o=["model","systemInstruction"];for(const f of o)if(n?.[f]&&e[f]&&n?.[f]!==e[f]){if(f==="model"){const g=n.model.startsWith("models/")?n.model.replace("models/",""):n.model,p=e.model.startsWith("models/")?e.model.replace("models/",""):e.model;if(g===p)continue}throw new rr(`Different value for "${f}" specified in modelParams (${n[f]}) and cachedContent (${e[f]})`)}const u=Object.assign(Object.assign({},n),{model:e.model,tools:e.tools,toolConfig:e.toolConfig,systemInstruction:e.systemInstruction,cachedContent:e});return new vE(this.apiKey,u,r)}}const dO=({current:s,max:e})=>{const r=2*Math.PI*10,o=Math.min(100,s/e*100),u=r-o/100*r;let f="stroke-indigo-500";return o>80&&(f="stroke-amber-500"),o>95&&(f="stroke-rose-500"),T.jsxs("div",{className:"relative w-8 h-8 flex items-center justify-center",children:[T.jsxs("svg",{className:"transform -rotate-90 w-full h-full",children:[T.jsx("circle",{className:"text-slate-200",strokeWidth:"3",stroke:"currentColor",fill:"transparent",r:10,cx:"16",cy:"16"}),T.jsx("circle",{className:`${f} transition-all duration-300`,strokeWidth:"3",strokeDasharray:r,strokeDashoffset:u,strokeLinecap:"round",stroke:"currentColor",fill:"transparent",r:10,cx:"16",cy:"16"})]}),o>100&&T.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:T.jsx("span",{className:"text-[10px] font-bold text-rose-600",children:"!"})})]})},mO=new fO("your_gemini_api_key_here"),gO=({post:s,onSave:e,onCancel:n,mediaMap:r,showToast:o,onOpenSparkDeck:u})=>{const[f,g]=qe.useState({platform:"gmb",content:"",client:"",imageUrl:"",scheduledDate:new Date().toISOString().slice(0,16),status:ls.DRAFT,tags:[]}),[p,y]=qe.useState(!1),[b,S]=qe.useState(!1);qe.useEffect(()=>{if(s){let te=new Date().toISOString().slice(0,16);if(s.scheduledDate){if(s.scheduledDate instanceof Date&&!isNaN(s.scheduledDate))te=s.scheduledDate.toISOString().slice(0,16);else if(typeof s.scheduledDate=="string"){const ce=new Date(s.scheduledDate);isNaN(ce.getTime())||(te=ce.toISOString().slice(0,16))}}g({...s,scheduledDate:te})}},[s]);const R=async te=>{if(!f.content)return o("Write some content first!","error");S(!0);try{if(te==="fix"){const le=await mO.getGenerativeModel({model:"gemini-pro"}).generateContent(`Fix grammar and spelling, keep tone casual: "${f.content}"`);g(ve=>({...ve,content:le.response.text()}))}else{const ce=OD[te];ce&&g(le=>({...le,content:ce(f.content)}))}o("Content polished! ")}catch(ce){console.error("AI Error:",ce),o("AI Service unavailable.","error")}finally{S(!1)}},P=async te=>{const ce=te.target.files[0];if(ce)try{const le=await DD(ce);g(ve=>({...ve,imageUrl:le}))}catch{o("Error processing image","error")}},$=us[f.platform]||us.gmb,X=f.content.length,K=X>$.maxChars;return T.jsxs("div",{className:"h-full flex flex-col md:flex-row bg-white overflow-hidden animate-in slide-in-from-right duration-300",children:[T.jsxs("div",{className:`flex-1 flex flex-col h-full border-r border-slate-200 transition-all ${p?"hidden md:flex":"flex"}`,children:[T.jsxs("div",{className:"p-4 border-b border-slate-100 flex justify-between items-center bg-white sticky top-0 z-10",children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("button",{onClick:n,className:"p-2 hover:bg-slate-100 rounded-full text-slate-500",children:T.jsx(Ll,{size:20})}),T.jsx("h2",{className:"font-bold text-slate-800 text-lg",children:"New Thread"})]}),T.jsxs("button",{onClick:()=>e(f),disabled:K||!f.content,className:"flex items-center gap-2 bg-indigo-600 text-white px-6 py-2 rounded-full font-bold hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-md hover:shadow-lg",children:[T.jsx(OS,{size:18})," ",T.jsx("span",{children:"Save"})]})]}),T.jsxs("div",{className:"flex-1 overflow-y-auto p-6 md:p-8 space-y-6",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-wider mb-3",children:"Platform"}),T.jsx("div",{className:"flex gap-4",children:Object.values(us).map(te=>T.jsxs("button",{onClick:()=>g({...f,platform:te.id}),className:`flex-1 flex flex-col items-center gap-2 p-3 rounded-xl border-2 transition-all ${f.platform===te.id?`border-${te.text.split("-")[1]}-500 bg-${te.text.split("-")[1]}-50`:"border-slate-100 hover:border-slate-200"}`,children:[T.jsx(Q1,{platformId:te.id,size:24}),T.jsx("span",{className:`text-xs font-bold ${f.platform===te.id?"text-slate-800":"text-slate-400"}`,children:te.name})]},te.id))})]}),T.jsxs("div",{className:"relative group",children:[T.jsxs("div",{className:"flex justify-between items-center mb-2",children:[T.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Content"}),T.jsxs("button",{onClick:u,className:"flex items-center gap-1 text-indigo-600 text-xs font-bold hover:underline",children:[T.jsx(em,{size:12})," ",T.jsx("span",{children:"Spark Deck"})]})]}),T.jsx("textarea",{className:`w-full h-64 p-4 rounded-xl border-2 text-base leading-relaxed resize-none focus:ring-0 transition-all ${K?"border-rose-300 focus:border-rose-500 bg-rose-50":"border-slate-200 focus:border-indigo-500 bg-white"}`,placeholder:$.placeholder,value:f.content,onChange:te=>g({...f,content:te.target.value})}),T.jsx("div",{className:"absolute bottom-16 right-4",children:T.jsx(dO,{current:X,max:$.maxChars})}),T.jsxs("div",{className:"flex flex-wrap gap-2 mt-3 pb-4 border-b border-slate-100",children:[T.jsxs("button",{onClick:()=>R("fix"),disabled:b,className:"px-3 py-1.5 bg-indigo-50 text-indigo-700 text-xs font-bold rounded-lg hover:bg-indigo-100 flex items-center gap-1.5 transition-colors",children:[T.jsx(em,{size:12}),b?"Fixing...":"Fix Grammar"]}),T.jsxs("button",{onClick:()=>R("punchy"),className:"px-3 py-1.5 bg-orange-50 text-orange-700 text-xs font-bold rounded-lg hover:bg-orange-100 flex items-center gap-1.5",children:[T.jsx(v0,{size:12}),"Punchy"]}),T.jsxs("button",{onClick:()=>R("professional"),className:"px-3 py-1.5 bg-blue-50 text-blue-700 text-xs font-bold rounded-lg hover:bg-blue-100 flex items-center gap-1.5",children:[T.jsx(NS,{size:12}),"Professional"]}),T.jsxs("button",{onClick:()=>R("emojify"),className:"px-3 py-1.5 bg-pink-50 text-pink-700 text-xs font-bold rounded-lg hover:bg-pink-100 flex items-center gap-1.5",children:[T.jsx(em,{size:12}),"Emojify"]})]})]}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Schedule"}),T.jsxs("div",{className:"relative",children:[T.jsx(TE,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:16}),T.jsx("input",{type:"datetime-local",value:f.scheduledDate,onChange:te=>g({...f,scheduledDate:te.target.value}),className:"w-full pl-10 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm font-medium focus:border-indigo-500 focus:ring-0 transition-all"})]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Client Name"}),T.jsx("input",{type:"text",placeholder:"e.g. Acme Corp",value:f.client,onChange:te=>g({...f,client:te.target.value}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm font-medium focus:border-indigo-500 focus:ring-0 transition-all"})]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Visual Asset"}),f.imageUrl?T.jsxs("div",{className:"relative rounded-xl overflow-hidden border border-slate-200 group",children:[T.jsx("img",{src:wh(f.imageUrl,r),className:"w-full h-48 object-cover",alt:"Preview"}),T.jsx("button",{onClick:()=>g({...f,imageUrl:""}),className:"absolute top-2 right-2 p-2 bg-black/50 text-white rounded-full hover:bg-rose-600 transition-colors backdrop-blur-sm",children:T.jsx(RE,{size:16})})]}):T.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-dashed border-slate-300 rounded-xl cursor-pointer hover:border-indigo-500 hover:bg-indigo-50/50 transition-all group",children:[T.jsxs("div",{className:"flex flex-col items-center pt-5 pb-6",children:[T.jsx(nS,{className:"w-8 h-8 text-slate-400 group-hover:text-indigo-500 mb-2 transition-colors"}),T.jsx("p",{className:"text-xs text-slate-500 font-medium",children:"Click to upload image"})]}),T.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:P})]})]})]})]}),T.jsxs("div",{className:`w-full md:w-[400px] bg-slate-100 border-l border-slate-200 flex flex-col ${p?"flex fixed inset-0 z-20":"hidden md:flex"}`,children:[T.jsxs("div",{className:"p-4 border-b border-slate-200 bg-slate-100 flex justify-between items-center",children:[T.jsx("h3",{className:"font-bold text-slate-500 text-sm uppercase tracking-wider",children:"Live Preview"}),T.jsx("button",{onClick:()=>y(!p),className:"md:hidden p-2 text-slate-500 hover:bg-slate-200 rounded-lg",children:T.jsx(Ll,{size:20})})]}),T.jsx("div",{className:"flex-1 flex items-center justify-center p-8 bg-slate-100/50 backdrop-blur-3xl",children:T.jsx($1,{post:{...f,imageUrl:wh(f.imageUrl,r)}})})]}),T.jsx("button",{onClick:()=>y(!0),className:"md:hidden fixed bottom-6 right-6 z-50 bg-slate-900 text-white p-4 rounded-full shadow-xl",children:T.jsx(v0,{size:24})})]})};class pO extends qe.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0}}render(){return this.state.hasError?T.jsx("div",{className:"h-screen flex items-center justify-center bg-slate-50 p-6",children:T.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl max-w-md text-center border border-rose-100",children:[T.jsx("div",{className:"w-12 h-12 bg-rose-50 rounded-full flex items-center justify-center mx-auto mb-4",children:T.jsx(CE,{className:"text-rose-500"})}),T.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-2",children:"Something went wrong"}),T.jsx("p",{className:"text-slate-500 mb-6",children:"We encountered an unexpected error."}),T.jsx("button",{onClick:()=>window.location.reload(),className:"bg-slate-900 text-white px-6 py-2 rounded-lg font-bold",children:"Reload App"})]})}):this.props.children}}const yO=()=>{const[s,e]=qe.useState(null),[n,r]=qe.useState([]),[o,u]=qe.useState({}),[f,g]=qe.useState("grid"),[p,y]=qe.useState(null),[b,S]=qe.useState(""),[R,P]=qe.useState(!1),[$,X]=qe.useState(!0),[K,te]=qe.useState(null),[ce,le]=qe.useState(null),[ve,ze]=qe.useState(!1),[Re,D]=qe.useState(null),[w,N]=qe.useState(null),V=new URLSearchParams(window.location.search).get("uid"),O=!!V;qe.useEffect(()=>{V&&h2(Fc).catch(x=>console.error("Guest Auth Failed",x));const ne=y2(Fc,x=>{e(x),!x&&!V&&X(!1)});return()=>ne()},[V]),qe.useEffect(()=>{if(!s&&!V)return;X(!0);const ne=V||s?.uid;if(!ne){X(!1);return}const F=new URLSearchParams(window.location.search).get("client");if(V&&!F){console.warn(" ACCESS DENIED: Missing client filter for guest."),r([]),X(!1);return}const ee=[Kv("uid","==",ne)];F&&(ee.push(Kv("client","==",F)),y(F));const re=qN(dm(Yr,"posts"),...ee),pe=KN(re,Ee=>{const xe=Ee.docs.map(Oe=>{const rn=Oe.data(),zn=si=>{if(!si)return null;const ji=new Date(si);return isNaN(ji.getTime())?null:ji};return{id:Oe.id,...rn,scheduledDate:zn(rn.scheduledDate),createdAt:zn(rn.createdAt)||new Date}});xe.sort((Oe,rn)=>{const zn=Oe.scheduledDate||Oe.createdAt;return(rn.scheduledDate||rn.createdAt)-zn}),r(xe);const ct={};xe.forEach(Oe=>{Oe.imageUrl&&(ct[Oe.imageUrl]=Oe.imageUrl)}),u(Oe=>({...Oe,...ct})),X(!1)},Ee=>{console.error(" Firestore Error:",Ee),X(!1)});return()=>pe()},[s,V]),qe.useEffect(()=>{if(O){const ne=new URLSearchParams(window.location.search).get("client");document.title=ne?`${ne} | Spool Review`:"Spool Client View"}else document.title="Spool | Creator Dashboard"},[O]);const k=(ne,x="success")=>{D({message:ne,type:x}),setTimeout(()=>D(null),3e3)},C=()=>{if(!s)return;let x=`${window.location.href.split("?")[0]}?uid=${s.uid}`,F="Master Link (All Clients) Copied! ";p&&(x+=`&client=${encodeURIComponent(p)}`,F=`Review Link for "${p}" Copied! `),navigator.clipboard.writeText(x),k(F)},tt=async ne=>{if(!O)try{const x=ee=>ee?typeof ee=="string"?ee:ee instanceof Date&&!isNaN(ee)?ee.toISOString():null:null,F={...ne,uid:s.uid,scheduledDate:x(ne.scheduledDate),updatedAt:new Date().toISOString()};Object.keys(F).forEach(ee=>F[ee]===void 0&&delete F[ee]),F.id?(await mm(xl(Yr,"posts",F.id),F),k("Thread updated")):(await Xv(dm(Yr,"posts"),{...F,createdAt:new Date().toISOString()}),k("New thread created!")),g("grid"),te(null)}catch(x){console.error("Save Error:",x),k(`Save failed: ${x.message}`,"error")}},dt=ne=>{N({title:"Delete Thread?",message:"This action cannot be undone.",type:"danger",onConfirm:async()=>{await YN(xl(Yr,"posts",ne)),N(null),k("Thread deleted.")}})},G=async(ne,x)=>{try{await mm(xl(Yr,"posts",ne),{status:x}),k(`Status updated to ${x}`)}catch{k("Update failed","error")}},se=async ne=>{const x=[...new Set(n.map(ee=>ee.client).filter(Boolean))];if(x.length===0)return k("No other clients found.");let F=0;for(const ee of x){if(ee===ne.client)continue;const{id:re,...pe}=ne;await Xv(dm(Yr,"posts"),{...pe,client:ee,status:ls.DRAFT,createdAt:new Date().toISOString(),scheduledDate:ne.scheduledDate instanceof Date?ne.scheduledDate.toISOString():ne.scheduledDate}),F++}k(`Cloned to ${F} clients!`)},fe=qe.useMemo(()=>[...new Set(n.map(ne=>ne.client).filter(Boolean))].sort(),[n]),Ie=qe.useMemo(()=>n.filter(ne=>{const x=p?ne.client===p:!0,F=b.toLowerCase(),ee=!b||ne.content&&ne.content.toLowerCase().includes(F)||ne.client&&ne.client.toLowerCase().includes(F);return x&&ee}),[n,p,b]);return!s&&!V?T.jsx("div",{className:"min-h-screen bg-slate-50 flex flex-col items-center justify-center p-4",children:T.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl max-w-sm w-full text-center",children:[T.jsx("div",{className:"w-16 h-16 bg-indigo-600 rounded-xl flex items-center justify-center mx-auto mb-6 shadow-lg shadow-indigo-200",children:T.jsx(Wd,{className:"text-white",size:32})}),T.jsx("h1",{className:"text-3xl font-black text-slate-900 mb-2",children:"Spool"}),T.jsx("p",{className:"text-slate-500 mb-8",children:"Creative Workflow Management"}),T.jsxs("button",{onClick:()=>P2(Fc,CD),className:"w-full bg-indigo-600 text-white py-3 rounded-xl font-bold hover:bg-indigo-700 transition-all shadow-md shadow-indigo-100 flex items-center justify-center gap-2",children:[T.jsx(Wd,{size:20})," Sign in with Google"]})]})}):f==="editor"?T.jsx(gO,{post:K,onSave:tt,onCancel:()=>{g("grid"),te(null)},onOpenSparkDeck:()=>ze(!0)}):T.jsxs(pO,{children:[T.jsxs("div",{className:"min-h-screen bg-slate-50 flex",children:[!O&&T.jsx("aside",{className:`fixed inset-y-0 left-0 z-50 w-64 bg-white border-r border-slate-200 transform transition-transform duration-200 lg:translate-x-0 ${R?"translate-x-0":"-translate-x-full"} lg:static`,children:T.jsxs("div",{className:"p-6 h-full flex flex-col",children:[T.jsxs("div",{className:"flex flex-col mb-8",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("div",{className:"w-8 h-8 bg-indigo-600 rounded-lg flex items-center justify-center",children:T.jsx(Wd,{className:"text-white",size:18})}),T.jsx("span",{className:"font-black text-xl text-slate-900",children:"Spool"})]}),T.jsx("a",{href:"https://stitchtec.com",target:"_blank",rel:"noopener noreferrer",className:"text-[10px] font-bold text-slate-400 tracking-widest uppercase hover:text-indigo-600 mt-2 ml-1",children:"by Stitch TEC"})]}),T.jsx("div",{className:"flex-1 overflow-y-auto",children:T.jsxs("div",{className:"mb-6",children:[T.jsx("h3",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-3",children:"Clients"}),T.jsxs("div",{className:"space-y-1",children:[T.jsx("button",{onClick:()=>{y(null),P(!1)},className:`w-full text-left px-3 py-2 rounded-lg text-sm font-medium transition-colors ${p?"text-slate-600 hover:bg-slate-50":"bg-indigo-50 text-indigo-700"}`,children:"All Clients"}),fe.map(ne=>T.jsx("button",{onClick:()=>{y(ne),P(!1)},className:`w-full text-left px-3 py-2 rounded-lg text-sm font-medium transition-colors ${p===ne?"bg-indigo-50 text-indigo-700":"text-slate-600 hover:bg-slate-50"}`,children:ne},ne))]})]})})]})}),T.jsxs("main",{className:"flex-1 min-w-0 flex flex-col min-h-screen",children:[T.jsxs("header",{className:"bg-white border-b border-slate-200 sticky top-0 z-40 px-4 sm:px-6 h-16 flex items-center justify-between shadow-sm",children:[T.jsxs("div",{className:"flex items-center gap-3",children:[!O&&T.jsx("button",{onClick:()=>P(!R),className:"lg:hidden p-2 text-slate-500 hover:bg-slate-100 rounded-lg",children:T.jsx(SS,{size:24})}),T.jsxs("div",{className:`flex flex-col leading-none ${O?"":"lg:hidden"}`,children:[T.jsx("h1",{className:"text-xl font-black text-slate-900",children:"Spool"}),T.jsx("a",{href:"https://stitchtec.com",target:"_blank",rel:"noopener noreferrer",className:"text-[10px] font-bold text-slate-400 tracking-widest uppercase hover:text-indigo-600",children:"by Stitch TEC"})]})]}),T.jsx("div",{className:"flex-1 max-w-md mx-4",children:T.jsxs("div",{className:"relative",children:[T.jsx(VS,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),T.jsx("input",{type:"text",placeholder:"Search content...",value:b,onChange:ne=>S(ne.target.value),className:"w-full pl-10 pr-4 py-2 bg-slate-100 border-none rounded-xl text-sm focus:ring-2 focus:ring-indigo-500 focus:bg-white transition-all"})]})}),T.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[!O&&T.jsxs("div",{className:"hidden sm:flex bg-slate-100 p-1 rounded-lg",children:[T.jsx("button",{onClick:()=>g("grid"),className:`p-1.5 rounded-md ${f==="grid"?"bg-white shadow-sm text-indigo-600":"text-slate-400 hover:text-slate-600"}`,title:"Grid View",children:T.jsx(_0,{size:18})}),T.jsx("button",{onClick:()=>g("calendar"),className:`p-1.5 rounded-md ${f==="calendar"?"bg-white shadow-sm text-indigo-600":"text-slate-400 hover:text-slate-600"}`,title:"Calendar View",children:T.jsx(TE,{size:18})})]}),!O&&T.jsxs("button",{onClick:C,className:"flex items-center gap-2 bg-indigo-50 text-indigo-700 border border-indigo-100 px-3 py-2 rounded-xl font-bold text-sm hover:bg-indigo-100 transition-all",title:"Copy Link for Client",children:[T.jsx(gS,{size:16}),T.jsx("span",{className:"hidden sm:inline",children:p?`${p} Link`:"Master Link"})]}),!O&&T.jsxs("button",{onClick:()=>g("editor"),className:"hidden sm:flex items-center gap-2 bg-indigo-600 text-white px-4 py-2 rounded-xl font-bold text-sm shadow-md hover:bg-indigo-700 hover:scale-105 transition-transform",children:[T.jsx(wE,{size:18})," ",T.jsx("span",{className:"hidden md:inline",children:"New"})]}),T.jsx("button",{onClick:()=>{_2(Fc),window.location.reload()},className:"p-2 text-slate-400 hover:text-rose-600 transition-colors",title:O?"Exit View":"Log Out",children:T.jsx(TS,{size:20})})]})]}),T.jsxs("div",{className:"flex-1 p-4 sm:p-6 lg:p-8 max-w-7xl mx-auto w-full",children:[T.jsx("div",{className:"flex items-center justify-between mb-6",children:T.jsxs("h2",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[f==="calendar"?"Calendar":p?`${p} Threads`:"All Threads",p&&!O&&T.jsx("button",{onClick:()=>y(null),className:"text-slate-400 hover:text-rose-500",children:T.jsx(Ll,{size:20})})]})}),$?T.jsxs("div",{className:"flex flex-col items-center justify-center h-64",children:[T.jsx(vS,{className:"w-10 h-10 text-indigo-600 animate-spin mb-4"}),T.jsx("p",{className:"text-slate-400 font-medium animate-pulse",children:"Loading content..."})]}):T.jsx(T.Fragment,{children:O&&!new URLSearchParams(window.location.search).get("client")?T.jsxs("div",{className:"text-center py-20 bg-white rounded-2xl border border-dashed border-slate-300",children:[T.jsx("div",{className:"w-16 h-16 bg-rose-50 rounded-full flex items-center justify-center mx-auto mb-4",children:T.jsx(US,{className:"text-rose-400",size:32})}),T.jsx("h3",{className:"text-slate-900 font-bold text-lg",children:"Access Restricted"}),T.jsx("p",{className:"text-slate-500 mt-2",children:"You must use a specific client link to view content."})]}):T.jsx(T.Fragment,{children:f==="calendar"?T.jsx(UD,{posts:Ie.filter(ne=>ne.scheduledDate instanceof Date),onPostClick:ne=>{O?le(ne):(te(ne),g("editor"))}}):T.jsx(T.Fragment,{children:Ie.length===0?T.jsxs("div",{className:"text-center py-20 bg-white rounded-2xl border border-dashed border-slate-300",children:[T.jsx("div",{className:"w-16 h-16 bg-slate-50 rounded-full flex items-center justify-center mx-auto mb-4",children:T.jsx(_0,{className:"text-slate-300"})}),T.jsx("h3",{className:"text-slate-900 font-bold text-lg",children:"No threads found"}),!O&&T.jsx("button",{onClick:()=>g("editor"),className:"text-indigo-600 font-bold hover:underline",children:"Create Thread"})]}):T.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:Ie.map(ne=>T.jsx(MD,{post:ne,mediaMap:o,isReadOnly:O,onClick:()=>{O?le(ne):(te(ne),g("editor"))},onEdit:x=>{te(x),g("editor")},onCloneToAll:se,onDuplicate:x=>tt({...x,id:void 0,status:ls.DRAFT}),onDelete:()=>dt(ne.id),onStatusChange:G},ne.id))})})})})]}),T.jsx("footer",{className:"py-6 text-center border-t border-slate-200 bg-white",children:T.jsxs("p",{className:"text-slate-400 text-[10px] font-bold tracking-widest uppercase",children:["Powered by ",T.jsx("a",{href:"https://stitchtec.com",target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:text-indigo-800 transition-colors",children:"Spool"})]})})]})]}),w&&T.jsx(ND,{...w}),Re&&T.jsx(ID,{message:Re.message,type:Re.type,onClose:()=>D(null)}),ve&&T.jsx(kD,{onClose:()=>ze(!1),onSelect:ne=>{te(x=>({...x,content:ne})),ze(!1)}}),ce&&T.jsx(VD,{post:ce,mediaMap:o,onClose:()=>le(null),onApprove:()=>{G(ce.id,ls.SCHEDULED),le(null)},onRequestChanges:ne=>{mm(xl(Yr,"posts",ce.id),{feedback:ne,approvalStatus:"changes_requested"}),k("Feedback sent!"),le(null)}})]})};zA.createRoot(document.getElementById("root")).render(T.jsx(qe.StrictMode,{children:T.jsx(yO,{})}));
