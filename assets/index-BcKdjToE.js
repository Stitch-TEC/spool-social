(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Ld={exports:{}},wl={};var q0;function Qb(){if(q0)return wl;q0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:s,type:a,key:d,ref:l!==void 0?l:null,props:c}}return wl.Fragment=e,wl.jsx=i,wl.jsxs=i,wl}var H0;function Yb(){return H0||(H0=1,Ld.exports=Qb()),Ld.exports}var E=Yb(),Pd={exports:{}},we={};var F0;function Kb(){if(F0)return we;F0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),M=Symbol.iterator;function U(D){return D===null||typeof D!="object"?null:(D=M&&D[M]||D["@@iterator"],typeof D=="function"?D:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ee=Object.assign,Z={};function he(D,Y,se){this.props=D,this.context=Y,this.refs=Z,this.updater=se||G}he.prototype.isReactComponent={},he.prototype.setState=function(D,Y){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,Y,"setState")},he.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function fe(){}fe.prototype=he.prototype;function pe(D,Y,se){this.props=D,this.context=Y,this.refs=Z,this.updater=se||G}var De=pe.prototype=new fe;De.constructor=pe,ee(De,he.prototype),De.isPureReactComponent=!0;var Ve=Array.isArray;function ke(){}var N={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function R(D,Y,se){var re=se.ref;return{$$typeof:s,type:D,key:Y,ref:re!==void 0?re:null,props:se}}function V(D,Y){return R(D.type,Y,D.props)}function I(D){return typeof D=="object"&&D!==null&&D.$$typeof===s}function j(D){var Y={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(se){return Y[se]})}var x=/\/+/g;function Ye(D,Y){return typeof D=="object"&&D!==null&&D.key!=null?j(""+D.key):Y.toString(36)}function ne(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(ke,ke):(D.status="pending",D.then(function(Y){D.status==="pending"&&(D.status="fulfilled",D.value=Y)},function(Y){D.status==="pending"&&(D.status="rejected",D.reason=Y)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function q(D,Y,se,re,ve){var Ae=typeof D;(Ae==="undefined"||Ae==="boolean")&&(D=null);var Te=!1;if(D===null)Te=!0;else switch(Ae){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(D.$$typeof){case s:case e:Te=!0;break;case S:return Te=D._init,q(Te(D._payload),Y,se,re,ve)}}if(Te)return ve=ve(D),Te=re===""?"."+Ye(D,0):re,Ve(ve)?(se="",Te!=null&&(se=Te.replace(x,"$&/")+"/"),q(ve,Y,se,"",function(Gi){return Gi})):ve!=null&&(I(ve)&&(ve=V(ve,se+(ve.key==null||D&&D.key===ve.key?"":(""+ve.key).replace(x,"$&/")+"/")+Te)),Y.push(ve)),1;Te=0;var yt=re===""?".":re+":";if(Ve(D))for(var ut=0;ut<D.length;ut++)re=D[ut],Ae=yt+Ye(re,ut),Te+=q(re,Y,se,Ae,ve);else if(ut=U(D),typeof ut=="function")for(D=ut.call(D),ut=0;!(re=D.next()).done;)re=re.value,Ae=yt+Ye(re,ut++),Te+=q(re,Y,se,Ae,ve);else if(Ae==="object"){if(typeof D.then=="function")return q(ne(D),Y,se,re,ve);throw Y=String(D),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Te}function te(D,Y,se){if(D==null)return D;var re=[],ve=0;return q(D,re,"","",function(Ae){return Y.call(se,Ae,ve++)}),re}function oe(D){if(D._status===-1){var Y=D._result;Y=Y(),Y.then(function(se){(D._status===0||D._status===-1)&&(D._status=1,D._result=se)},function(se){(D._status===0||D._status===-1)&&(D._status=2,D._result=se)}),D._status===-1&&(D._status=0,D._result=Y)}if(D._status===1)return D._result.default;throw D._result}var Ce=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},Oe={map:te,forEach:function(D,Y,se){te(D,function(){Y.apply(this,arguments)},se)},count:function(D){var Y=0;return te(D,function(){Y++}),Y},toArray:function(D){return te(D,function(Y){return Y})||[]},only:function(D){if(!I(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return we.Activity=A,we.Children=Oe,we.Component=he,we.Fragment=i,we.Profiler=l,we.PureComponent=pe,we.StrictMode=a,we.Suspense=y,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,we.__COMPILER_RUNTIME={__proto__:null,c:function(D){return N.H.useMemoCache(D)}},we.cache=function(D){return function(){return D.apply(null,arguments)}},we.cacheSignal=function(){return null},we.cloneElement=function(D,Y,se){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var re=ee({},D.props),ve=D.key;if(Y!=null)for(Ae in Y.key!==void 0&&(ve=""+Y.key),Y)!w.call(Y,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&Y.ref===void 0||(re[Ae]=Y[Ae]);var Ae=arguments.length-2;if(Ae===1)re.children=se;else if(1<Ae){for(var Te=Array(Ae),yt=0;yt<Ae;yt++)Te[yt]=arguments[yt+2];re.children=Te}return R(D.type,ve,re)},we.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:c,_context:D},D},we.createElement=function(D,Y,se){var re,ve={},Ae=null;if(Y!=null)for(re in Y.key!==void 0&&(Ae=""+Y.key),Y)w.call(Y,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(ve[re]=Y[re]);var Te=arguments.length-2;if(Te===1)ve.children=se;else if(1<Te){for(var yt=Array(Te),ut=0;ut<Te;ut++)yt[ut]=arguments[ut+2];ve.children=yt}if(D&&D.defaultProps)for(re in Te=D.defaultProps,Te)ve[re]===void 0&&(ve[re]=Te[re]);return R(D,Ae,ve)},we.createRef=function(){return{current:null}},we.forwardRef=function(D){return{$$typeof:p,render:D}},we.isValidElement=I,we.lazy=function(D){return{$$typeof:S,_payload:{_status:-1,_result:D},_init:oe}},we.memo=function(D,Y){return{$$typeof:_,type:D,compare:Y===void 0?null:Y}},we.startTransition=function(D){var Y=N.T,se={};N.T=se;try{var re=D(),ve=N.S;ve!==null&&ve(se,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(ke,Ce)}catch(Ae){Ce(Ae)}finally{Y!==null&&se.types!==null&&(Y.types=se.types),N.T=Y}},we.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},we.use=function(D){return N.H.use(D)},we.useActionState=function(D,Y,se){return N.H.useActionState(D,Y,se)},we.useCallback=function(D,Y){return N.H.useCallback(D,Y)},we.useContext=function(D){return N.H.useContext(D)},we.useDebugValue=function(){},we.useDeferredValue=function(D,Y){return N.H.useDeferredValue(D,Y)},we.useEffect=function(D,Y){return N.H.useEffect(D,Y)},we.useEffectEvent=function(D){return N.H.useEffectEvent(D)},we.useId=function(){return N.H.useId()},we.useImperativeHandle=function(D,Y,se){return N.H.useImperativeHandle(D,Y,se)},we.useInsertionEffect=function(D,Y){return N.H.useInsertionEffect(D,Y)},we.useLayoutEffect=function(D,Y){return N.H.useLayoutEffect(D,Y)},we.useMemo=function(D,Y){return N.H.useMemo(D,Y)},we.useOptimistic=function(D,Y){return N.H.useOptimistic(D,Y)},we.useReducer=function(D,Y,se){return N.H.useReducer(D,Y,se)},we.useRef=function(D){return N.H.useRef(D)},we.useState=function(D){return N.H.useState(D)},we.useSyncExternalStore=function(D,Y,se){return N.H.useSyncExternalStore(D,Y,se)},we.useTransition=function(){return N.H.useTransition()},we.version="19.2.3",we}var G0;function Mm(){return G0||(G0=1,Pd.exports=Kb()),Pd.exports}var Ee=Mm(),zd={exports:{}},xl={},Bd={exports:{}},qd={};var Q0;function Xb(){return Q0||(Q0=1,(function(s){function e(q,te){var oe=q.length;q.push(te);e:for(;0<oe;){var Ce=oe-1>>>1,Oe=q[Ce];if(0<l(Oe,te))q[Ce]=te,q[oe]=Oe,oe=Ce;else break e}}function i(q){return q.length===0?null:q[0]}function a(q){if(q.length===0)return null;var te=q[0],oe=q.pop();if(oe!==te){q[0]=oe;e:for(var Ce=0,Oe=q.length,D=Oe>>>1;Ce<D;){var Y=2*(Ce+1)-1,se=q[Y],re=Y+1,ve=q[re];if(0>l(se,oe))re<Oe&&0>l(ve,se)?(q[Ce]=ve,q[re]=oe,Ce=re):(q[Ce]=se,q[Y]=oe,Ce=Y);else if(re<Oe&&0>l(ve,oe))q[Ce]=ve,q[re]=oe,Ce=re;else break e}}return te}function l(q,te){var oe=q.sortIndex-te.sortIndex;return oe!==0?oe:q.id-te.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var y=[],_=[],S=1,A=null,M=3,U=!1,G=!1,ee=!1,Z=!1,he=typeof setTimeout=="function"?setTimeout:null,fe=typeof clearTimeout=="function"?clearTimeout:null,pe=typeof setImmediate<"u"?setImmediate:null;function De(q){for(var te=i(_);te!==null;){if(te.callback===null)a(_);else if(te.startTime<=q)a(_),te.sortIndex=te.expirationTime,e(y,te);else break;te=i(_)}}function Ve(q){if(ee=!1,De(q),!G)if(i(y)!==null)G=!0,ke||(ke=!0,j());else{var te=i(_);te!==null&&ne(Ve,te.startTime-q)}}var ke=!1,N=-1,w=5,R=-1;function V(){return Z?!0:!(s.unstable_now()-R<w)}function I(){if(Z=!1,ke){var q=s.unstable_now();R=q;var te=!0;try{e:{G=!1,ee&&(ee=!1,fe(N),N=-1),U=!0;var oe=M;try{t:{for(De(q),A=i(y);A!==null&&!(A.expirationTime>q&&V());){var Ce=A.callback;if(typeof Ce=="function"){A.callback=null,M=A.priorityLevel;var Oe=Ce(A.expirationTime<=q);if(q=s.unstable_now(),typeof Oe=="function"){A.callback=Oe,De(q),te=!0;break t}A===i(y)&&a(y),De(q)}else a(y);A=i(y)}if(A!==null)te=!0;else{var D=i(_);D!==null&&ne(Ve,D.startTime-q),te=!1}}break e}finally{A=null,M=oe,U=!1}te=void 0}}finally{te?j():ke=!1}}}var j;if(typeof pe=="function")j=function(){pe(I)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,Ye=x.port2;x.port1.onmessage=I,j=function(){Ye.postMessage(null)}}else j=function(){he(I,0)};function ne(q,te){N=he(function(){q(s.unstable_now())},te)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(q){q.callback=null},s.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<q?Math.floor(1e3/q):5},s.unstable_getCurrentPriorityLevel=function(){return M},s.unstable_next=function(q){switch(M){case 1:case 2:case 3:var te=3;break;default:te=M}var oe=M;M=te;try{return q()}finally{M=oe}},s.unstable_requestPaint=function(){Z=!0},s.unstable_runWithPriority=function(q,te){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var oe=M;M=q;try{return te()}finally{M=oe}},s.unstable_scheduleCallback=function(q,te,oe){var Ce=s.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?Ce+oe:Ce):oe=Ce,q){case 1:var Oe=-1;break;case 2:Oe=250;break;case 5:Oe=1073741823;break;case 4:Oe=1e4;break;default:Oe=5e3}return Oe=oe+Oe,q={id:S++,callback:te,priorityLevel:q,startTime:oe,expirationTime:Oe,sortIndex:-1},oe>Ce?(q.sortIndex=oe,e(_,q),i(y)===null&&q===i(_)&&(ee?(fe(N),N=-1):ee=!0,ne(Ve,oe-Ce))):(q.sortIndex=Oe,e(y,q),G||U||(G=!0,ke||(ke=!0,j()))),q},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(q){var te=M;return function(){var oe=M;M=te;try{return q.apply(this,arguments)}finally{M=oe}}}})(qd)),qd}var Y0;function $b(){return Y0||(Y0=1,Bd.exports=Xb()),Bd.exports}var Hd={exports:{}},an={};var K0;function Zb(){if(K0)return an;K0=1;var s=Mm();function e(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)_+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,_,S){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:y,containerInfo:_,implementation:S}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return an.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,an.createPortal=function(y,_){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(y,_,null,S)},an.flushSync=function(y){var _=d.T,S=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=_,a.p=S,a.d.f()}},an.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(y,_))},an.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},an.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var S=_.as,A=p(S,_.crossOrigin),M=typeof _.integrity=="string"?_.integrity:void 0,U=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;S==="style"?a.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:A,integrity:M,fetchPriority:U}):S==="script"&&a.d.X(y,{crossOrigin:A,integrity:M,fetchPriority:U,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},an.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var S=p(_.as,_.crossOrigin);a.d.M(y,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(y)},an.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var S=_.as,A=p(S,_.crossOrigin);a.d.L(y,S,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},an.preloadModule=function(y,_){if(typeof y=="string")if(_){var S=p(_.as,_.crossOrigin);a.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(y)},an.requestFormReset=function(y){a.d.r(y)},an.unstable_batchedUpdates=function(y,_){return y(_)},an.useFormState=function(y,_,S){return d.H.useFormState(y,_,S)},an.useFormStatus=function(){return d.H.useHostTransitionStatus()},an.version="19.2.3",an}var X0;function Jb(){if(X0)return Hd.exports;X0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Hd.exports=Zb(),Hd.exports}var $0;function Wb(){if($0)return xl;$0=1;var s=$b(),e=Mm(),i=Jb();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(c(t)!==t)throw Error(a(188))}function _(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,o=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return y(h),t;if(f===o)return y(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==o.return)r=h,o=f;else{for(var g=!1,T=h.child;T;){if(T===r){g=!0,r=h,o=f;break}if(T===o){g=!0,o=h,r=f;break}T=T.sibling}if(!g){for(T=f.child;T;){if(T===r){g=!0,r=f,o=h;break}if(T===o){g=!0,o=f,r=h;break}T=T.sibling}if(!g)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function S(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=S(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,M=Symbol.for("react.element"),U=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),ee=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),he=Symbol.for("react.profiler"),fe=Symbol.for("react.consumer"),pe=Symbol.for("react.context"),De=Symbol.for("react.forward_ref"),Ve=Symbol.for("react.suspense"),ke=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=I&&t[I]||t["@@iterator"],typeof t=="function"?t:null)}var x=Symbol.for("react.client.reference");function Ye(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===x?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ee:return"Fragment";case he:return"Profiler";case Z:return"StrictMode";case Ve:return"Suspense";case ke:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case G:return"Portal";case pe:return t.displayName||"Context";case fe:return(t._context.displayName||"Context")+".Consumer";case De:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return n=t.displayName||null,n!==null?n:Ye(t.type)||"Memo";case w:n=t._payload,t=t._init;try{return Ye(t(n))}catch{}}return null}var ne=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},Ce=[],Oe=-1;function D(t){return{current:t}}function Y(t){0>Oe||(t.current=Ce[Oe],Ce[Oe]=null,Oe--)}function se(t,n){Oe++,Ce[Oe]=t.current,t.current=n}var re=D(null),ve=D(null),Ae=D(null),Te=D(null);function yt(t,n){switch(se(Ae,n),se(ve,t),se(re,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?h0(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=h0(n),t=f0(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(re),se(re,t)}function ut(){Y(re),Y(ve),Y(Ae)}function Gi(t){t.memoizedState!==null&&se(Te,t);var n=re.current,r=f0(n,t.type);n!==r&&(se(ve,t),se(re,r))}function bs(t){ve.current===t&&(Y(re),Y(ve)),Te.current===t&&(Y(Te),Tl._currentValue=oe)}var Ss,As;function Ln(t){if(Ss===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Ss=n&&n[1]||"",As=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ss+t+As}var Sr=!1;function Qi(t,n){if(!t||Sr)return"";Sr=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(F){var B=F}Reflect.construct(t,[],X)}else{try{X.call()}catch(F){B=F}t.call(X.prototype)}}else{try{throw Error()}catch(F){B=F}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(F){if(F&&B&&typeof F.stack=="string")return[F.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],T=f[1];if(g&&T){var C=g.split(`
`),z=T.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===z.length)for(o=C.length-1,h=z.length-1;1<=o&&0<=h&&C[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==z[h]){var Q=`
`+C[o].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=o&&0<=h);break}}}finally{Sr=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?Ln(r):""}function Ar(t,n){switch(t.tag){case 26:case 27:case 5:return Ln(t.type);case 16:return Ln("Lazy");case 13:return t.child!==n&&n!==null?Ln("Suspense Fallback"):Ln("Suspense");case 19:return Ln("SuspenseList");case 0:case 15:return Qi(t.type,!1);case 11:return Qi(t.type.render,!1);case 1:return Qi(t.type,!0);case 31:return Ln("Activity");default:return""}}function wr(t){try{var n="",r=null;do n+=Ar(t,r),r=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var _t=Object.prototype.hasOwnProperty,Tt=s.unstable_scheduleCallback,ei=s.unstable_cancelCallback,wo=s.unstable_shouldYield,nt=s.unstable_requestPaint,It=s.unstable_now,ti=s.unstable_getCurrentPriorityLevel,W=s.unstable_ImmediatePriority,me=s.unstable_UserBlockingPriority,je=s.unstable_NormalPriority,Ue=s.unstable_LowPriority,$t=s.unstable_IdlePriority,Bt=s.log,it=s.unstable_setDisableYieldValue,hn=null,bt=null;function gn(t){if(typeof Bt=="function"&&it(t),bt&&typeof bt.setStrictMode=="function")try{bt.setStrictMode(hn,t)}catch{}}var St=Math.clz32?Math.clz32:lu,ou=Math.log,fa=Math.LN2;function lu(t){return t>>>=0,t===0?32:31-(ou(t)/fa|0)|0}var gi=256,xr=262144,Dt=4194304;function pi(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function yi(t,n,r){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var T=o&134217727;return T!==0?(o=T&~f,o!==0?h=pi(o):(g&=T,g!==0?h=pi(g):r||(r=T&~t,r!==0&&(h=pi(r))))):(T=o&~f,T!==0?h=pi(T):g!==0?h=pi(g):r||(r=o&~t,r!==0&&(h=pi(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function ni(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Bh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uu(){var t=Dt;return Dt<<=1,(Dt&62914560)===0&&(Dt=4194304),t}function _i(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function Rr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function qh(t,n,r,o,h,f){var g=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var T=t.entanglements,C=t.expirationTimes,z=t.hiddenUpdates;for(r=g&~r;0<r;){var Q=31-St(r),X=1<<Q;T[Q]=0,C[Q]=-1;var B=z[Q];if(B!==null)for(z[Q]=null,Q=0;Q<B.length;Q++){var F=B[Q];F!==null&&(F.lane&=-536870913)}r&=~X}o!==0&&Cr(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function Cr(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-St(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|r&261930}function xo(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var o=31-St(r),h=1<<o;h&n|t[o]&n&&(t[o]|=n),r&=~h}}function Ro(t,n){var r=n&-n;return r=(r&42)!==0?1:Nr(r),(r&(t.suspendedLanes|n))!==0?0:r}function Nr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Yi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function cu(){var t=te.p;return t!==0?t:(t=window.event,t===void 0?32:k0(t.type))}function ii(t,n){var r=te.p;try{return te.p=t,n()}finally{te.p=r}}var si=Math.random().toString(36).slice(2),Mt="__reactFiber$"+si,Qt="__reactProps$"+si,vi="__reactContainer$"+si,da="__reactEvents$"+si,Hh="__reactListeners$"+si,hu="__reactHandles$"+si,fu="__reactResources$"+si,Ei="__reactMarker$"+si;function ma(t){delete t[Mt],delete t[Qt],delete t[da],delete t[Hh],delete t[hu]}function Ti(t){var n=t[Mt];if(n)return n;for(var r=t.parentNode;r;){if(n=r[vi]||r[Mt]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=v0(t);t!==null;){if(r=t[Mt])return r;t=v0(t)}return n}t=r,r=t.parentNode}return null}function Pn(t){if(t=t[Mt]||t[vi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Rn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function bi(t){var n=t[fu];return n||(n=t[fu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ot(t){t[Ei]=!0}var Co=new Set,No={};function Si(t,n){Ai(t,n),Ai(t+"Capture",n)}function Ai(t,n){for(No[t]=n,t=0;t<n.length;t++)Co.add(n[t])}var Io=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Do={},Mo={};function du(t){return _t.call(Mo,t)?!0:_t.call(Do,t)?!1:Io.test(t)?Mo[t]=!0:(Do[t]=!0,!1)}function ga(t,n,r){if(du(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Cn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Vt(t,n,r,o){if(o===null)t.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+o)}}function Yt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ws(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Oo(t,n,r){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){r=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(g){r=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function We(t){if(!t._valueTracker){var n=ws(t)?"checked":"value";t._valueTracker=Oo(t,n,""+t[n])}}function Ir(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return t&&(o=ws(t)?t.checked?"true":"false":t.value),t=o,t!==r?(n.setValue(t),!0):!1}function wi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Dr=/[\n"\\]/g;function pn(t){return t.replace(Dr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function pa(t,n,r,o,h,f,g,T){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Yt(n)):t.value!==""+Yt(n)&&(t.value=""+Yt(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?Vo(t,g,Yt(n)):r!=null?Vo(t,g,Yt(r)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Yt(T):t.removeAttribute("name")}function mu(t,n,r,o,h,f,g,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){We(t);return}r=r!=null?""+Yt(r):"",n=n!=null?""+Yt(n):r,T||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=T?t.checked:!!o,t.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),We(t)}function Vo(t,n,r){n==="number"&&wi(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function xs(t,n,r,o){if(t=t.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=n.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&o&&(t[r].defaultSelected=!0)}else{for(r=""+Yt(r),n=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function gu(t,n,r){if(n!=null&&(n=""+Yt(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Yt(r):""}function Rs(t,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(a(92));if(ne(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=Yt(n),t.defaultValue=r,o=t.textContent,o===r&&o!==""&&o!==null&&(t.value=o),We(t)}function yn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var pu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ko(t,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,r):typeof r!="number"||r===0||pu.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function jo(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&ko(t,h,o)}else for(var f in n)n.hasOwnProperty(f)&&ko(t,f,n[f])}function ya(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Cs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _a(t){return Cs.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ri(){}var Uo=null;function zn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ns=null,xi=null;function Mr(t){var n=Pn(t);if(n&&(t=n.stateNode)){var r=t[Qt]||null;e:switch(t=n.stateNode,n.type){case"input":if(pa(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+pn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==t&&o.form===t.form){var h=o[Qt]||null;if(!h)throw Error(a(90));pa(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===t.form&&Ir(o)}break e;case"textarea":gu(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&xs(t,!!r.multiple,n,!1)}}}var va=!1;function Is(t,n,r){if(va)return t(n,r);va=!0;try{var o=t(n);return o}finally{if(va=!1,(Ns!==null||xi!==null)&&(cc(),Ns&&(n=Ns,t=xi,xi=Ns=null,Mr(n),t)))for(n=0;n<t.length;n++)Mr(t[n])}}function ai(t,n){var r=t.stateNode;if(r===null)return null;var o=r[Qt]||null;if(o===null)return null;r=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Or=!1;if(Bn)try{var st={};Object.defineProperty(st,"passive",{get:function(){Or=!0}}),window.addEventListener("test",st,st),window.removeEventListener("test",st,st)}catch{Or=!1}var Ri=null,Lo=null,Vr=null;function Po(){if(Vr)return Vr;var t,n=Lo,r=n.length,o,h="value"in Ri?Ri.value:Ri.textContent,f=h.length;for(t=0;t<r&&n[t]===h[t];t++);var g=r-t;for(o=1;o<=g&&n[r-o]===h[f-o];o++);return Vr=h.slice(t,1<o?1-o:void 0)}function kr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Ki(){return!0}function oi(){return!1}function Zt(t){function n(r,o,h,f,g){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(r=t[T],this[T]=r?r(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ki:oi,this.isPropagationStopped=oi,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ki)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ki)},persist:function(){},isPersistent:Ki}),n}var Xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ci=Zt(Xi),Ds=A({},Xi,{view:0,detail:0}),zo=Zt(Ds),Ms,Ea,Ni,Ta=A({},Ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Os,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ni&&(Ni&&t.type==="mousemove"?(Ms=t.screenX-Ni.screenX,Ea=t.screenY-Ni.screenY):Ea=Ms=0,Ni=t),Ms)},movementY:function(t){return"movementY"in t?t.movementY:Ea}}),Bo=Zt(Ta),jr=A({},Ta,{dataTransfer:0}),_u=Zt(jr),vu=A({},Ds,{relatedTarget:0}),Ur=Zt(vu),qo=A({},Xi,{animationName:0,elapsedTime:0,pseudoElement:0}),Eu=Zt(qo),ba=A({},Xi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Tu=Zt(ba),bu=A({},Xi,{data:0}),Ii=Zt(bu),Su={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Au={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=wu[t])?!!n[t]:!1}function Os(){return xu}var fn=A({},Ds,{key:function(t){if(t.key){var n=Su[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=kr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Au[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Os,charCode:function(t){return t.type==="keypress"?kr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?kr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ru=Zt(fn),Cu=A({},Ta,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$i=Zt(Cu),u=A({},Ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Os}),m=Zt(u),v=A({},Xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=Zt(v),L=A({},Ta,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),H=Zt(L),ie=A({},Xi,{newState:0,oldState:0}),Ne=Zt(ie),At=[9,13,27,32],$e=Bn&&"CompositionEvent"in window,mt=null;Bn&&"documentMode"in document&&(mt=document.documentMode);var qn=Bn&&"TextEvent"in window&&!mt,Di=Bn&&(!$e||mt&&8<mt&&11>=mt),li=" ",ui=!1;function Lr(t,n){switch(t){case"keyup":return At.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Aa=!1;function pT(t,n){switch(t){case"compositionend":return Sa(n);case"keypress":return n.which!==32?null:(ui=!0,li);case"textInput":return t=n.data,t===li&&ui?null:t;default:return null}}function yT(t,n){if(Aa)return t==="compositionend"||!$e&&Lr(t,n)?(t=Po(),Vr=Lo=Ri=null,Aa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Di&&n.locale!=="ko"?null:n.data;default:return null}}var _T={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bg(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!_T[t.type]:n==="textarea"}function Sg(t,n,r,o){Ns?xi?xi.push(o):xi=[o]:Ns=o,n=yc(n,"onChange"),0<n.length&&(r=new Ci("onChange","change",null,r,o),t.push({event:r,listeners:n}))}var Ho=null,Fo=null;function vT(t){r0(t,0)}function Nu(t){var n=Rn(t);if(Ir(n))return t}function Ag(t,n){if(t==="change")return n}var wg=!1;if(Bn){var Fh;if(Bn){var Gh="oninput"in document;if(!Gh){var xg=document.createElement("div");xg.setAttribute("oninput","return;"),Gh=typeof xg.oninput=="function"}Fh=Gh}else Fh=!1;wg=Fh&&(!document.documentMode||9<document.documentMode)}function Rg(){Ho&&(Ho.detachEvent("onpropertychange",Cg),Fo=Ho=null)}function Cg(t){if(t.propertyName==="value"&&Nu(Fo)){var n=[];Sg(n,Fo,t,zn(t)),Is(vT,n)}}function ET(t,n,r){t==="focusin"?(Rg(),Ho=n,Fo=r,Ho.attachEvent("onpropertychange",Cg)):t==="focusout"&&Rg()}function TT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Nu(Fo)}function bT(t,n){if(t==="click")return Nu(n)}function ST(t,n){if(t==="input"||t==="change")return Nu(n)}function AT(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Nn=typeof Object.is=="function"?Object.is:AT;function Go(t,n){if(Nn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!_t.call(n,h)||!Nn(t[h],n[h]))return!1}return!0}function Ng(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ig(t,n){var r=Ng(t);t=0;for(var o;r;){if(r.nodeType===3){if(o=t+r.textContent.length,t<=n&&o>=n)return{node:r,offset:n-t};t=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ng(r)}}function Dg(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Dg(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Mg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=wi(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=wi(t.document)}return n}function Qh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var wT=Bn&&"documentMode"in document&&11>=document.documentMode,wa=null,Yh=null,Qo=null,Kh=!1;function Og(t,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Kh||wa==null||wa!==wi(o)||(o=wa,"selectionStart"in o&&Qh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Qo&&Go(Qo,o)||(Qo=o,o=yc(Yh,"onSelect"),0<o.length&&(n=new Ci("onSelect","select",null,n,r),t.push({event:n,listeners:o}),n.target=wa)))}function Pr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var xa={animationend:Pr("Animation","AnimationEnd"),animationiteration:Pr("Animation","AnimationIteration"),animationstart:Pr("Animation","AnimationStart"),transitionrun:Pr("Transition","TransitionRun"),transitionstart:Pr("Transition","TransitionStart"),transitioncancel:Pr("Transition","TransitionCancel"),transitionend:Pr("Transition","TransitionEnd")},Xh={},Vg={};Bn&&(Vg=document.createElement("div").style,"AnimationEvent"in window||(delete xa.animationend.animation,delete xa.animationiteration.animation,delete xa.animationstart.animation),"TransitionEvent"in window||delete xa.transitionend.transition);function zr(t){if(Xh[t])return Xh[t];if(!xa[t])return t;var n=xa[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Vg)return Xh[t]=n[r];return t}var kg=zr("animationend"),jg=zr("animationiteration"),Ug=zr("animationstart"),xT=zr("transitionrun"),RT=zr("transitionstart"),CT=zr("transitioncancel"),Lg=zr("transitionend"),Pg=new Map,$h="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$h.push("scrollEnd");function ci(t,n){Pg.set(t,n),Si(n,[t])}var Iu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Hn=[],Ra=0,Zh=0;function Du(){for(var t=Ra,n=Zh=Ra=0;n<t;){var r=Hn[n];Hn[n++]=null;var o=Hn[n];Hn[n++]=null;var h=Hn[n];Hn[n++]=null;var f=Hn[n];if(Hn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&zg(r,h,f)}}function Mu(t,n,r,o){Hn[Ra++]=t,Hn[Ra++]=n,Hn[Ra++]=r,Hn[Ra++]=o,Zh|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Jh(t,n,r,o){return Mu(t,n,r,o),Ou(t)}function Br(t,n){return Mu(t,null,null,n),Ou(t)}function zg(t,n,r){t.lanes|=r;var o=t.alternate;o!==null&&(o.lanes|=r);for(var h=!1,f=t.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-St(r),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=r|536870912),f):null}function Ou(t){if(50<ml)throw ml=0,ld=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ca={};function NT(t,n,r,o){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(t,n,r,o){return new NT(t,n,r,o)}function Wh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Zi(t,n){var r=t.alternate;return r===null?(r=In(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Bg(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Vu(t,n,r,o,h,f){var g=0;if(o=t,typeof t=="function")Wh(t)&&(g=1);else if(typeof t=="string")g=Vb(t,r,re.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=In(31,r,n,h),t.elementType=R,t.lanes=f,t;case ee:return qr(r.children,h,f,n);case Z:g=8,h|=24;break;case he:return t=In(12,r,n,h|2),t.elementType=he,t.lanes=f,t;case Ve:return t=In(13,r,n,h),t.elementType=Ve,t.lanes=f,t;case ke:return t=In(19,r,n,h),t.elementType=ke,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case pe:g=10;break e;case fe:g=9;break e;case De:g=11;break e;case N:g=14;break e;case w:g=16,o=null;break e}g=29,r=Error(a(130,t===null?"null":typeof t,"")),o=null}return n=In(g,r,n,h),n.elementType=t,n.type=o,n.lanes=f,n}function qr(t,n,r,o){return t=In(7,t,o,n),t.lanes=r,t}function ef(t,n,r){return t=In(6,t,null,n),t.lanes=r,t}function qg(t){var n=In(18,null,null,0);return n.stateNode=t,n}function tf(t,n,r){return n=In(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Hg=new WeakMap;function Fn(t,n){if(typeof t=="object"&&t!==null){var r=Hg.get(t);return r!==void 0?r:(n={value:t,source:n,stack:wr(n)},Hg.set(t,n),n)}return{value:t,source:n,stack:wr(n)}}var Na=[],Ia=0,ku=null,Yo=0,Gn=[],Qn=0,Vs=null,Mi=1,Oi="";function Ji(t,n){Na[Ia++]=Yo,Na[Ia++]=ku,ku=t,Yo=n}function Fg(t,n,r){Gn[Qn++]=Mi,Gn[Qn++]=Oi,Gn[Qn++]=Vs,Vs=t;var o=Mi;t=Oi;var h=32-St(o)-1;o&=~(1<<h),r+=1;var f=32-St(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,Mi=1<<32-St(n)+h|r<<h|o,Oi=f+t}else Mi=1<<f|r<<h|o,Oi=t}function nf(t){t.return!==null&&(Ji(t,1),Fg(t,1,0))}function sf(t){for(;t===ku;)ku=Na[--Ia],Na[Ia]=null,Yo=Na[--Ia],Na[Ia]=null;for(;t===Vs;)Vs=Gn[--Qn],Gn[Qn]=null,Oi=Gn[--Qn],Gn[Qn]=null,Mi=Gn[--Qn],Gn[Qn]=null}function Gg(t,n){Gn[Qn++]=Mi,Gn[Qn++]=Oi,Gn[Qn++]=Vs,Mi=n.id,Oi=n.overflow,Vs=t}var Jt=null,ct=null,Ge=!1,ks=null,Yn=!1,rf=Error(a(519));function js(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ko(Fn(n,t)),rf}function Qg(t){var n=t.stateNode,r=t.type,o=t.memoizedProps;switch(n[Mt]=t,n[Qt]=o,r){case"dialog":Pe("cancel",n),Pe("close",n);break;case"iframe":case"object":case"embed":Pe("load",n);break;case"video":case"audio":for(r=0;r<pl.length;r++)Pe(pl[r],n);break;case"source":Pe("error",n);break;case"img":case"image":case"link":Pe("error",n),Pe("load",n);break;case"details":Pe("toggle",n);break;case"input":Pe("invalid",n),mu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Pe("invalid",n);break;case"textarea":Pe("invalid",n),Rs(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||u0(n.textContent,r)?(o.popover!=null&&(Pe("beforetoggle",n),Pe("toggle",n)),o.onScroll!=null&&Pe("scroll",n),o.onScrollEnd!=null&&Pe("scrollend",n),o.onClick!=null&&(n.onclick=ri),n=!0):n=!1,n||js(t,!0)}function Yg(t){for(Jt=t.return;Jt;)switch(Jt.tag){case 5:case 31:case 13:Yn=!1;return;case 27:case 3:Yn=!0;return;default:Jt=Jt.return}}function Da(t){if(t!==Jt)return!1;if(!Ge)return Yg(t),Ge=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Sd(t.type,t.memoizedProps)),r=!r),r&&ct&&js(t),Yg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));ct=_0(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));ct=_0(t)}else n===27?(n=ct,$s(t.type)?(t=Cd,Cd=null,ct=t):ct=n):ct=Jt?Xn(t.stateNode.nextSibling):null;return!0}function Hr(){ct=Jt=null,Ge=!1}function af(){var t=ks;return t!==null&&(Tn===null?Tn=t:Tn.push.apply(Tn,t),ks=null),t}function Ko(t){ks===null?ks=[t]:ks.push(t)}var of=D(null),Fr=null,Wi=null;function Us(t,n,r){se(of,n._currentValue),n._currentValue=r}function es(t){t._currentValue=of.current,Y(of)}function lf(t,n,r){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===r)break;t=t.return}}function uf(t,n,r,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;e:for(;f!==null;){var T=f;f=h;for(var C=0;C<n.length;C++)if(T.context===n[C]){f.lanes|=r,T=f.alternate,T!==null&&(T.lanes|=r),lf(f.return,r,t),o||(g=null);break e}f=T.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=r,f=g.alternate,f!==null&&(f.lanes|=r),lf(g,r,t),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===t){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Ma(t,n,r,o){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var T=h.type;Nn(h.pendingProps.value,g.value)||(t!==null?t.push(T):t=[T])}}else if(h===Te.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Tl):t=[Tl])}h=h.return}t!==null&&uf(n,t,r,o),n.flags|=262144}function ju(t){for(t=t.firstContext;t!==null;){if(!Nn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Gr(t){Fr=t,Wi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Wt(t){return Kg(Fr,t)}function Uu(t,n){return Fr===null&&Gr(t),Kg(t,n)}function Kg(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Wi===null){if(t===null)throw Error(a(308));Wi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Wi=Wi.next=n;return r}var IT=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},DT=s.unstable_scheduleCallback,MT=s.unstable_NormalPriority,kt={$$typeof:pe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cf(){return{controller:new IT,data:new Map,refCount:0}}function Xo(t){t.refCount--,t.refCount===0&&DT(MT,function(){t.controller.abort()})}var $o=null,hf=0,Oa=0,Va=null;function OT(t,n){if($o===null){var r=$o=[];hf=0,Oa=md(),Va={status:"pending",value:void 0,then:function(o){r.push(o)}}}return hf++,n.then(Xg,Xg),n}function Xg(){if(--hf===0&&$o!==null){Va!==null&&(Va.status="fulfilled");var t=$o;$o=null,Oa=0,Va=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function VT(t,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var $g=q.S;q.S=function(t,n){Oy=It(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&OT(t,n),$g!==null&&$g(t,n)};var Qr=D(null);function ff(){var t=Qr.current;return t!==null?t:lt.pooledCache}function Lu(t,n){n===null?se(Qr,Qr.current):se(Qr,n.pool)}function Zg(){var t=ff();return t===null?null:{parent:kt._currentValue,pool:t}}var ka=Error(a(460)),df=Error(a(474)),Pu=Error(a(542)),zu={then:function(){}};function Jg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Wg(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(ri,ri),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,tp(t),t;default:if(typeof n.status=="string")n.then(ri,ri);else{if(t=lt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,tp(t),t}throw Kr=n,ka}}function Yr(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Kr=r,ka):r}}var Kr=null;function ep(){if(Kr===null)throw Error(a(459));var t=Kr;return Kr=null,t}function tp(t){if(t===ka||t===Pu)throw Error(a(483))}var ja=null,Zo=0;function Bu(t){var n=Zo;return Zo+=1,ja===null&&(ja=[]),Wg(ja,t,n)}function Jo(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function qu(t,n){throw n.$$typeof===M?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function np(t){function n(k,O){if(t){var P=k.deletions;P===null?(k.deletions=[O],k.flags|=16):P.push(O)}}function r(k,O){if(!t)return null;for(;O!==null;)n(k,O),O=O.sibling;return null}function o(k){for(var O=new Map;k!==null;)k.key!==null?O.set(k.key,k):O.set(k.index,k),k=k.sibling;return O}function h(k,O){return k=Zi(k,O),k.index=0,k.sibling=null,k}function f(k,O,P){return k.index=P,t?(P=k.alternate,P!==null?(P=P.index,P<O?(k.flags|=67108866,O):P):(k.flags|=67108866,O)):(k.flags|=1048576,O)}function g(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function T(k,O,P,K){return O===null||O.tag!==6?(O=ef(P,k.mode,K),O.return=k,O):(O=h(O,P),O.return=k,O)}function C(k,O,P,K){var de=P.type;return de===ee?Q(k,O,P.props.children,K,P.key):O!==null&&(O.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===w&&Yr(de)===O.type)?(O=h(O,P.props),Jo(O,P),O.return=k,O):(O=Vu(P.type,P.key,P.props,null,k.mode,K),Jo(O,P),O.return=k,O)}function z(k,O,P,K){return O===null||O.tag!==4||O.stateNode.containerInfo!==P.containerInfo||O.stateNode.implementation!==P.implementation?(O=tf(P,k.mode,K),O.return=k,O):(O=h(O,P.children||[]),O.return=k,O)}function Q(k,O,P,K,de){return O===null||O.tag!==7?(O=qr(P,k.mode,K,de),O.return=k,O):(O=h(O,P),O.return=k,O)}function X(k,O,P){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=ef(""+O,k.mode,P),O.return=k,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case U:return P=Vu(O.type,O.key,O.props,null,k.mode,P),Jo(P,O),P.return=k,P;case G:return O=tf(O,k.mode,P),O.return=k,O;case w:return O=Yr(O),X(k,O,P)}if(ne(O)||j(O))return O=qr(O,k.mode,P,null),O.return=k,O;if(typeof O.then=="function")return X(k,Bu(O),P);if(O.$$typeof===pe)return X(k,Uu(k,O),P);qu(k,O)}return null}function B(k,O,P,K){var de=O!==null?O.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return de!==null?null:T(k,O,""+P,K);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case U:return P.key===de?C(k,O,P,K):null;case G:return P.key===de?z(k,O,P,K):null;case w:return P=Yr(P),B(k,O,P,K)}if(ne(P)||j(P))return de!==null?null:Q(k,O,P,K,null);if(typeof P.then=="function")return B(k,O,Bu(P),K);if(P.$$typeof===pe)return B(k,O,Uu(k,P),K);qu(k,P)}return null}function F(k,O,P,K,de){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return k=k.get(P)||null,T(O,k,""+K,de);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case U:return k=k.get(K.key===null?P:K.key)||null,C(O,k,K,de);case G:return k=k.get(K.key===null?P:K.key)||null,z(O,k,K,de);case w:return K=Yr(K),F(k,O,P,K,de)}if(ne(K)||j(K))return k=k.get(P)||null,Q(O,k,K,de,null);if(typeof K.then=="function")return F(k,O,P,Bu(K),de);if(K.$$typeof===pe)return F(k,O,P,Uu(O,K),de);qu(O,K)}return null}function le(k,O,P,K){for(var de=null,Ke=null,ce=O,Me=O=0,Be=null;ce!==null&&Me<P.length;Me++){ce.index>Me?(Be=ce,ce=null):Be=ce.sibling;var Xe=B(k,ce,P[Me],K);if(Xe===null){ce===null&&(ce=Be);break}t&&ce&&Xe.alternate===null&&n(k,ce),O=f(Xe,O,Me),Ke===null?de=Xe:Ke.sibling=Xe,Ke=Xe,ce=Be}if(Me===P.length)return r(k,ce),Ge&&Ji(k,Me),de;if(ce===null){for(;Me<P.length;Me++)ce=X(k,P[Me],K),ce!==null&&(O=f(ce,O,Me),Ke===null?de=ce:Ke.sibling=ce,Ke=ce);return Ge&&Ji(k,Me),de}for(ce=o(ce);Me<P.length;Me++)Be=F(ce,k,Me,P[Me],K),Be!==null&&(t&&Be.alternate!==null&&ce.delete(Be.key===null?Me:Be.key),O=f(Be,O,Me),Ke===null?de=Be:Ke.sibling=Be,Ke=Be);return t&&ce.forEach(function(tr){return n(k,tr)}),Ge&&Ji(k,Me),de}function ye(k,O,P,K){if(P==null)throw Error(a(151));for(var de=null,Ke=null,ce=O,Me=O=0,Be=null,Xe=P.next();ce!==null&&!Xe.done;Me++,Xe=P.next()){ce.index>Me?(Be=ce,ce=null):Be=ce.sibling;var tr=B(k,ce,Xe.value,K);if(tr===null){ce===null&&(ce=Be);break}t&&ce&&tr.alternate===null&&n(k,ce),O=f(tr,O,Me),Ke===null?de=tr:Ke.sibling=tr,Ke=tr,ce=Be}if(Xe.done)return r(k,ce),Ge&&Ji(k,Me),de;if(ce===null){for(;!Xe.done;Me++,Xe=P.next())Xe=X(k,Xe.value,K),Xe!==null&&(O=f(Xe,O,Me),Ke===null?de=Xe:Ke.sibling=Xe,Ke=Xe);return Ge&&Ji(k,Me),de}for(ce=o(ce);!Xe.done;Me++,Xe=P.next())Xe=F(ce,k,Me,Xe.value,K),Xe!==null&&(t&&Xe.alternate!==null&&ce.delete(Xe.key===null?Me:Xe.key),O=f(Xe,O,Me),Ke===null?de=Xe:Ke.sibling=Xe,Ke=Xe);return t&&ce.forEach(function(Gb){return n(k,Gb)}),Ge&&Ji(k,Me),de}function ot(k,O,P,K){if(typeof P=="object"&&P!==null&&P.type===ee&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case U:e:{for(var de=P.key;O!==null;){if(O.key===de){if(de=P.type,de===ee){if(O.tag===7){r(k,O.sibling),K=h(O,P.props.children),K.return=k,k=K;break e}}else if(O.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===w&&Yr(de)===O.type){r(k,O.sibling),K=h(O,P.props),Jo(K,P),K.return=k,k=K;break e}r(k,O);break}else n(k,O);O=O.sibling}P.type===ee?(K=qr(P.props.children,k.mode,K,P.key),K.return=k,k=K):(K=Vu(P.type,P.key,P.props,null,k.mode,K),Jo(K,P),K.return=k,k=K)}return g(k);case G:e:{for(de=P.key;O!==null;){if(O.key===de)if(O.tag===4&&O.stateNode.containerInfo===P.containerInfo&&O.stateNode.implementation===P.implementation){r(k,O.sibling),K=h(O,P.children||[]),K.return=k,k=K;break e}else{r(k,O);break}else n(k,O);O=O.sibling}K=tf(P,k.mode,K),K.return=k,k=K}return g(k);case w:return P=Yr(P),ot(k,O,P,K)}if(ne(P))return le(k,O,P,K);if(j(P)){if(de=j(P),typeof de!="function")throw Error(a(150));return P=de.call(P),ye(k,O,P,K)}if(typeof P.then=="function")return ot(k,O,Bu(P),K);if(P.$$typeof===pe)return ot(k,O,Uu(k,P),K);qu(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,O!==null&&O.tag===6?(r(k,O.sibling),K=h(O,P),K.return=k,k=K):(r(k,O),K=ef(P,k.mode,K),K.return=k,k=K),g(k)):r(k,O)}return function(k,O,P,K){try{Zo=0;var de=ot(k,O,P,K);return ja=null,de}catch(ce){if(ce===ka||ce===Pu)throw ce;var Ke=In(29,ce,null,k.mode);return Ke.lanes=K,Ke.return=k,Ke}}}var Xr=np(!0),ip=np(!1),Ls=!1;function mf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ps(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function zs(t,n,r){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Ze&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Ou(t),zg(t,null,r),n}return Mu(t,o,n,r),Ou(t)}function Wo(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,r|=o,n.lanes=r,xo(t,r)}}function pf(t,n){var r=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var yf=!1;function el(){if(yf){var t=Va;if(t!==null)throw t}}function tl(t,n,r,o){yf=!1;var h=t.updateQueue;Ls=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var C=T,z=C.next;C.next=null,g===null?f=z:g.next=z,g=C;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,T=Q.lastBaseUpdate,T!==g&&(T===null?Q.firstBaseUpdate=z:T.next=z,Q.lastBaseUpdate=C))}if(f!==null){var X=h.baseState;g=0,Q=z=C=null,T=f;do{var B=T.lane&-536870913,F=B!==T.lane;if(F?(ze&B)===B:(o&B)===B){B!==0&&B===Oa&&(yf=!0),Q!==null&&(Q=Q.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var le=t,ye=T;B=n;var ot=r;switch(ye.tag){case 1:if(le=ye.payload,typeof le=="function"){X=le.call(ot,X,B);break e}X=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=ye.payload,B=typeof le=="function"?le.call(ot,X,B):le,B==null)break e;X=A({},X,B);break e;case 2:Ls=!0}}B=T.callback,B!==null&&(t.flags|=64,F&&(t.flags|=8192),F=h.callbacks,F===null?h.callbacks=[B]:F.push(B))}else F={lane:B,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Q===null?(z=Q=F,C=X):Q=Q.next=F,g|=B;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;F=T,T=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);Q===null&&(C=X),h.baseState=C,h.firstBaseUpdate=z,h.lastBaseUpdate=Q,f===null&&(h.shared.lanes=0),Gs|=g,t.lanes=g,t.memoizedState=X}}function sp(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function rp(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)sp(r[t],n)}var Ua=D(null),Hu=D(0);function ap(t,n){t=us,se(Hu,t),se(Ua,n),us=t|n.baseLanes}function _f(){se(Hu,us),se(Ua,Ua.current)}function vf(){us=Hu.current,Y(Ua),Y(Hu)}var Dn=D(null),Kn=null;function Bs(t){var n=t.alternate;se(wt,wt.current&1),se(Dn,t),Kn===null&&(n===null||Ua.current!==null||n.memoizedState!==null)&&(Kn=t)}function Ef(t){se(wt,wt.current),se(Dn,t),Kn===null&&(Kn=t)}function op(t){t.tag===22?(se(wt,wt.current),se(Dn,t),Kn===null&&(Kn=t)):qs()}function qs(){se(wt,wt.current),se(Dn,Dn.current)}function Mn(t){Y(Dn),Kn===t&&(Kn=null),Y(wt)}var wt=D(0);function Fu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||xd(r)||Rd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ts=0,Ie=null,rt=null,jt=null,Gu=!1,La=!1,$r=!1,Qu=0,nl=0,Pa=null,kT=0;function vt(){throw Error(a(321))}function Tf(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!Nn(t[r],n[r]))return!1;return!0}function bf(t,n,r,o,h,f){return ts=f,Ie=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,q.H=t===null||t.memoizedState===null?Fp:Uf,$r=!1,f=r(o,h),$r=!1,La&&(f=up(n,r,o,h)),lp(t),f}function lp(t){q.H=rl;var n=rt!==null&&rt.next!==null;if(ts=0,jt=rt=Ie=null,Gu=!1,nl=0,Pa=null,n)throw Error(a(300));t===null||Ut||(t=t.dependencies,t!==null&&ju(t)&&(Ut=!0))}function up(t,n,r,o){Ie=t;var h=0;do{if(La&&(Pa=null),nl=0,La=!1,25<=h)throw Error(a(301));if(h+=1,jt=rt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}q.H=Gp,f=n(r,o)}while(La);return f}function jT(){var t=q.H,n=t.useState()[0];return n=typeof n.then=="function"?il(n):n,t=t.useState()[0],(rt!==null?rt.memoizedState:null)!==t&&(Ie.flags|=1024),n}function Sf(){var t=Qu!==0;return Qu=0,t}function Af(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function wf(t){if(Gu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Gu=!1}ts=0,jt=rt=Ie=null,La=!1,nl=Qu=0,Pa=null}function dn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?Ie.memoizedState=jt=t:jt=jt.next=t,jt}function xt(){if(rt===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=rt.next;var n=jt===null?Ie.memoizedState:jt.next;if(n!==null)jt=n,rt=t;else{if(t===null)throw Ie.alternate===null?Error(a(467)):Error(a(310));rt=t,t={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},jt===null?Ie.memoizedState=jt=t:jt=jt.next=t}return jt}function Yu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function il(t){var n=nl;return nl+=1,Pa===null&&(Pa=[]),t=Wg(Pa,t,n),n=Ie,(jt===null?n.memoizedState:jt.next)===null&&(n=n.alternate,q.H=n===null||n.memoizedState===null?Fp:Uf),t}function Ku(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return il(t);if(t.$$typeof===pe)return Wt(t)}throw Error(a(438,String(t)))}function xf(t){var n=null,r=Ie.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=Ie.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Yu(),Ie.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),o=0;o<t;o++)r[o]=V;return n.index++,r}function ns(t,n){return typeof n=="function"?n(t):n}function Xu(t){var n=xt();return Rf(n,rt,t)}function Rf(t,n,r){var o=t.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var T=g=null,C=null,z=n,Q=!1;do{var X=z.lane&-536870913;if(X!==z.lane?(ze&X)===X:(ts&X)===X){var B=z.revertLane;if(B===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),X===Oa&&(Q=!0);else if((ts&B)===B){z=z.next,B===Oa&&(Q=!0);continue}else X={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(T=C=X,g=f):C=C.next=X,Ie.lanes|=B,Gs|=B;X=z.action,$r&&r(f,X),f=z.hasEagerState?z.eagerState:r(f,X)}else B={lane:X,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(T=C=B,g=f):C=C.next=B,Ie.lanes|=X,Gs|=X;z=z.next}while(z!==null&&z!==n);if(C===null?g=f:C.next=T,!Nn(f,t.memoizedState)&&(Ut=!0,Q&&(r=Va,r!==null)))throw r;t.memoizedState=f,t.baseState=g,t.baseQueue=C,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Cf(t){var n=xt(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var o=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var g=h=h.next;do f=t(f,g.action),g=g.next;while(g!==h);Nn(f,n.memoizedState)||(Ut=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function cp(t,n,r){var o=Ie,h=xt(),f=Ge;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var g=!Nn((rt||h).memoizedState,r);if(g&&(h.memoizedState=r,Ut=!0),h=h.queue,Df(dp.bind(null,o,h,t),[t]),h.getSnapshot!==n||g||jt!==null&&jt.memoizedState.tag&1){if(o.flags|=2048,za(9,{destroy:void 0},fp.bind(null,o,h,r,n),null),lt===null)throw Error(a(349));f||(ts&127)!==0||hp(o,n,r)}return r}function hp(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Ie.updateQueue,n===null?(n=Yu(),Ie.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function fp(t,n,r,o){n.value=r,n.getSnapshot=o,mp(n)&&gp(t)}function dp(t,n,r){return r(function(){mp(n)&&gp(t)})}function mp(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!Nn(t,r)}catch{return!0}}function gp(t){var n=Br(t,2);n!==null&&bn(n,t,2)}function Nf(t){var n=dn();if(typeof t=="function"){var r=t;if(t=r(),$r){gn(!0);try{r()}finally{gn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:t},n}function pp(t,n,r,o){return t.baseState=r,Rf(t,rt,typeof o=="function"?o:ns)}function UT(t,n,r,o,h){if(Ju(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};q.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,yp(n,f)):(f.next=r.next,n.pending=r.next=f)}}function yp(t,n){var r=n.action,o=n.payload,h=t.state;if(n.isTransition){var f=q.T,g={};q.T=g;try{var T=r(h,o),C=q.S;C!==null&&C(g,T),_p(t,n,T)}catch(z){If(t,n,z)}finally{f!==null&&g.types!==null&&(f.types=g.types),q.T=f}}else try{f=r(h,o),_p(t,n,f)}catch(z){If(t,n,z)}}function _p(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){vp(t,n,o)},function(o){return If(t,n,o)}):vp(t,n,r)}function vp(t,n,r){n.status="fulfilled",n.value=r,Ep(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,yp(t,r)))}function If(t,n,r){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,Ep(n),n=n.next;while(n!==o)}t.action=null}function Ep(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Tp(t,n){return n}function bp(t,n){if(Ge){var r=lt.formState;if(r!==null){e:{var o=Ie;if(Ge){if(ct){t:{for(var h=ct,f=Yn;h.nodeType!==8;){if(!f){h=null;break t}if(h=Xn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ct=Xn(h.nextSibling),o=h.data==="F!";break e}}js(o)}o=!1}o&&(n=r[0])}}return r=dn(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tp,lastRenderedState:n},r.queue=o,r=Bp.bind(null,Ie,o),o.dispatch=r,o=Nf(!1),f=jf.bind(null,Ie,!1,o.queue),o=dn(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,r=UT.bind(null,Ie,h,f,r),h.dispatch=r,o.memoizedState=t,[n,r,!1]}function Sp(t){var n=xt();return Ap(n,rt,t)}function Ap(t,n,r){if(n=Rf(t,n,Tp)[0],t=Xu(ns)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=il(n)}catch(g){throw g===ka?Pu:g}else o=n;n=xt();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(Ie.flags|=2048,za(9,{destroy:void 0},LT.bind(null,h,r),null)),[o,f,t]}function LT(t,n){t.action=n}function wp(t){var n=xt(),r=rt;if(r!==null)return Ap(n,r,t);xt(),n=n.memoizedState,r=xt();var o=r.queue.dispatch;return r.memoizedState=t,[n,o,!1]}function za(t,n,r,o){return t={tag:t,create:r,deps:o,inst:n,next:null},n=Ie.updateQueue,n===null&&(n=Yu(),Ie.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(o=r.next,r.next=t,t.next=o,n.lastEffect=t),t}function xp(){return xt().memoizedState}function $u(t,n,r,o){var h=dn();Ie.flags|=t,h.memoizedState=za(1|n,{destroy:void 0},r,o===void 0?null:o)}function Zu(t,n,r,o){var h=xt();o=o===void 0?null:o;var f=h.memoizedState.inst;rt!==null&&o!==null&&Tf(o,rt.memoizedState.deps)?h.memoizedState=za(n,f,r,o):(Ie.flags|=t,h.memoizedState=za(1|n,f,r,o))}function Rp(t,n){$u(8390656,8,t,n)}function Df(t,n){Zu(2048,8,t,n)}function PT(t){Ie.flags|=4;var n=Ie.updateQueue;if(n===null)n=Yu(),Ie.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function Cp(t){var n=xt().memoizedState;return PT({ref:n,nextImpl:t}),function(){if((Ze&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Np(t,n){return Zu(4,2,t,n)}function Ip(t,n){return Zu(4,4,t,n)}function Dp(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Mp(t,n,r){r=r!=null?r.concat([t]):null,Zu(4,4,Dp.bind(null,n,t),r)}function Mf(){}function Op(t,n){var r=xt();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&Tf(n,o[1])?o[0]:(r.memoizedState=[t,n],t)}function Vp(t,n){var r=xt();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&Tf(n,o[1]))return o[0];if(o=t(),$r){gn(!0);try{t()}finally{gn(!1)}}return r.memoizedState=[o,n],o}function Of(t,n,r){return r===void 0||(ts&1073741824)!==0&&(ze&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=ky(),Ie.lanes|=t,Gs|=t,r)}function kp(t,n,r,o){return Nn(r,n)?r:Ua.current!==null?(t=Of(t,r,o),Nn(t,n)||(Ut=!0),t):(ts&42)===0||(ts&1073741824)!==0&&(ze&261930)===0?(Ut=!0,t.memoizedState=r):(t=ky(),Ie.lanes|=t,Gs|=t,n)}function jp(t,n,r,o,h){var f=te.p;te.p=f!==0&&8>f?f:8;var g=q.T,T={};q.T=T,jf(t,!1,n,r);try{var C=h(),z=q.S;if(z!==null&&z(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Q=VT(C,o);sl(t,n,Q,kn(t))}else sl(t,n,o,kn(t))}catch(X){sl(t,n,{then:function(){},status:"rejected",reason:X},kn())}finally{te.p=f,g!==null&&T.types!==null&&(g.types=T.types),q.T=g}}function zT(){}function Vf(t,n,r,o){if(t.tag!==5)throw Error(a(476));var h=Up(t).queue;jp(t,h,n,oe,r===null?zT:function(){return Lp(t),r(o)})}function Up(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:oe},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Lp(t){var n=Up(t);n.next===null&&(n=t.alternate.memoizedState),sl(t,n.next.queue,{},kn())}function kf(){return Wt(Tl)}function Pp(){return xt().memoizedState}function zp(){return xt().memoizedState}function BT(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=kn();t=Ps(r);var o=zs(n,t,r);o!==null&&(bn(o,n,r),Wo(o,n,r)),n={cache:cf()},t.payload=n;return}n=n.return}}function qT(t,n,r){var o=kn();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Ju(t)?qp(n,r):(r=Jh(t,n,r,o),r!==null&&(bn(r,t,o),Hp(r,n,o)))}function Bp(t,n,r){var o=kn();sl(t,n,r,o)}function sl(t,n,r,o){var h={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ju(t))qp(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,T=f(g,r);if(h.hasEagerState=!0,h.eagerState=T,Nn(T,g))return Mu(t,n,h,0),lt===null&&Du(),!1}catch{}if(r=Jh(t,n,h,o),r!==null)return bn(r,t,o),Hp(r,n,o),!0}return!1}function jf(t,n,r,o){if(o={lane:2,revertLane:md(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Ju(t)){if(n)throw Error(a(479))}else n=Jh(t,r,o,2),n!==null&&bn(n,t,2)}function Ju(t){var n=t.alternate;return t===Ie||n!==null&&n===Ie}function qp(t,n){La=Gu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Hp(t,n,r){if((r&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,r|=o,n.lanes=r,xo(t,r)}}var rl={readContext:Wt,use:Ku,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useLayoutEffect:vt,useInsertionEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useSyncExternalStore:vt,useId:vt,useHostTransitionStatus:vt,useFormState:vt,useActionState:vt,useOptimistic:vt,useMemoCache:vt,useCacheRefresh:vt};rl.useEffectEvent=vt;var Fp={readContext:Wt,use:Ku,useCallback:function(t,n){return dn().memoizedState=[t,n===void 0?null:n],t},useContext:Wt,useEffect:Rp,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,$u(4194308,4,Dp.bind(null,n,t),r)},useLayoutEffect:function(t,n){return $u(4194308,4,t,n)},useInsertionEffect:function(t,n){$u(4,2,t,n)},useMemo:function(t,n){var r=dn();n=n===void 0?null:n;var o=t();if($r){gn(!0);try{t()}finally{gn(!1)}}return r.memoizedState=[o,n],o},useReducer:function(t,n,r){var o=dn();if(r!==void 0){var h=r(n);if($r){gn(!0);try{r(n)}finally{gn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=qT.bind(null,Ie,t),[o.memoizedState,t]},useRef:function(t){var n=dn();return t={current:t},n.memoizedState=t},useState:function(t){t=Nf(t);var n=t.queue,r=Bp.bind(null,Ie,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Mf,useDeferredValue:function(t,n){var r=dn();return Of(r,t,n)},useTransition:function(){var t=Nf(!1);return t=jp.bind(null,Ie,t.queue,!0,!1),dn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var o=Ie,h=dn();if(Ge){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),lt===null)throw Error(a(349));(ze&127)!==0||hp(o,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,Rp(dp.bind(null,o,f,t),[t]),o.flags|=2048,za(9,{destroy:void 0},fp.bind(null,o,f,r,n),null),r},useId:function(){var t=dn(),n=lt.identifierPrefix;if(Ge){var r=Oi,o=Mi;r=(o&~(1<<32-St(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Qu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=kT++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:kf,useFormState:bp,useActionState:bp,useOptimistic:function(t){var n=dn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=jf.bind(null,Ie,!0,r),r.dispatch=n,[t,n]},useMemoCache:xf,useCacheRefresh:function(){return dn().memoizedState=BT.bind(null,Ie)},useEffectEvent:function(t){var n=dn(),r={impl:t};return n.memoizedState=r,function(){if((Ze&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Uf={readContext:Wt,use:Ku,useCallback:Op,useContext:Wt,useEffect:Df,useImperativeHandle:Mp,useInsertionEffect:Np,useLayoutEffect:Ip,useMemo:Vp,useReducer:Xu,useRef:xp,useState:function(){return Xu(ns)},useDebugValue:Mf,useDeferredValue:function(t,n){var r=xt();return kp(r,rt.memoizedState,t,n)},useTransition:function(){var t=Xu(ns)[0],n=xt().memoizedState;return[typeof t=="boolean"?t:il(t),n]},useSyncExternalStore:cp,useId:Pp,useHostTransitionStatus:kf,useFormState:Sp,useActionState:Sp,useOptimistic:function(t,n){var r=xt();return pp(r,rt,t,n)},useMemoCache:xf,useCacheRefresh:zp};Uf.useEffectEvent=Cp;var Gp={readContext:Wt,use:Ku,useCallback:Op,useContext:Wt,useEffect:Df,useImperativeHandle:Mp,useInsertionEffect:Np,useLayoutEffect:Ip,useMemo:Vp,useReducer:Cf,useRef:xp,useState:function(){return Cf(ns)},useDebugValue:Mf,useDeferredValue:function(t,n){var r=xt();return rt===null?Of(r,t,n):kp(r,rt.memoizedState,t,n)},useTransition:function(){var t=Cf(ns)[0],n=xt().memoizedState;return[typeof t=="boolean"?t:il(t),n]},useSyncExternalStore:cp,useId:Pp,useHostTransitionStatus:kf,useFormState:wp,useActionState:wp,useOptimistic:function(t,n){var r=xt();return rt!==null?pp(r,rt,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:xf,useCacheRefresh:zp};Gp.useEffectEvent=Cp;function Lf(t,n,r,o){n=t.memoizedState,r=r(o,n),r=r==null?n:A({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Pf={enqueueSetState:function(t,n,r){t=t._reactInternals;var o=kn(),h=Ps(o);h.payload=n,r!=null&&(h.callback=r),n=zs(t,h,o),n!==null&&(bn(n,t,o),Wo(n,t,o))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var o=kn(),h=Ps(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=zs(t,h,o),n!==null&&(bn(n,t,o),Wo(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=kn(),o=Ps(r);o.tag=2,n!=null&&(o.callback=n),n=zs(t,o,r),n!==null&&(bn(n,t,r),Wo(n,t,r))}};function Qp(t,n,r,o,h,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Go(r,o)||!Go(h,f):!0}function Yp(t,n,r,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==t&&Pf.enqueueReplaceState(n,n.state,null)}function Zr(t,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(t=t.defaultProps){r===n&&(r=A({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}function Kp(t){Iu(t)}function Xp(t){console.error(t)}function $p(t){Iu(t)}function Wu(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Zp(t,n,r){try{var o=t.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function zf(t,n,r){return r=Ps(r),r.tag=3,r.payload={element:null},r.callback=function(){Wu(t,n)},r}function Jp(t){return t=Ps(t),t.tag=3,t}function Wp(t,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){Zp(n,r,o)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Zp(n,r,o),typeof h!="function"&&(Qs===null?Qs=new Set([this]):Qs.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function HT(t,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&Ma(n,r,h,!0),r=Dn.current,r!==null){switch(r.tag){case 31:case 13:return Kn===null?hc():r.alternate===null&&Et===0&&(Et=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===zu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),hd(t,o,h)),!1;case 22:return r.flags|=65536,o===zu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),hd(t,o,h)),!1}throw Error(a(435,r.tag))}return hd(t,o,h),hc(),!1}if(Ge)return n=Dn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==rf&&(t=Error(a(422),{cause:o}),Ko(Fn(t,r)))):(o!==rf&&(n=Error(a(423),{cause:o}),Ko(Fn(n,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Fn(o,r),h=zf(t.stateNode,o,h),pf(t,h),Et!==4&&(Et=2)),!1;var f=Error(a(520),{cause:o});if(f=Fn(f,r),dl===null?dl=[f]:dl.push(f),Et!==4&&(Et=2),n===null)return!0;o=Fn(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=zf(r.stateNode,o,t),pf(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Qs===null||!Qs.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Jp(h),Wp(h,t,r,o),pf(r,h),!1}r=r.return}while(r!==null);return!1}var Bf=Error(a(461)),Ut=!1;function en(t,n,r,o){n.child=t===null?ip(n,null,r,o):Xr(n,t.child,r,o)}function ey(t,n,r,o,h){r=r.render;var f=n.ref;if("ref"in o){var g={};for(var T in o)T!=="ref"&&(g[T]=o[T])}else g=o;return Gr(n),o=bf(t,n,r,g,f,h),T=Sf(),t!==null&&!Ut?(Af(t,n,h),is(t,n,h)):(Ge&&T&&nf(n),n.flags|=1,en(t,n,o,h),n.child)}function ty(t,n,r,o,h){if(t===null){var f=r.type;return typeof f=="function"&&!Wh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,ny(t,n,f,o,h)):(t=Vu(r.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Xf(t,h)){var g=f.memoizedProps;if(r=r.compare,r=r!==null?r:Go,r(g,o)&&t.ref===n.ref)return is(t,n,h)}return n.flags|=1,t=Zi(f,o),t.ref=n.ref,t.return=n,n.child=t}function ny(t,n,r,o,h){if(t!==null){var f=t.memoizedProps;if(Go(f,o)&&t.ref===n.ref)if(Ut=!1,n.pendingProps=o=f,Xf(t,h))(t.flags&131072)!==0&&(Ut=!0);else return n.lanes=t.lanes,is(t,n,h)}return qf(t,n,r,o,h)}function iy(t,n,r,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return sy(t,n,f,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Lu(n,f!==null?f.cachePool:null),f!==null?ap(n,f):_f(),op(n);else return o=n.lanes=536870912,sy(t,n,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(Lu(n,f.cachePool),ap(n,f),qs(),n.memoizedState=null):(t!==null&&Lu(n,null),_f(),qs());return en(t,n,h,r),n.child}function al(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function sy(t,n,r,o,h){var f=ff();return f=f===null?null:{parent:kt._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},t!==null&&Lu(n,null),_f(),op(n),t!==null&&Ma(t,n,o,!0),n.childLanes=h,null}function ec(t,n){return n=nc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function ry(t,n,r){return Xr(n,t.child,null,r),t=ec(n,n.pendingProps),t.flags|=2,Mn(n),n.memoizedState=null,t}function FT(t,n,r){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ge){if(o.mode==="hidden")return t=ec(n,o),n.lanes=536870912,al(null,t);if(Ef(n),(t=ct)?(t=y0(t,Yn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Vs!==null?{id:Mi,overflow:Oi}:null,retryLane:536870912,hydrationErrors:null},r=qg(t),r.return=n,n.child=r,Jt=n,ct=null)):t=null,t===null)throw js(n);return n.lanes=536870912,null}return ec(n,o)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(Ef(n),h)if(n.flags&256)n.flags&=-257,n=ry(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(Ut||Ma(t,n,r,!1),h=(r&t.childLanes)!==0,Ut||h){if(o=lt,o!==null&&(g=Ro(o,r),g!==0&&g!==f.retryLane))throw f.retryLane=g,Br(t,g),bn(o,t,g),Bf;hc(),n=ry(t,n,r)}else t=f.treeContext,ct=Xn(g.nextSibling),Jt=n,Ge=!0,ks=null,Yn=!1,t!==null&&Gg(n,t),n=ec(n,o),n.flags|=4096;return n}return t=Zi(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function tc(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function qf(t,n,r,o,h){return Gr(n),r=bf(t,n,r,o,void 0,h),o=Sf(),t!==null&&!Ut?(Af(t,n,h),is(t,n,h)):(Ge&&o&&nf(n),n.flags|=1,en(t,n,r,h),n.child)}function ay(t,n,r,o,h,f){return Gr(n),n.updateQueue=null,r=up(n,o,r,h),lp(t),o=Sf(),t!==null&&!Ut?(Af(t,n,f),is(t,n,f)):(Ge&&o&&nf(n),n.flags|=1,en(t,n,r,f),n.child)}function oy(t,n,r,o,h){if(Gr(n),n.stateNode===null){var f=Ca,g=r.contextType;typeof g=="object"&&g!==null&&(f=Wt(g)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Pf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},mf(n),g=r.contextType,f.context=typeof g=="object"&&g!==null?Wt(g):Ca,f.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(Lf(n,r,g,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Pf.enqueueReplaceState(f,f.state,null),tl(n,o,f,h),el(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){f=n.stateNode;var T=n.memoizedProps,C=Zr(r,T);f.props=C;var z=f.context,Q=r.contextType;g=Ca,typeof Q=="object"&&Q!==null&&(g=Wt(Q));var X=r.getDerivedStateFromProps;Q=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||z!==g)&&Yp(n,f,o,g),Ls=!1;var B=n.memoizedState;f.state=B,tl(n,o,f,h),el(),z=n.memoizedState,T||B!==z||Ls?(typeof X=="function"&&(Lf(n,r,X,o),z=n.memoizedState),(C=Ls||Qp(n,r,C,o,B,z,g))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=g,o=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,gf(t,n),g=n.memoizedProps,Q=Zr(r,g),f.props=Q,X=n.pendingProps,B=f.context,z=r.contextType,C=Ca,typeof z=="object"&&z!==null&&(C=Wt(z)),T=r.getDerivedStateFromProps,(z=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==X||B!==C)&&Yp(n,f,o,C),Ls=!1,B=n.memoizedState,f.state=B,tl(n,o,f,h),el();var F=n.memoizedState;g!==X||B!==F||Ls||t!==null&&t.dependencies!==null&&ju(t.dependencies)?(typeof T=="function"&&(Lf(n,r,T,o),F=n.memoizedState),(Q=Ls||Qp(n,r,Q,o,B,F,C)||t!==null&&t.dependencies!==null&&ju(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,F,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,F,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=F),f.props=o,f.state=F,f.context=C,o=Q):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),o=!1)}return f=o,tc(t,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&o?(n.child=Xr(n,t.child,null,h),n.child=Xr(n,null,r,h)):en(t,n,r,h),n.memoizedState=f.state,t=n.child):t=is(t,n,h),t}function ly(t,n,r,o){return Hr(),n.flags|=256,en(t,n,r,o),n.child}var Hf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ff(t){return{baseLanes:t,cachePool:Zg()}}function Gf(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Vn),t}function uy(t,n,r){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(wt.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ge){if(h?Bs(n):qs(),(t=ct)?(t=y0(t,Yn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Vs!==null?{id:Mi,overflow:Oi}:null,retryLane:536870912,hydrationErrors:null},r=qg(t),r.return=n,n.child=r,Jt=n,ct=null)):t=null,t===null)throw js(n);return Rd(t)?n.lanes=32:n.lanes=536870912,null}var T=o.children;return o=o.fallback,h?(qs(),h=n.mode,T=nc({mode:"hidden",children:T},h),o=qr(o,h,r,null),T.return=n,o.return=n,T.sibling=o,n.child=T,o=n.child,o.memoizedState=Ff(r),o.childLanes=Gf(t,g,r),n.memoizedState=Hf,al(null,o)):(Bs(n),Qf(n,T))}var C=t.memoizedState;if(C!==null&&(T=C.dehydrated,T!==null)){if(f)n.flags&256?(Bs(n),n.flags&=-257,n=Yf(t,n,r)):n.memoizedState!==null?(qs(),n.child=t.child,n.flags|=128,n=null):(qs(),T=o.fallback,h=n.mode,o=nc({mode:"visible",children:o.children},h),T=qr(T,h,r,null),T.flags|=2,o.return=n,T.return=n,o.sibling=T,n.child=o,Xr(n,t.child,null,r),o=n.child,o.memoizedState=Ff(r),o.childLanes=Gf(t,g,r),n.memoizedState=Hf,n=al(null,o));else if(Bs(n),Rd(T)){if(g=T.nextSibling&&T.nextSibling.dataset,g)var z=g.dgst;g=z,o=Error(a(419)),o.stack="",o.digest=g,Ko({value:o,source:null,stack:null}),n=Yf(t,n,r)}else if(Ut||Ma(t,n,r,!1),g=(r&t.childLanes)!==0,Ut||g){if(g=lt,g!==null&&(o=Ro(g,r),o!==0&&o!==C.retryLane))throw C.retryLane=o,Br(t,o),bn(g,t,o),Bf;xd(T)||hc(),n=Yf(t,n,r)}else xd(T)?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,ct=Xn(T.nextSibling),Jt=n,Ge=!0,ks=null,Yn=!1,t!==null&&Gg(n,t),n=Qf(n,o.children),n.flags|=4096);return n}return h?(qs(),T=o.fallback,h=n.mode,C=t.child,z=C.sibling,o=Zi(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,z!==null?T=Zi(z,T):(T=qr(T,h,r,null),T.flags|=2),T.return=n,o.return=n,o.sibling=T,n.child=o,al(null,o),o=n.child,T=t.child.memoizedState,T===null?T=Ff(r):(h=T.cachePool,h!==null?(C=kt._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=Zg(),T={baseLanes:T.baseLanes|r,cachePool:h}),o.memoizedState=T,o.childLanes=Gf(t,g,r),n.memoizedState=Hf,al(t.child,o)):(Bs(n),r=t.child,t=r.sibling,r=Zi(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=r,n.memoizedState=null,r)}function Qf(t,n){return n=nc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function nc(t,n){return t=In(22,t,null,n),t.lanes=0,t}function Yf(t,n,r){return Xr(n,t.child,null,r),t=Qf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function cy(t,n,r){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),lf(t.return,n,r)}function Kf(t,n,r,o,h,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=r,g.tailMode=h,g.treeForkCount=f)}function hy(t,n,r){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=wt.current,T=(g&2)!==0;if(T?(g=g&1|2,n.flags|=128):g&=1,se(wt,g),en(t,n,o,r),o=Ge?Yo:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&cy(t,r,n);else if(t.tag===19)cy(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)t=r.alternate,t!==null&&Fu(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Kf(n,!1,h,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Fu(t)===null){n.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}Kf(n,!0,r,null,f,o);break;case"together":Kf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function is(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Gs|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(Ma(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=Zi(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=Zi(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Xf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&ju(t)))}function GT(t,n,r){switch(n.tag){case 3:yt(n,n.stateNode.containerInfo),Us(n,kt,t.memoizedState.cache),Hr();break;case 27:case 5:Gi(n);break;case 4:yt(n,n.stateNode.containerInfo);break;case 10:Us(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Ef(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Bs(n),n.flags|=128,null):(r&n.child.childLanes)!==0?uy(t,n,r):(Bs(n),t=is(t,n,r),t!==null?t.sibling:null);Bs(n);break;case 19:var h=(t.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(Ma(t,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return hy(t,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),se(wt,wt.current),o)break;return null;case 22:return n.lanes=0,iy(t,n,r,n.pendingProps);case 24:Us(n,kt,t.memoizedState.cache)}return is(t,n,r)}function fy(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ut=!0;else{if(!Xf(t,r)&&(n.flags&128)===0)return Ut=!1,GT(t,n,r);Ut=(t.flags&131072)!==0}else Ut=!1,Ge&&(n.flags&1048576)!==0&&Fg(n,Yo,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=Yr(n.elementType),n.type=t,typeof t=="function")Wh(t)?(o=Zr(t,o),n.tag=1,n=oy(null,n,t,o,r)):(n.tag=0,n=qf(null,n,t,o,r));else{if(t!=null){var h=t.$$typeof;if(h===De){n.tag=11,n=ey(null,n,t,o,r);break e}else if(h===N){n.tag=14,n=ty(null,n,t,o,r);break e}}throw n=Ye(t)||t,Error(a(306,n,""))}}return n;case 0:return qf(t,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=Zr(o,n.pendingProps),oy(t,n,o,h,r);case 3:e:{if(yt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,gf(t,n),tl(n,o,null,r);var g=n.memoizedState;if(o=g.cache,Us(n,kt,o),o!==f.cache&&uf(n,[kt],r,!0),el(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=ly(t,n,o,r);break e}else if(o!==h){h=Fn(Error(a(424)),n),Ko(h),n=ly(t,n,o,r);break e}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,ct=Xn(t.firstChild),Jt=n,Ge=!0,ks=null,Yn=!0,r=ip(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Hr(),o===h){n=is(t,n,r);break e}en(t,n,o,r)}n=n.child}return n;case 26:return tc(t,n),t===null?(r=S0(n.type,null,n.pendingProps,null))?n.memoizedState=r:Ge||(r=n.type,t=n.pendingProps,o=_c(Ae.current).createElement(r),o[Mt]=n,o[Qt]=t,tn(o,r,t),Ot(o),n.stateNode=o):n.memoizedState=S0(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Gi(n),t===null&&Ge&&(o=n.stateNode=E0(n.type,n.pendingProps,Ae.current),Jt=n,Yn=!0,h=ct,$s(n.type)?(Cd=h,ct=Xn(o.firstChild)):ct=h),en(t,n,n.pendingProps.children,r),tc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ge&&((h=o=ct)&&(o=Tb(o,n.type,n.pendingProps,Yn),o!==null?(n.stateNode=o,Jt=n,ct=Xn(o.firstChild),Yn=!1,h=!0):h=!1),h||js(n)),Gi(n),h=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,o=f.children,Sd(h,f)?o=null:g!==null&&Sd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=bf(t,n,jT,null,null,r),Tl._currentValue=h),tc(t,n),en(t,n,o,r),n.child;case 6:return t===null&&Ge&&((t=r=ct)&&(r=bb(r,n.pendingProps,Yn),r!==null?(n.stateNode=r,Jt=n,ct=null,t=!0):t=!1),t||js(n)),null;case 13:return uy(t,n,r);case 4:return yt(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Xr(n,null,o,r):en(t,n,o,r),n.child;case 11:return ey(t,n,n.type,n.pendingProps,r);case 7:return en(t,n,n.pendingProps,r),n.child;case 8:return en(t,n,n.pendingProps.children,r),n.child;case 12:return en(t,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,Us(n,n.type,o.value),en(t,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Gr(n),h=Wt(h),o=o(h),n.flags|=1,en(t,n,o,r),n.child;case 14:return ty(t,n,n.type,n.pendingProps,r);case 15:return ny(t,n,n.type,n.pendingProps,r);case 19:return hy(t,n,r);case 31:return FT(t,n,r);case 22:return iy(t,n,r,n.pendingProps);case 24:return Gr(n),o=Wt(kt),t===null?(h=ff(),h===null&&(h=lt,f=cf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:o,cache:h},mf(n),Us(n,kt,h)):((t.lanes&r)!==0&&(gf(t,n),tl(n,null,null,r),el()),h=t.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Us(n,kt,o)):(o=f.cache,Us(n,kt,o),o!==h.cache&&uf(n,[kt],r,!0))),en(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function ss(t){t.flags|=4}function $f(t,n,r,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Py())t.flags|=8192;else throw Kr=zu,df}else t.flags&=-16777217}function dy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!C0(n))if(Py())t.flags|=8192;else throw Kr=zu,df}function ic(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?uu():536870912,t.lanes|=n,Fa|=n)}function ol(t,n){if(!Ge)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function ht(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,o=0;if(n)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=r,n}function QT(t,n,r){var o=n.pendingProps;switch(sf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(n),null;case 1:return ht(n),null;case 3:return r=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),es(kt),ut(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Da(n)?ss(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,af())),ht(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(ss(n),f!==null?(ht(n),dy(n,f)):(ht(n),$f(n,h,null,o,r))):f?f!==t.memoizedState?(ss(n),ht(n),dy(n,f)):(ht(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&ss(n),ht(n),$f(n,h,t,o,r)),null;case 27:if(bs(n),r=Ae.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&ss(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ht(n),null}t=re.current,Da(n)?Qg(n):(t=E0(h,o,r),n.stateNode=t,ss(n))}return ht(n),null;case 5:if(bs(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&ss(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ht(n),null}if(f=re.current,Da(n))Qg(n);else{var g=_c(Ae.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[Mt]=n,f[Qt]=o;e:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break e;for(;g.sibling===null;){if(g.return===null||g.return===n)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;e:switch(tn(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&ss(n)}}return ht(n),$f(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&ss(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(t=Ae.current,Da(n)){if(t=n.stateNode,r=n.memoizedProps,o=null,h=Jt,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[Mt]=n,t=!!(t.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||u0(t.nodeValue,r)),t||js(n,!0)}else t=_c(t).createTextNode(o),t[Mt]=n,n.stateNode=t}return ht(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(o=Da(n),r!==null){if(t===null){if(!o)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[Mt]=n}else Hr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ht(n),t=!1}else r=af(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(Mn(n),n):(Mn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ht(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Da(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Mt]=n}else Hr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ht(n),h=!1}else h=af(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Mn(n),n):(Mn(n),null)}return Mn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,t=t!==null&&t.memoizedState!==null,r&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),ic(n,n.updateQueue),ht(n),null);case 4:return ut(),t===null&&_d(n.stateNode.containerInfo),ht(n),null;case 10:return es(n.type),ht(n),null;case 19:if(Y(wt),o=n.memoizedState,o===null)return ht(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)ol(o,!1);else{if(Et!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Fu(t),f!==null){for(n.flags|=128,ol(o,!1),t=f.updateQueue,n.updateQueue=t,ic(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Bg(r,t),r=r.sibling;return se(wt,wt.current&1|2),Ge&&Ji(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&It()>lc&&(n.flags|=128,h=!0,ol(o,!1),n.lanes=4194304)}else{if(!h)if(t=Fu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,ic(n,t),ol(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ge)return ht(n),null}else 2*It()-o.renderingStartTime>lc&&r!==536870912&&(n.flags|=128,h=!0,ol(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(t=o.last,t!==null?t.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=It(),t.sibling=null,r=wt.current,se(wt,h?r&1|2:r&1),Ge&&Ji(n,o.treeForkCount),t):(ht(n),null);case 22:case 23:return Mn(n),vf(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(ht(n),n.subtreeFlags&6&&(n.flags|=8192)):ht(n),r=n.updateQueue,r!==null&&ic(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),t!==null&&Y(Qr),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),es(kt),ht(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function YT(t,n){switch(sf(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return es(kt),ut(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return bs(n),null;case 31:if(n.memoizedState!==null){if(Mn(n),n.alternate===null)throw Error(a(340));Hr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Mn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Hr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Y(wt),null;case 4:return ut(),null;case 10:return es(n.type),null;case 22:case 23:return Mn(n),vf(),t!==null&&Y(Qr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return es(kt),null;case 25:return null;default:return null}}function my(t,n){switch(sf(n),n.tag){case 3:es(kt),ut();break;case 26:case 27:case 5:bs(n);break;case 4:ut();break;case 31:n.memoizedState!==null&&Mn(n);break;case 13:Mn(n);break;case 19:Y(wt);break;case 10:es(n.type);break;case 22:case 23:Mn(n),vf(),t!==null&&Y(Qr);break;case 24:es(kt)}}function ll(t,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&t)===t){o=void 0;var f=r.create,g=r.inst;o=f(),g.destroy=o}r=r.next}while(r!==h)}}catch(T){tt(n,n.return,T)}}function Hs(t,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var g=o.inst,T=g.destroy;if(T!==void 0){g.destroy=void 0,h=n;var C=r,z=T;try{z()}catch(Q){tt(h,C,Q)}}}o=o.next}while(o!==f)}}catch(Q){tt(n,n.return,Q)}}function gy(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{rp(n,r)}catch(o){tt(t,t.return,o)}}}function py(t,n,r){r.props=Zr(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(o){tt(t,n,o)}}function ul(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof r=="function"?t.refCleanup=r(o):r.current=o}}catch(h){tt(t,n,h)}}function Vi(t,n){var r=t.ref,o=t.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){tt(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){tt(t,n,h)}else r.current=null}function yy(t){var n=t.type,r=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break e;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){tt(t,t.return,h)}}function Zf(t,n,r){try{var o=t.stateNode;gb(o,t.type,r,n),o[Qt]=n}catch(h){tt(t,t.return,h)}}function _y(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&$s(t.type)||t.tag===4}function Jf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||_y(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&$s(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Wf(t,n,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=ri));else if(o!==4&&(o===27&&$s(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Wf(t,n,r),t=t.sibling;t!==null;)Wf(t,n,r),t=t.sibling}function sc(t,n,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(o!==4&&(o===27&&$s(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(sc(t,n,r),t=t.sibling;t!==null;)sc(t,n,r),t=t.sibling}function vy(t){var n=t.stateNode,r=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);tn(n,o,r),n[Mt]=t,n[Qt]=r}catch(f){tt(t,t.return,f)}}var rs=!1,Lt=!1,ed=!1,Ey=typeof WeakSet=="function"?WeakSet:Set,Kt=null;function KT(t,n){if(t=t.containerInfo,Td=wc,t=Mg(t),Qh(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var g=0,T=-1,C=-1,z=0,Q=0,X=t,B=null;t:for(;;){for(var F;X!==r||h!==0&&X.nodeType!==3||(T=g+h),X!==f||o!==0&&X.nodeType!==3||(C=g+o),X.nodeType===3&&(g+=X.nodeValue.length),(F=X.firstChild)!==null;)B=X,X=F;for(;;){if(X===t)break t;if(B===r&&++z===h&&(T=g),B===f&&++Q===o&&(C=g),(F=X.nextSibling)!==null)break;X=B,B=X.parentNode}X=F}r=T===-1||C===-1?null:{start:T,end:C}}else r=null}r=r||{start:0,end:0}}else r=null;for(bd={focusedElem:t,selectionRange:r},wc=!1,Kt=n;Kt!==null;)if(n=Kt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Kt=t;else for(;Kt!==null;){switch(n=Kt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)h=t[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var le=Zr(r.type,h);t=o.getSnapshotBeforeUpdate(le,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(ye){tt(r,r.return,ye)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)wd(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":wd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Kt=t;break}Kt=n.return}}function Ty(t,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:os(t,r),o&4&&ll(5,r);break;case 1:if(os(t,r),o&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(g){tt(r,r.return,g)}else{var h=Zr(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){tt(r,r.return,g)}}o&64&&gy(r),o&512&&ul(r,r.return);break;case 3:if(os(t,r),o&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{rp(t,n)}catch(g){tt(r,r.return,g)}}break;case 27:n===null&&o&4&&vy(r);case 26:case 5:os(t,r),n===null&&o&4&&yy(r),o&512&&ul(r,r.return);break;case 12:os(t,r);break;case 31:os(t,r),o&4&&Ay(t,r);break;case 13:os(t,r),o&4&&wy(t,r),o&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=ib.bind(null,r),Sb(t,r))));break;case 22:if(o=r.memoizedState!==null||rs,!o){n=n!==null&&n.memoizedState!==null||Lt,h=rs;var f=Lt;rs=o,(Lt=n)&&!f?ls(t,r,(r.subtreeFlags&8772)!==0):os(t,r),rs=h,Lt=f}break;case 30:break;default:os(t,r)}}function by(t){var n=t.alternate;n!==null&&(t.alternate=null,by(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ma(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var gt=null,_n=!1;function as(t,n,r){for(r=r.child;r!==null;)Sy(t,n,r),r=r.sibling}function Sy(t,n,r){if(bt&&typeof bt.onCommitFiberUnmount=="function")try{bt.onCommitFiberUnmount(hn,r)}catch{}switch(r.tag){case 26:Lt||Vi(r,n),as(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Lt||Vi(r,n);var o=gt,h=_n;$s(r.type)&&(gt=r.stateNode,_n=!1),as(t,n,r),_l(r.stateNode),gt=o,_n=h;break;case 5:Lt||Vi(r,n);case 6:if(o=gt,h=_n,gt=null,as(t,n,r),gt=o,_n=h,gt!==null)if(_n)try{(gt.nodeType===9?gt.body:gt.nodeName==="HTML"?gt.ownerDocument.body:gt).removeChild(r.stateNode)}catch(f){tt(r,n,f)}else try{gt.removeChild(r.stateNode)}catch(f){tt(r,n,f)}break;case 18:gt!==null&&(_n?(t=gt,g0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Ja(t)):g0(gt,r.stateNode));break;case 4:o=gt,h=_n,gt=r.stateNode.containerInfo,_n=!0,as(t,n,r),gt=o,_n=h;break;case 0:case 11:case 14:case 15:Hs(2,r,n),Lt||Hs(4,r,n),as(t,n,r);break;case 1:Lt||(Vi(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&py(r,n,o)),as(t,n,r);break;case 21:as(t,n,r);break;case 22:Lt=(o=Lt)||r.memoizedState!==null,as(t,n,r),Lt=o;break;default:as(t,n,r)}}function Ay(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ja(t)}catch(r){tt(n,n.return,r)}}}function wy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ja(t)}catch(r){tt(n,n.return,r)}}function XT(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Ey),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Ey),n;default:throw Error(a(435,t.tag))}}function rc(t,n){var r=XT(t);n.forEach(function(o){if(!r.has(o)){r.add(o);var h=sb.bind(null,t,o);o.then(h,h)}})}function vn(t,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],f=t,g=n,T=g;e:for(;T!==null;){switch(T.tag){case 27:if($s(T.type)){gt=T.stateNode,_n=!1;break e}break;case 5:gt=T.stateNode,_n=!1;break e;case 3:case 4:gt=T.stateNode.containerInfo,_n=!0;break e}T=T.return}if(gt===null)throw Error(a(160));Sy(f,g,h),gt=null,_n=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)xy(n,t),n=n.sibling}var hi=null;function xy(t,n){var r=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:vn(n,t),En(t),o&4&&(Hs(3,t,t.return),ll(3,t),Hs(5,t,t.return));break;case 1:vn(n,t),En(t),o&512&&(Lt||r===null||Vi(r,r.return)),o&64&&rs&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=hi;if(vn(n,t),En(t),o&512&&(Lt||r===null||Vi(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=t.memoizedState,r===null)if(o===null)if(t.stateNode===null){e:{o=t.type,r=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ei]||f[Mt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),tn(f,o,r),f[Mt]=t,Ot(f),o=f;break e;case"link":var g=x0("link","href",h).get(o+(r.href||""));if(g){for(var T=0;T<g.length;T++)if(f=g[T],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(T,1);break t}}f=h.createElement(o),tn(f,o,r),h.head.appendChild(f);break;case"meta":if(g=x0("meta","content",h).get(o+(r.content||""))){for(T=0;T<g.length;T++)if(f=g[T],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(T,1);break t}}f=h.createElement(o),tn(f,o,r),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Mt]=t,Ot(f),o=f}t.stateNode=o}else R0(h,t.type,t.stateNode);else t.stateNode=w0(h,o,t.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?R0(h,t.type,t.stateNode):w0(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Zf(t,t.memoizedProps,r.memoizedProps)}break;case 27:vn(n,t),En(t),o&512&&(Lt||r===null||Vi(r,r.return)),r!==null&&o&4&&Zf(t,t.memoizedProps,r.memoizedProps);break;case 5:if(vn(n,t),En(t),o&512&&(Lt||r===null||Vi(r,r.return)),t.flags&32){h=t.stateNode;try{yn(h,"")}catch(le){tt(t,t.return,le)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,Zf(t,h,r!==null?r.memoizedProps:h)),o&1024&&(ed=!0);break;case 6:if(vn(n,t),En(t),o&4){if(t.stateNode===null)throw Error(a(162));o=t.memoizedProps,r=t.stateNode;try{r.nodeValue=o}catch(le){tt(t,t.return,le)}}break;case 3:if(Tc=null,h=hi,hi=vc(n.containerInfo),vn(n,t),hi=h,En(t),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Ja(n.containerInfo)}catch(le){tt(t,t.return,le)}ed&&(ed=!1,Ry(t));break;case 4:o=hi,hi=vc(t.stateNode.containerInfo),vn(n,t),En(t),hi=o;break;case 12:vn(n,t),En(t);break;case 31:vn(n,t),En(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,rc(t,o)));break;case 13:vn(n,t),En(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(oc=It()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,rc(t,o)));break;case 22:h=t.memoizedState!==null;var C=r!==null&&r.memoizedState!==null,z=rs,Q=Lt;if(rs=z||h,Lt=Q||C,vn(n,t),Lt=Q,rs=z,En(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||C||rs||Lt||Jr(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){C=r=n;try{if(f=C.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{T=C.stateNode;var X=C.memoizedProps.style,B=X!=null&&X.hasOwnProperty("display")?X.display:null;T.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(le){tt(C,C.return,le)}}}else if(n.tag===6){if(r===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(le){tt(C,C.return,le)}}}else if(n.tag===18){if(r===null){C=n;try{var F=C.stateNode;h?p0(F,!0):p0(C.stateNode,!1)}catch(le){tt(C,C.return,le)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,rc(t,r))));break;case 19:vn(n,t),En(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,rc(t,o)));break;case 30:break;case 21:break;default:vn(n,t),En(t)}}function En(t){var n=t.flags;if(n&2){try{for(var r,o=t.return;o!==null;){if(_y(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=Jf(t);sc(t,f,h);break;case 5:var g=r.stateNode;r.flags&32&&(yn(g,""),r.flags&=-33);var T=Jf(t);sc(t,T,g);break;case 3:case 4:var C=r.stateNode.containerInfo,z=Jf(t);Wf(t,z,C);break;default:throw Error(a(161))}}catch(Q){tt(t,t.return,Q)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Ry(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Ry(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function os(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ty(t,n.alternate,n),n=n.sibling}function Jr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Hs(4,n,n.return),Jr(n);break;case 1:Vi(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&py(n,n.return,r),Jr(n);break;case 27:_l(n.stateNode);case 26:case 5:Vi(n,n.return),Jr(n);break;case 22:n.memoizedState===null&&Jr(n);break;case 30:Jr(n);break;default:Jr(n)}t=t.sibling}}function ls(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:ls(h,f,r),ll(4,f);break;case 1:if(ls(h,f,r),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){tt(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var T=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)sp(C[h],T)}catch(z){tt(o,o.return,z)}}r&&g&64&&gy(f),ul(f,f.return);break;case 27:vy(f);case 26:case 5:ls(h,f,r),r&&o===null&&g&4&&yy(f),ul(f,f.return);break;case 12:ls(h,f,r);break;case 31:ls(h,f,r),r&&g&4&&Ay(h,f);break;case 13:ls(h,f,r),r&&g&4&&wy(h,f);break;case 22:f.memoizedState===null&&ls(h,f,r),ul(f,f.return);break;case 30:break;default:ls(h,f,r)}n=n.sibling}}function td(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Xo(r))}function nd(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Xo(t))}function fi(t,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Cy(t,n,r,o),n=n.sibling}function Cy(t,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:fi(t,n,r,o),h&2048&&ll(9,n);break;case 1:fi(t,n,r,o);break;case 3:fi(t,n,r,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Xo(t)));break;case 12:if(h&2048){fi(t,n,r,o),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,T=f.onPostCommit;typeof T=="function"&&T(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){tt(n,n.return,C)}}else fi(t,n,r,o);break;case 31:fi(t,n,r,o);break;case 13:fi(t,n,r,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?fi(t,n,r,o):cl(t,n):f._visibility&2?fi(t,n,r,o):(f._visibility|=2,Ba(t,n,r,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&td(g,n);break;case 24:fi(t,n,r,o),h&2048&&nd(n.alternate,n);break;default:fi(t,n,r,o)}}function Ba(t,n,r,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,T=r,C=o,z=g.flags;switch(g.tag){case 0:case 11:case 15:Ba(f,g,T,C,h),ll(8,g);break;case 23:break;case 22:var Q=g.stateNode;g.memoizedState!==null?Q._visibility&2?Ba(f,g,T,C,h):cl(f,g):(Q._visibility|=2,Ba(f,g,T,C,h)),h&&z&2048&&td(g.alternate,g);break;case 24:Ba(f,g,T,C,h),h&&z&2048&&nd(g.alternate,g);break;default:Ba(f,g,T,C,h)}n=n.sibling}}function cl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,o=n,h=o.flags;switch(o.tag){case 22:cl(r,o),h&2048&&td(o.alternate,o);break;case 24:cl(r,o),h&2048&&nd(o.alternate,o);break;default:cl(r,o)}n=n.sibling}}var hl=8192;function qa(t,n,r){if(t.subtreeFlags&hl)for(t=t.child;t!==null;)Ny(t,n,r),t=t.sibling}function Ny(t,n,r){switch(t.tag){case 26:qa(t,n,r),t.flags&hl&&t.memoizedState!==null&&kb(r,hi,t.memoizedState,t.memoizedProps);break;case 5:qa(t,n,r);break;case 3:case 4:var o=hi;hi=vc(t.stateNode.containerInfo),qa(t,n,r),hi=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=hl,hl=16777216,qa(t,n,r),hl=o):qa(t,n,r));break;default:qa(t,n,r)}}function Iy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function fl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Kt=o,My(o,t)}Iy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Dy(t),t=t.sibling}function Dy(t){switch(t.tag){case 0:case 11:case 15:fl(t),t.flags&2048&&Hs(9,t,t.return);break;case 3:fl(t);break;case 12:fl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,ac(t)):fl(t);break;default:fl(t)}}function ac(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Kt=o,My(o,t)}Iy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Hs(8,n,n.return),ac(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,ac(n));break;default:ac(n)}t=t.sibling}}function My(t,n){for(;Kt!==null;){var r=Kt;switch(r.tag){case 0:case 11:case 15:Hs(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Xo(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Kt=o;else e:for(r=t;Kt!==null;){o=Kt;var h=o.sibling,f=o.return;if(by(o),o===r){Kt=null;break e}if(h!==null){h.return=f,Kt=h;break e}Kt=f}}}var $T={getCacheForType:function(t){var n=Wt(kt),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return Wt(kt).controller.signal}},ZT=typeof WeakMap=="function"?WeakMap:Map,Ze=0,lt=null,Le=null,ze=0,et=0,On=null,Fs=!1,Ha=!1,id=!1,us=0,Et=0,Gs=0,Wr=0,sd=0,Vn=0,Fa=0,dl=null,Tn=null,rd=!1,oc=0,Oy=0,lc=1/0,uc=null,Qs=null,qt=0,Ys=null,Ga=null,cs=0,ad=0,od=null,Vy=null,ml=0,ld=null;function kn(){return(Ze&2)!==0&&ze!==0?ze&-ze:q.T!==null?md():cu()}function ky(){if(Vn===0)if((ze&536870912)===0||Ge){var t=xr;xr<<=1,(xr&3932160)===0&&(xr=262144),Vn=t}else Vn=536870912;return t=Dn.current,t!==null&&(t.flags|=32),Vn}function bn(t,n,r){(t===lt&&(et===2||et===9)||t.cancelPendingCommit!==null)&&(Qa(t,0),Ks(t,ze,Vn,!1)),Rr(t,r),((Ze&2)===0||t!==lt)&&(t===lt&&((Ze&2)===0&&(Wr|=r),Et===4&&Ks(t,ze,Vn,!1)),ki(t))}function jy(t,n,r){if((Ze&6)!==0)throw Error(a(327));var o=!r&&(n&127)===0&&(n&t.expiredLanes)===0||ni(t,n),h=o?eb(t,n):cd(t,n,!0),f=o;do{if(h===0){Ha&&!o&&Ks(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!JT(r)){h=cd(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var T=t;h=dl;var C=T.current.memoizedState.isDehydrated;if(C&&(Qa(T,g).flags|=256),g=cd(T,g,!1),g!==2){if(id&&!C){T.errorRecoveryDisabledLanes|=f,Wr|=f,h=4;break e}f=Tn,Tn=h,f!==null&&(Tn===null?Tn=f:Tn.push.apply(Tn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Qa(t,0),Ks(t,n,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Ks(o,n,Vn,!Fs);break e;case 2:Tn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=oc+300-It(),10<h)){if(Ks(o,n,Vn,!Fs),yi(o,0,!0)!==0)break e;cs=n,o.timeoutHandle=d0(Uy.bind(null,o,r,Tn,uc,rd,n,Vn,Wr,Fa,Fs,f,"Throttled",-0,0),h);break e}Uy(o,r,Tn,uc,rd,n,Vn,Wr,Fa,Fs,f,null,-0,0)}}break}while(!0);ki(t)}function Uy(t,n,r,o,h,f,g,T,C,z,Q,X,B,F){if(t.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ri},Ny(n,f,X);var le=(f&62914560)===f?oc-It():(f&4194048)===f?Oy-It():0;if(le=jb(X,le),le!==null){cs=f,t.cancelPendingCommit=le(Gy.bind(null,t,n,f,r,o,h,g,T,C,Q,X,null,B,F)),Ks(t,f,g,!z);return}}Gy(t,n,f,r,o,h,g,T,C)}function JT(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],f=h.getSnapshot;h=h.value;try{if(!Nn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ks(t,n,r,o){n&=~sd,n&=~Wr,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var f=31-St(h),g=1<<f;o[f]=-1,h&=~g}r!==0&&Cr(t,r,n)}function cc(){return(Ze&6)===0?(gl(0),!1):!0}function ud(){if(Le!==null){if(et===0)var t=Le.return;else t=Le,Wi=Fr=null,wf(t),ja=null,Zo=0,t=Le;for(;t!==null;)my(t.alternate,t),t=t.return;Le=null}}function Qa(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,_b(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),cs=0,ud(),lt=t,Le=r=Zi(t.current,null),ze=n,et=0,On=null,Fs=!1,Ha=ni(t,n),id=!1,Fa=Vn=sd=Wr=Gs=Et=0,Tn=dl=null,rd=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-St(o),f=1<<h;n|=t[h],o&=~f}return us=n,Du(),r}function Ly(t,n){Ie=null,q.H=rl,n===ka||n===Pu?(n=ep(),et=3):n===df?(n=ep(),et=4):et=n===Bf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,On=n,Le===null&&(Et=1,Wu(t,Fn(n,t.current)))}function Py(){var t=Dn.current;return t===null?!0:(ze&4194048)===ze?Kn===null:(ze&62914560)===ze||(ze&536870912)!==0?t===Kn:!1}function zy(){var t=q.H;return q.H=rl,t===null?rl:t}function By(){var t=q.A;return q.A=$T,t}function hc(){Et=4,Fs||(ze&4194048)!==ze&&Dn.current!==null||(Ha=!0),(Gs&134217727)===0&&(Wr&134217727)===0||lt===null||Ks(lt,ze,Vn,!1)}function cd(t,n,r){var o=Ze;Ze|=2;var h=zy(),f=By();(lt!==t||ze!==n)&&(uc=null,Qa(t,n)),n=!1;var g=Et;e:do try{if(et!==0&&Le!==null){var T=Le,C=On;switch(et){case 8:ud(),g=6;break e;case 3:case 2:case 9:case 6:Dn.current===null&&(n=!0);var z=et;if(et=0,On=null,Ya(t,T,C,z),r&&Ha){g=0;break e}break;default:z=et,et=0,On=null,Ya(t,T,C,z)}}WT(),g=Et;break}catch(Q){Ly(t,Q)}while(!0);return n&&t.shellSuspendCounter++,Wi=Fr=null,Ze=o,q.H=h,q.A=f,Le===null&&(lt=null,ze=0,Du()),g}function WT(){for(;Le!==null;)qy(Le)}function eb(t,n){var r=Ze;Ze|=2;var o=zy(),h=By();lt!==t||ze!==n?(uc=null,lc=It()+500,Qa(t,n)):Ha=ni(t,n);e:do try{if(et!==0&&Le!==null){n=Le;var f=On;t:switch(et){case 1:et=0,On=null,Ya(t,n,f,1);break;case 2:case 9:if(Jg(f)){et=0,On=null,Hy(n);break}n=function(){et!==2&&et!==9||lt!==t||(et=7),ki(t)},f.then(n,n);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:Jg(f)?(et=0,On=null,Hy(n)):(et=0,On=null,Ya(t,n,f,7));break;case 5:var g=null;switch(Le.tag){case 26:g=Le.memoizedState;case 5:case 27:var T=Le;if(g?C0(g):T.stateNode.complete){et=0,On=null;var C=T.sibling;if(C!==null)Le=C;else{var z=T.return;z!==null?(Le=z,fc(z)):Le=null}break t}}et=0,On=null,Ya(t,n,f,5);break;case 6:et=0,On=null,Ya(t,n,f,6);break;case 8:ud(),Et=6;break e;default:throw Error(a(462))}}tb();break}catch(Q){Ly(t,Q)}while(!0);return Wi=Fr=null,q.H=o,q.A=h,Ze=r,Le!==null?0:(lt=null,ze=0,Du(),Et)}function tb(){for(;Le!==null&&!wo();)qy(Le)}function qy(t){var n=fy(t.alternate,t,us);t.memoizedProps=t.pendingProps,n===null?fc(t):Le=n}function Hy(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=ay(r,n,n.pendingProps,n.type,void 0,ze);break;case 11:n=ay(r,n,n.pendingProps,n.type.render,n.ref,ze);break;case 5:wf(n);default:my(r,n),n=Le=Bg(n,us),n=fy(r,n,us)}t.memoizedProps=t.pendingProps,n===null?fc(t):Le=n}function Ya(t,n,r,o){Wi=Fr=null,wf(n),ja=null,Zo=0;var h=n.return;try{if(HT(t,h,n,r,ze)){Et=1,Wu(t,Fn(r,t.current)),Le=null;return}}catch(f){if(h!==null)throw Le=h,f;Et=1,Wu(t,Fn(r,t.current)),Le=null;return}n.flags&32768?(Ge||o===1?t=!0:Ha||(ze&536870912)!==0?t=!1:(Fs=t=!0,(o===2||o===9||o===3||o===6)&&(o=Dn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Fy(n,t)):fc(n)}function fc(t){var n=t;do{if((n.flags&32768)!==0){Fy(n,Fs);return}t=n.return;var r=QT(n.alternate,n,us);if(r!==null){Le=r;return}if(n=n.sibling,n!==null){Le=n;return}Le=n=t}while(n!==null);Et===0&&(Et=5)}function Fy(t,n){do{var r=YT(t.alternate,t);if(r!==null){r.flags&=32767,Le=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Le=t;return}Le=t=r}while(t!==null);Et=6,Le=null}function Gy(t,n,r,o,h,f,g,T,C){t.cancelPendingCommit=null;do dc();while(qt!==0);if((Ze&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Zh,qh(t,r,f,g,T,C),t===lt&&(Le=lt=null,ze=0),Ga=n,Ys=t,cs=r,ad=f,od=h,Vy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,rb(je,function(){return $y(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=q.T,q.T=null,h=te.p,te.p=2,g=Ze,Ze|=4;try{KT(t,n,r)}finally{Ze=g,te.p=h,q.T=o}}qt=1,Qy(),Yy(),Ky()}}function Qy(){if(qt===1){qt=0;var t=Ys,n=Ga,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=q.T,q.T=null;var o=te.p;te.p=2;var h=Ze;Ze|=4;try{xy(n,t);var f=bd,g=Mg(t.containerInfo),T=f.focusedElem,C=f.selectionRange;if(g!==T&&T&&T.ownerDocument&&Dg(T.ownerDocument.documentElement,T)){if(C!==null&&Qh(T)){var z=C.start,Q=C.end;if(Q===void 0&&(Q=z),"selectionStart"in T)T.selectionStart=z,T.selectionEnd=Math.min(Q,T.value.length);else{var X=T.ownerDocument||document,B=X&&X.defaultView||window;if(B.getSelection){var F=B.getSelection(),le=T.textContent.length,ye=Math.min(C.start,le),ot=C.end===void 0?ye:Math.min(C.end,le);!F.extend&&ye>ot&&(g=ot,ot=ye,ye=g);var k=Ig(T,ye),O=Ig(T,ot);if(k&&O&&(F.rangeCount!==1||F.anchorNode!==k.node||F.anchorOffset!==k.offset||F.focusNode!==O.node||F.focusOffset!==O.offset)){var P=X.createRange();P.setStart(k.node,k.offset),F.removeAllRanges(),ye>ot?(F.addRange(P),F.extend(O.node,O.offset)):(P.setEnd(O.node,O.offset),F.addRange(P))}}}}for(X=[],F=T;F=F.parentNode;)F.nodeType===1&&X.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<X.length;T++){var K=X[T];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}wc=!!Td,bd=Td=null}finally{Ze=h,te.p=o,q.T=r}}t.current=n,qt=2}}function Yy(){if(qt===2){qt=0;var t=Ys,n=Ga,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=q.T,q.T=null;var o=te.p;te.p=2;var h=Ze;Ze|=4;try{Ty(t,n.alternate,n)}finally{Ze=h,te.p=o,q.T=r}}qt=3}}function Ky(){if(qt===4||qt===3){qt=0,nt();var t=Ys,n=Ga,r=cs,o=Vy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?qt=5:(qt=0,Ga=Ys=null,Xy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Qs=null),Yi(r),n=n.stateNode,bt&&typeof bt.onCommitFiberRoot=="function")try{bt.onCommitFiberRoot(hn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=q.T,h=te.p,te.p=2,q.T=null;try{for(var f=t.onRecoverableError,g=0;g<o.length;g++){var T=o[g];f(T.value,{componentStack:T.stack})}}finally{q.T=n,te.p=h}}(cs&3)!==0&&dc(),ki(t),h=t.pendingLanes,(r&261930)!==0&&(h&42)!==0?t===ld?ml++:(ml=0,ld=t):ml=0,gl(0)}}function Xy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Xo(n)))}function dc(){return Qy(),Yy(),Ky(),$y()}function $y(){if(qt!==5)return!1;var t=Ys,n=ad;ad=0;var r=Yi(cs),o=q.T,h=te.p;try{te.p=32>r?32:r,q.T=null,r=od,od=null;var f=Ys,g=cs;if(qt=0,Ga=Ys=null,cs=0,(Ze&6)!==0)throw Error(a(331));var T=Ze;if(Ze|=4,Dy(f.current),Cy(f,f.current,g,r),Ze=T,gl(0,!1),bt&&typeof bt.onPostCommitFiberRoot=="function")try{bt.onPostCommitFiberRoot(hn,f)}catch{}return!0}finally{te.p=h,q.T=o,Xy(t,n)}}function Zy(t,n,r){n=Fn(r,n),n=zf(t.stateNode,n,2),t=zs(t,n,2),t!==null&&(Rr(t,2),ki(t))}function tt(t,n,r){if(t.tag===3)Zy(t,t,r);else for(;n!==null;){if(n.tag===3){Zy(n,t,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Qs===null||!Qs.has(o))){t=Fn(r,t),r=Jp(2),o=zs(n,r,2),o!==null&&(Wp(r,o,n,t),Rr(o,2),ki(o));break}}n=n.return}}function hd(t,n,r){var o=t.pingCache;if(o===null){o=t.pingCache=new ZT;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||(id=!0,h.add(r),t=nb.bind(null,t,n,r),n.then(t,t))}function nb(t,n,r){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,lt===t&&(ze&r)===r&&(Et===4||Et===3&&(ze&62914560)===ze&&300>It()-oc?(Ze&2)===0&&Qa(t,0):sd|=r,Fa===ze&&(Fa=0)),ki(t)}function Jy(t,n){n===0&&(n=uu()),t=Br(t,n),t!==null&&(Rr(t,n),ki(t))}function ib(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Jy(t,r)}function sb(t,n){var r=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Jy(t,r)}function rb(t,n){return Tt(t,n)}var mc=null,Ka=null,fd=!1,gc=!1,dd=!1,Xs=0;function ki(t){t!==Ka&&t.next===null&&(Ka===null?mc=Ka=t:Ka=Ka.next=t),gc=!0,fd||(fd=!0,ob())}function gl(t,n){if(!dd&&gc){dd=!0;do for(var r=!1,o=mc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,T=o.pingedLanes;f=(1<<31-St(42|t)+1)-1,f&=h&~(g&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,n0(o,f))}else f=ze,f=yi(o,o===lt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||ni(o,f)||(r=!0,n0(o,f));o=o.next}while(r);dd=!1}}function ab(){Wy()}function Wy(){gc=fd=!1;var t=0;Xs!==0&&yb()&&(t=Xs);for(var n=It(),r=null,o=mc;o!==null;){var h=o.next,f=e0(o,n);f===0?(o.next=null,r===null?mc=h:r.next=h,h===null&&(Ka=r)):(r=o,(t!==0||(f&3)!==0)&&(gc=!0)),o=h}qt!==0&&qt!==5||gl(t),Xs!==0&&(Xs=0)}function e0(t,n){for(var r=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-St(f),T=1<<g,C=h[g];C===-1?((T&r)===0||(T&o)!==0)&&(h[g]=Bh(T,n)):C<=n&&(t.expiredLanes|=T),f&=~T}if(n=lt,r=ze,r=yi(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,r===0||t===n&&(et===2||et===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&ei(o),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||ni(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(o!==null&&ei(o),Yi(r)){case 2:case 8:r=me;break;case 32:r=je;break;case 268435456:r=$t;break;default:r=je}return o=t0.bind(null,t),r=Tt(r,o),t.callbackPriority=n,t.callbackNode=r,n}return o!==null&&o!==null&&ei(o),t.callbackPriority=2,t.callbackNode=null,2}function t0(t,n){if(qt!==0&&qt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(dc()&&t.callbackNode!==r)return null;var o=ze;return o=yi(t,t===lt?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(jy(t,o,n),e0(t,It()),t.callbackNode!=null&&t.callbackNode===r?t0.bind(null,t):null)}function n0(t,n){if(dc())return null;jy(t,n,!0)}function ob(){vb(function(){(Ze&6)!==0?Tt(W,ab):Wy()})}function md(){if(Xs===0){var t=Oa;t===0&&(t=gi,gi<<=1,(gi&261888)===0&&(gi=256)),Xs=t}return Xs}function i0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:_a(""+t)}function s0(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function lb(t,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var f=i0((h[Qt]||null).action),g=o.submitter;g&&(n=(n=g[Qt]||null)?i0(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var T=new Ci("action","action",null,o,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Xs!==0){var C=g?s0(h,g):new FormData(h);Vf(r,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(T.preventDefault(),C=g?s0(h,g):new FormData(h),Vf(r,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var gd=0;gd<$h.length;gd++){var pd=$h[gd],ub=pd.toLowerCase(),cb=pd[0].toUpperCase()+pd.slice(1);ci(ub,"on"+cb)}ci(kg,"onAnimationEnd"),ci(jg,"onAnimationIteration"),ci(Ug,"onAnimationStart"),ci("dblclick","onDoubleClick"),ci("focusin","onFocus"),ci("focusout","onBlur"),ci(xT,"onTransitionRun"),ci(RT,"onTransitionStart"),ci(CT,"onTransitionCancel"),ci(Lg,"onTransitionEnd"),Ai("onMouseEnter",["mouseout","mouseover"]),Ai("onMouseLeave",["mouseout","mouseover"]),Ai("onPointerEnter",["pointerout","pointerover"]),Ai("onPointerLeave",["pointerout","pointerover"]),Si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Si("onBeforeInput",["compositionend","keypress","textInput","paste"]),Si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pl));function r0(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var o=t[r],h=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var T=o[g],C=T.instance,z=T.currentTarget;if(T=T.listener,C!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=z;try{f(h)}catch(Q){Iu(Q)}h.currentTarget=null,f=C}else for(g=0;g<o.length;g++){if(T=o[g],C=T.instance,z=T.currentTarget,T=T.listener,C!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=z;try{f(h)}catch(Q){Iu(Q)}h.currentTarget=null,f=C}}}}function Pe(t,n){var r=n[da];r===void 0&&(r=n[da]=new Set);var o=t+"__bubble";r.has(o)||(a0(n,t,2,!1),r.add(o))}function yd(t,n,r){var o=0;n&&(o|=4),a0(r,t,o,n)}var pc="_reactListening"+Math.random().toString(36).slice(2);function _d(t){if(!t[pc]){t[pc]=!0,Co.forEach(function(r){r!=="selectionchange"&&(hb.has(r)||yd(r,!1,t),yd(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[pc]||(n[pc]=!0,yd("selectionchange",!1,n))}}function a0(t,n,r,o){switch(k0(n)){case 2:var h=Pb;break;case 8:h=zb;break;default:h=Od}r=h.bind(null,n,r,t),h=void 0,!Or||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,r,{capture:!0,passive:h}):t.addEventListener(n,r,!0):h!==void 0?t.addEventListener(n,r,{passive:h}):t.addEventListener(n,r,!1)}function vd(t,n,r,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var T=o.stateNode.containerInfo;if(T===h)break;if(g===4)for(g=o.return;g!==null;){var C=g.tag;if((C===3||C===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;T!==null;){if(g=Ti(T),g===null)return;if(C=g.tag,C===5||C===6||C===26||C===27){o=f=g;continue e}T=T.parentNode}}o=o.return}Is(function(){var z=f,Q=zn(r),X=[];e:{var B=Pg.get(t);if(B!==void 0){var F=Ci,le=t;switch(t){case"keypress":if(kr(r)===0)break e;case"keydown":case"keyup":F=Ru;break;case"focusin":le="focus",F=Ur;break;case"focusout":le="blur",F=Ur;break;case"beforeblur":case"afterblur":F=Ur;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Bo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=_u;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=m;break;case kg:case jg:case Ug:F=Eu;break;case Lg:F=b;break;case"scroll":case"scrollend":F=zo;break;case"wheel":F=H;break;case"copy":case"cut":case"paste":F=Tu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=$i;break;case"toggle":case"beforetoggle":F=Ne}var ye=(n&4)!==0,ot=!ye&&(t==="scroll"||t==="scrollend"),k=ye?B!==null?B+"Capture":null:B;ye=[];for(var O=z,P;O!==null;){var K=O;if(P=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||P===null||k===null||(K=ai(O,k),K!=null&&ye.push(yl(O,K,P))),ot)break;O=O.return}0<ye.length&&(B=new F(B,le,null,r,Q),X.push({event:B,listeners:ye}))}}if((n&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",B&&r!==Uo&&(le=r.relatedTarget||r.fromElement)&&(Ti(le)||le[vi]))break e;if((F||B)&&(B=Q.window===Q?Q:(B=Q.ownerDocument)?B.defaultView||B.parentWindow:window,F?(le=r.relatedTarget||r.toElement,F=z,le=le?Ti(le):null,le!==null&&(ot=c(le),ye=le.tag,le!==ot||ye!==5&&ye!==27&&ye!==6)&&(le=null)):(F=null,le=z),F!==le)){if(ye=Bo,K="onMouseLeave",k="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(ye=$i,K="onPointerLeave",k="onPointerEnter",O="pointer"),ot=F==null?B:Rn(F),P=le==null?B:Rn(le),B=new ye(K,O+"leave",F,r,Q),B.target=ot,B.relatedTarget=P,K=null,Ti(Q)===z&&(ye=new ye(k,O+"enter",le,r,Q),ye.target=P,ye.relatedTarget=ot,K=ye),ot=K,F&&le)t:{for(ye=fb,k=F,O=le,P=0,K=k;K;K=ye(K))P++;K=0;for(var de=O;de;de=ye(de))K++;for(;0<P-K;)k=ye(k),P--;for(;0<K-P;)O=ye(O),K--;for(;P--;){if(k===O||O!==null&&k===O.alternate){ye=k;break t}k=ye(k),O=ye(O)}ye=null}else ye=null;F!==null&&o0(X,B,F,ye,!1),le!==null&&ot!==null&&o0(X,ot,le,ye,!0)}}e:{if(B=z?Rn(z):window,F=B.nodeName&&B.nodeName.toLowerCase(),F==="select"||F==="input"&&B.type==="file")var Ke=Ag;else if(bg(B))if(wg)Ke=ST;else{Ke=TT;var ce=ET}else F=B.nodeName,!F||F.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&ya(z.elementType)&&(Ke=Ag):Ke=bT;if(Ke&&(Ke=Ke(t,z))){Sg(X,Ke,r,Q);break e}ce&&ce(t,B,z),t==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&Vo(B,"number",B.value)}switch(ce=z?Rn(z):window,t){case"focusin":(bg(ce)||ce.contentEditable==="true")&&(wa=ce,Yh=z,Qo=null);break;case"focusout":Qo=Yh=wa=null;break;case"mousedown":Kh=!0;break;case"contextmenu":case"mouseup":case"dragend":Kh=!1,Og(X,r,Q);break;case"selectionchange":if(wT)break;case"keydown":case"keyup":Og(X,r,Q)}var Me;if($e)e:{switch(t){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else Aa?Lr(t,r)&&(Be="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Be="onCompositionStart");Be&&(Di&&r.locale!=="ko"&&(Aa||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&Aa&&(Me=Po()):(Ri=Q,Lo="value"in Ri?Ri.value:Ri.textContent,Aa=!0)),ce=yc(z,Be),0<ce.length&&(Be=new Ii(Be,t,null,r,Q),X.push({event:Be,listeners:ce}),Me?Be.data=Me:(Me=Sa(r),Me!==null&&(Be.data=Me)))),(Me=qn?pT(t,r):yT(t,r))&&(Be=yc(z,"onBeforeInput"),0<Be.length&&(ce=new Ii("onBeforeInput","beforeinput",null,r,Q),X.push({event:ce,listeners:Be}),ce.data=Me)),lb(X,t,z,r,Q)}r0(X,n)})}function yl(t,n,r){return{instance:t,listener:n,currentTarget:r}}function yc(t,n){for(var r=n+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ai(t,r),h!=null&&o.unshift(yl(t,h,f)),h=ai(t,n),h!=null&&o.push(yl(t,h,f))),t.tag===3)return o;t=t.return}return[]}function fb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function o0(t,n,r,o,h){for(var f=n._reactName,g=[];r!==null&&r!==o;){var T=r,C=T.alternate,z=T.stateNode;if(T=T.tag,C!==null&&C===o)break;T!==5&&T!==26&&T!==27||z===null||(C=z,h?(z=ai(r,f),z!=null&&g.unshift(yl(r,z,C))):h||(z=ai(r,f),z!=null&&g.push(yl(r,z,C)))),r=r.return}g.length!==0&&t.push({event:n,listeners:g})}var db=/\r\n?/g,mb=/\u0000|\uFFFD/g;function l0(t){return(typeof t=="string"?t:""+t).replace(db,`
`).replace(mb,"")}function u0(t,n){return n=l0(n),l0(t)===n}function at(t,n,r,o,h,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||yn(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&yn(t,""+o);break;case"className":Cn(t,"class",o);break;case"tabIndex":Cn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Cn(t,r,o);break;case"style":jo(t,o,f);break;case"data":if(n!=="object"){Cn(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=_a(""+o),t.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&at(t,n,"name",h.name,h,null),at(t,n,"formEncType",h.formEncType,h,null),at(t,n,"formMethod",h.formMethod,h,null),at(t,n,"formTarget",h.formTarget,h,null)):(at(t,n,"encType",h.encType,h,null),at(t,n,"method",h.method,h,null),at(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=_a(""+o),t.setAttribute(r,o);break;case"onClick":o!=null&&(t.onclick=ri);break;case"onScroll":o!=null&&Pe("scroll",t);break;case"onScrollEnd":o!=null&&Pe("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}r=_a(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""+o):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":o===!0?t.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,o):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(r,o):t.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(r):t.setAttribute(r,o);break;case"popover":Pe("beforetoggle",t),Pe("toggle",t),ga(t,"popover",o);break;case"xlinkActuate":Vt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Vt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Vt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Vt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Vt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Vt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Vt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Vt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Vt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ga(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=yu.get(r)||r,ga(t,r,o))}}function Ed(t,n,r,o,h,f){switch(r){case"style":jo(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof o=="string"?yn(t,o):(typeof o=="number"||typeof o=="bigint")&&yn(t,""+o);break;case"onScroll":o!=null&&Pe("scroll",t);break;case"onScrollEnd":o!=null&&Pe("scrollend",t);break;case"onClick":o!=null&&(t.onclick=ri);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!No.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=t[Qt]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,o,h);break e}r in t?t[r]=o:o===!0?t.setAttribute(r,""):ga(t,r,o)}}}function tn(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",t),Pe("load",t);var o=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var g=r[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:at(t,n,f,g,r,null)}}h&&at(t,n,"srcSet",r.srcSet,r,null),o&&at(t,n,"src",r.src,r,null);return;case"input":Pe("invalid",t);var T=f=g=h=null,C=null,z=null;for(o in r)if(r.hasOwnProperty(o)){var Q=r[o];if(Q!=null)switch(o){case"name":h=Q;break;case"type":g=Q;break;case"checked":C=Q;break;case"defaultChecked":z=Q;break;case"value":f=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,n));break;default:at(t,n,o,Q,r,null)}}mu(t,f,T,C,z,g,h,!1);return;case"select":Pe("invalid",t),o=g=f=null;for(h in r)if(r.hasOwnProperty(h)&&(T=r[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":g=T;break;case"multiple":o=T;default:at(t,n,h,T,r,null)}n=f,r=g,t.multiple=!!o,n!=null?xs(t,!!o,n,!1):r!=null&&xs(t,!!o,r,!0);return;case"textarea":Pe("invalid",t),f=h=o=null;for(g in r)if(r.hasOwnProperty(g)&&(T=r[g],T!=null))switch(g){case"value":o=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:at(t,n,g,T,r,null)}Rs(t,o,h,f);return;case"option":for(C in r)r.hasOwnProperty(C)&&(o=r[C],o!=null)&&(C==="selected"?t.selected=o&&typeof o!="function"&&typeof o!="symbol":at(t,n,C,o,r,null));return;case"dialog":Pe("beforetoggle",t),Pe("toggle",t),Pe("cancel",t),Pe("close",t);break;case"iframe":case"object":Pe("load",t);break;case"video":case"audio":for(o=0;o<pl.length;o++)Pe(pl[o],t);break;case"image":Pe("error",t),Pe("load",t);break;case"details":Pe("toggle",t);break;case"embed":case"source":case"link":Pe("error",t),Pe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in r)if(r.hasOwnProperty(z)&&(o=r[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:at(t,n,z,o,r,null)}return;default:if(ya(n)){for(Q in r)r.hasOwnProperty(Q)&&(o=r[Q],o!==void 0&&Ed(t,n,Q,o,r,void 0));return}}for(T in r)r.hasOwnProperty(T)&&(o=r[T],o!=null&&at(t,n,T,o,r,null))}function gb(t,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,T=null,C=null,z=null,Q=null;for(F in r){var X=r[F];if(r.hasOwnProperty(F)&&X!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":C=X;default:o.hasOwnProperty(F)||at(t,n,F,null,o,X)}}for(var B in o){var F=o[B];if(X=r[B],o.hasOwnProperty(B)&&(F!=null||X!=null))switch(B){case"type":f=F;break;case"name":h=F;break;case"checked":z=F;break;case"defaultChecked":Q=F;break;case"value":g=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:F!==X&&at(t,n,B,F,o,X)}}pa(t,g,T,C,z,Q,f,h);return;case"select":F=g=T=B=null;for(f in r)if(C=r[f],r.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":F=C;default:o.hasOwnProperty(f)||at(t,n,f,null,o,C)}for(h in o)if(f=o[h],C=r[h],o.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":B=f;break;case"defaultValue":T=f;break;case"multiple":g=f;default:f!==C&&at(t,n,h,f,o,C)}n=T,r=g,o=F,B!=null?xs(t,!!r,B,!1):!!o!=!!r&&(n!=null?xs(t,!!r,n,!0):xs(t,!!r,r?[]:"",!1));return;case"textarea":F=B=null;for(T in r)if(h=r[T],r.hasOwnProperty(T)&&h!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:at(t,n,T,null,o,h)}for(g in o)if(h=o[g],f=r[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":B=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&at(t,n,g,h,o,f)}gu(t,B,F);return;case"option":for(var le in r)B=r[le],r.hasOwnProperty(le)&&B!=null&&!o.hasOwnProperty(le)&&(le==="selected"?t.selected=!1:at(t,n,le,null,o,B));for(C in o)B=o[C],F=r[C],o.hasOwnProperty(C)&&B!==F&&(B!=null||F!=null)&&(C==="selected"?t.selected=B&&typeof B!="function"&&typeof B!="symbol":at(t,n,C,B,o,F));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in r)B=r[ye],r.hasOwnProperty(ye)&&B!=null&&!o.hasOwnProperty(ye)&&at(t,n,ye,null,o,B);for(z in o)if(B=o[z],F=r[z],o.hasOwnProperty(z)&&B!==F&&(B!=null||F!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:at(t,n,z,B,o,F)}return;default:if(ya(n)){for(var ot in r)B=r[ot],r.hasOwnProperty(ot)&&B!==void 0&&!o.hasOwnProperty(ot)&&Ed(t,n,ot,void 0,o,B);for(Q in o)B=o[Q],F=r[Q],!o.hasOwnProperty(Q)||B===F||B===void 0&&F===void 0||Ed(t,n,Q,B,o,F);return}}for(var k in r)B=r[k],r.hasOwnProperty(k)&&B!=null&&!o.hasOwnProperty(k)&&at(t,n,k,null,o,B);for(X in o)B=o[X],F=r[X],!o.hasOwnProperty(X)||B===F||B==null&&F==null||at(t,n,X,B,o,F)}function c0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function pb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var h=r[o],f=h.transferSize,g=h.initiatorType,T=h.duration;if(f&&T&&c0(g)){for(g=0,T=h.responseEnd,o+=1;o<r.length;o++){var C=r[o],z=C.startTime;if(z>T)break;var Q=C.transferSize,X=C.initiatorType;Q&&c0(X)&&(C=C.responseEnd,g+=Q*(C<T?1:(T-z)/(C-z)))}if(--o,n+=8*(f+g)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Td=null,bd=null;function _c(t){return t.nodeType===9?t:t.ownerDocument}function h0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function f0(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Sd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Ad=null;function yb(){var t=window.event;return t&&t.type==="popstate"?t===Ad?!1:(Ad=t,!0):(Ad=null,!1)}var d0=typeof setTimeout=="function"?setTimeout:void 0,_b=typeof clearTimeout=="function"?clearTimeout:void 0,m0=typeof Promise=="function"?Promise:void 0,vb=typeof queueMicrotask=="function"?queueMicrotask:typeof m0<"u"?function(t){return m0.resolve(null).then(t).catch(Eb)}:d0;function Eb(t){setTimeout(function(){throw t})}function $s(t){return t==="head"}function g0(t,n){var r=n,o=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(o===0){t.removeChild(h),Ja(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")_l(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,_l(r);for(var f=r.firstChild;f;){var g=f.nextSibling,T=f.nodeName;f[Ei]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=g}}else r==="body"&&_l(t.ownerDocument.body);r=h}while(r);Ja(n)}function p0(t,n){var r=t;t=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=o}while(r)}function wd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":wd(r),ma(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function Tb(t,n,r,o){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Ei])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Xn(t.nextSibling),t===null)break}return null}function bb(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Xn(t.nextSibling),t===null))return null;return t}function y0(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Xn(t.nextSibling),t===null))return null;return t}function xd(t){return t.data==="$?"||t.data==="$~"}function Rd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Sb(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Xn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Cd=null;function _0(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return Xn(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function v0(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function E0(t,n,r){switch(n=_c(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function _l(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ma(t)}var $n=new Map,T0=new Set;function vc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var hs=te.d;te.d={f:Ab,r:wb,D:xb,C:Rb,L:Cb,m:Nb,X:Db,S:Ib,M:Mb};function Ab(){var t=hs.f(),n=cc();return t||n}function wb(t){var n=Pn(t);n!==null&&n.tag===5&&n.type==="form"?Lp(n):hs.r(t)}var Xa=typeof document>"u"?null:document;function b0(t,n,r){var o=Xa;if(o&&typeof n=="string"&&n){var h=pn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),T0.has(h)||(T0.add(h),t={rel:t,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),tn(n,"link",t),Ot(n),o.head.appendChild(n)))}}function xb(t){hs.D(t),b0("dns-prefetch",t,null)}function Rb(t,n){hs.C(t,n),b0("preconnect",t,n)}function Cb(t,n,r){hs.L(t,n,r);var o=Xa;if(o&&t&&n){var h='link[rel="preload"][as="'+pn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+pn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+pn(r.imageSizes)+'"]')):h+='[href="'+pn(t)+'"]';var f=h;switch(n){case"style":f=$a(t);break;case"script":f=Za(t)}$n.has(f)||(t=A({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),$n.set(f,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(vl(f))||n==="script"&&o.querySelector(El(f))||(n=o.createElement("link"),tn(n,"link",t),Ot(n),o.head.appendChild(n)))}}function Nb(t,n){hs.m(t,n);var r=Xa;if(r&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+pn(o)+'"][href="'+pn(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Za(t)}if(!$n.has(f)&&(t=A({rel:"modulepreload",href:t},n),$n.set(f,t),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(El(f)))return}o=r.createElement("link"),tn(o,"link",t),Ot(o),r.head.appendChild(o)}}}function Ib(t,n,r){hs.S(t,n,r);var o=Xa;if(o&&t){var h=bi(o).hoistableStyles,f=$a(t);n=n||"default";var g=h.get(f);if(!g){var T={loading:0,preload:null};if(g=o.querySelector(vl(f)))T.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},r),(r=$n.get(f))&&Nd(t,r);var C=g=o.createElement("link");Ot(C),tn(C,"link",t),C._p=new Promise(function(z,Q){C.onload=z,C.onerror=Q}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Ec(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:T},h.set(f,g)}}}function Db(t,n){hs.X(t,n);var r=Xa;if(r&&t){var o=bi(r).hoistableScripts,h=Za(t),f=o.get(h);f||(f=r.querySelector(El(h)),f||(t=A({src:t,async:!0},n),(n=$n.get(h))&&Id(t,n),f=r.createElement("script"),Ot(f),tn(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Mb(t,n){hs.M(t,n);var r=Xa;if(r&&t){var o=bi(r).hoistableScripts,h=Za(t),f=o.get(h);f||(f=r.querySelector(El(h)),f||(t=A({src:t,async:!0,type:"module"},n),(n=$n.get(h))&&Id(t,n),f=r.createElement("script"),Ot(f),tn(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function S0(t,n,r,o){var h=(h=Ae.current)?vc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=$a(r.href),r=bi(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=$a(r.href);var f=bi(h).hoistableStyles,g=f.get(t);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=h.querySelector(vl(t)))&&!f._p&&(g.instance=f,g.state.loading=5),$n.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},$n.set(t,r),f||Ob(h,t,r,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Za(r),r=bi(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function $a(t){return'href="'+pn(t)+'"'}function vl(t){return'link[rel="stylesheet"]['+t+"]"}function A0(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function Ob(t,n,r,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),tn(n,"link",r),Ot(n),t.head.appendChild(n))}function Za(t){return'[src="'+pn(t)+'"]'}function El(t){return"script[async]"+t}function w0(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+pn(r.href)+'"]');if(o)return n.instance=o,Ot(o),o;var h=A({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Ot(o),tn(o,"style",h),Ec(o,r.precedence,t),n.instance=o;case"stylesheet":h=$a(r.href);var f=t.querySelector(vl(h));if(f)return n.state.loading|=4,n.instance=f,Ot(f),f;o=A0(r),(h=$n.get(h))&&Nd(o,h),f=(t.ownerDocument||t).createElement("link"),Ot(f);var g=f;return g._p=new Promise(function(T,C){g.onload=T,g.onerror=C}),tn(f,"link",o),n.state.loading|=4,Ec(f,r.precedence,t),n.instance=f;case"script":return f=Za(r.src),(h=t.querySelector(El(f)))?(n.instance=h,Ot(h),h):(o=r,(h=$n.get(f))&&(o=A({},r),Id(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Ot(h),tn(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Ec(o,r.precedence,t));return n.instance}function Ec(t,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var T=o[g];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Nd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Id(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Tc=null;function x0(t,n,r){if(Tc===null){var o=new Map,h=Tc=new Map;h.set(r,o)}else h=Tc,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(t))return o;for(o.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var f=r[h];if(!(f[Ei]||f[Mt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var T=o.get(g);T?T.push(f):o.set(g,[f])}}return o}function R0(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function Vb(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function C0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function kb(t,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=$a(o.href),f=n.querySelector(vl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=bc.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=f,Ot(f);return}f=n.ownerDocument||n,o=A0(o),(h=$n.get(h))&&Nd(o,h),f=f.createElement("link"),Ot(f);var g=f;g._p=new Promise(function(T,C){g.onload=T,g.onerror=C}),tn(f,"link",o),r.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=bc.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var Dd=0;function jb(t,n){return t.stylesheets&&t.count===0&&Ac(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var o=setTimeout(function(){if(t.stylesheets&&Ac(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Dd===0&&(Dd=62500*pb());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Ac(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Dd?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function bc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ac(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Sc=null;function Ac(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Sc=new Map,n.forEach(Ub,t),Sc=null,bc.call(t))}function Ub(t,n){if(!(n.state.loading&4)){var r=Sc.get(t);if(r)var o=r.get(null);else{r=new Map,Sc.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),o=g)}o&&r.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=r.get(g)||o,f===o&&r.set(null,h),r.set(g,h),this.count++,o=bc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Tl={$$typeof:pe,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function Lb(t,n,r,o,h,f,g,T,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_i(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_i(0),this.hiddenUpdates=_i(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function N0(t,n,r,o,h,f,g,T,C,z,Q,X){return t=new Lb(t,n,r,g,C,z,Q,X,T),n=1,f===!0&&(n|=24),f=In(3,null,null,n),t.current=f,f.stateNode=t,n=cf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},mf(f),t}function I0(t){return t?(t=Ca,t):Ca}function D0(t,n,r,o,h,f){h=I0(h),o.context===null?o.context=h:o.pendingContext=h,o=Ps(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=zs(t,o,n),r!==null&&(bn(r,t,n),Wo(r,t,n))}function M0(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Md(t,n){M0(t,n),(t=t.alternate)&&M0(t,n)}function O0(t){if(t.tag===13||t.tag===31){var n=Br(t,67108864);n!==null&&bn(n,t,67108864),Md(t,67108864)}}function V0(t){if(t.tag===13||t.tag===31){var n=kn();n=Nr(n);var r=Br(t,n);r!==null&&bn(r,t,n),Md(t,n)}}var wc=!0;function Pb(t,n,r,o){var h=q.T;q.T=null;var f=te.p;try{te.p=2,Od(t,n,r,o)}finally{te.p=f,q.T=h}}function zb(t,n,r,o){var h=q.T;q.T=null;var f=te.p;try{te.p=8,Od(t,n,r,o)}finally{te.p=f,q.T=h}}function Od(t,n,r,o){if(wc){var h=Vd(o);if(h===null)vd(t,n,o,xc,r),j0(t,o);else if(qb(h,t,n,r,o))o.stopPropagation();else if(j0(t,o),n&4&&-1<Bb.indexOf(t)){for(;h!==null;){var f=Pn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=pi(f.pendingLanes);if(g!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;g;){var C=1<<31-St(g);T.entanglements[1]|=C,g&=~C}ki(f),(Ze&6)===0&&(lc=It()+500,gl(0))}}break;case 31:case 13:T=Br(f,2),T!==null&&bn(T,f,2),cc(),Md(f,2)}if(f=Vd(o),f===null&&vd(t,n,o,xc,r),f===h)break;h=f}h!==null&&o.stopPropagation()}else vd(t,n,o,null,r)}}function Vd(t){return t=zn(t),kd(t)}var xc=null;function kd(t){if(xc=null,t=Ti(t),t!==null){var n=c(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===31){if(t=p(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return xc=t,null}function k0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ti()){case W:return 2;case me:return 8;case je:case Ue:return 32;case $t:return 268435456;default:return 32}default:return 32}}var jd=!1,Zs=null,Js=null,Ws=null,bl=new Map,Sl=new Map,er=[],Bb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function j0(t,n){switch(t){case"focusin":case"focusout":Zs=null;break;case"dragenter":case"dragleave":Js=null;break;case"mouseover":case"mouseout":Ws=null;break;case"pointerover":case"pointerout":bl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sl.delete(n.pointerId)}}function Al(t,n,r,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Pn(n),n!==null&&O0(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function qb(t,n,r,o,h){switch(n){case"focusin":return Zs=Al(Zs,t,n,r,o,h),!0;case"dragenter":return Js=Al(Js,t,n,r,o,h),!0;case"mouseover":return Ws=Al(Ws,t,n,r,o,h),!0;case"pointerover":var f=h.pointerId;return bl.set(f,Al(bl.get(f)||null,t,n,r,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Sl.set(f,Al(Sl.get(f)||null,t,n,r,o,h)),!0}return!1}function U0(t){var n=Ti(t.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,ii(t.priority,function(){V0(r)});return}}else if(n===31){if(n=p(r),n!==null){t.blockedOn=n,ii(t.priority,function(){V0(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Rc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Vd(t.nativeEvent);if(r===null){r=t.nativeEvent;var o=new r.constructor(r.type,r);Uo=o,r.target.dispatchEvent(o),Uo=null}else return n=Pn(r),n!==null&&O0(n),t.blockedOn=r,!1;n.shift()}return!0}function L0(t,n,r){Rc(t)&&r.delete(n)}function Hb(){jd=!1,Zs!==null&&Rc(Zs)&&(Zs=null),Js!==null&&Rc(Js)&&(Js=null),Ws!==null&&Rc(Ws)&&(Ws=null),bl.forEach(L0),Sl.forEach(L0)}function Cc(t,n){t.blockedOn===n&&(t.blockedOn=null,jd||(jd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Hb)))}var Nc=null;function P0(t){Nc!==t&&(Nc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Nc===t&&(Nc=null);for(var n=0;n<t.length;n+=3){var r=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(kd(o||r)===null)continue;break}var f=Pn(r);f!==null&&(t.splice(n,3),n-=3,Vf(f,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function Ja(t){function n(C){return Cc(C,t)}Zs!==null&&Cc(Zs,t),Js!==null&&Cc(Js,t),Ws!==null&&Cc(Ws,t),bl.forEach(n),Sl.forEach(n);for(var r=0;r<er.length;r++){var o=er[r];o.blockedOn===t&&(o.blockedOn=null)}for(;0<er.length&&(r=er[0],r.blockedOn===null);)U0(r),r.blockedOn===null&&er.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],f=r[o+1],g=h[Qt]||null;if(typeof f=="function")g||P0(r);else if(g){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Qt]||null)T=g.formAction;else if(kd(h)!==null)continue}else T=g.action;typeof T=="function"?r[o+1]=T:(r.splice(o,3),o-=3),P0(r)}}}function z0(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Ud(t){this._internalRoot=t}Ic.prototype.render=Ud.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,o=kn();D0(r,o,t,n,null,null)},Ic.prototype.unmount=Ud.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;D0(t.current,2,null,t,null,null),cc(),n[vi]=null}};function Ic(t){this._internalRoot=t}Ic.prototype.unstable_scheduleHydration=function(t){if(t){var n=cu();t={blockedOn:null,target:t,priority:n};for(var r=0;r<er.length&&n!==0&&n<er[r].priority;r++);er.splice(r,0,t),r===0&&U0(t)}};var B0=e.version;if(B0!=="19.2.3")throw Error(a(527,B0,"19.2.3"));te.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=_(n),t=t!==null?S(t):null,t=t===null?null:t.stateNode,t};var Fb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dc.isDisabled&&Dc.supportsFiber)try{hn=Dc.inject(Fb),bt=Dc}catch{}}return xl.createRoot=function(t,n){if(!l(t))throw Error(a(299));var r=!1,o="",h=Kp,f=Xp,g=$p;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=N0(t,1,!1,null,null,r,o,null,h,f,g,z0),t[vi]=n.current,_d(t),new Ud(n)},xl.hydrateRoot=function(t,n,r){if(!l(t))throw Error(a(299));var o=!1,h="",f=Kp,g=Xp,T=$p,C=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.formState!==void 0&&(C=r.formState)),n=N0(t,1,!0,n,r??null,o,h,C,f,g,T,z0),n.context=I0(null),r=n.current,o=kn(),o=Nr(o),h=Ps(o),h.callback=null,zs(r,h,o),r=o,n.current.lanes=r,Rr(n,r),ki(n),t[vi]=n.current,_d(t),new Ic(n)},xl.version="19.2.3",xl}var Z0;function eS(){if(Z0)return zd.exports;Z0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),zd.exports=Wb(),zd.exports}var tS=eS();const nS=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),iS=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase()),J0=s=>{const e=iS(s);return e.charAt(0).toUpperCase()+e.slice(1)},Mv=(...s)=>s.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim(),sS=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var rS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const aS=Ee.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...p},y)=>Ee.createElement("svg",{ref:y,...rS,width:e,height:e,stroke:s,strokeWidth:a?Number(i)*24/Number(e):i,className:Mv("lucide",l),...!c&&!sS(p)&&{"aria-hidden":"true"},...p},[...d.map(([_,S])=>Ee.createElement(_,S)),...Array.isArray(c)?c:[c]]));const Re=(s,e)=>{const i=Ee.forwardRef(({className:a,...l},c)=>Ee.createElement(aS,{ref:c,iconNode:e,className:Mv(`lucide-${nS(J0(s))}`,`lucide-${s}`,a),...l}));return i.displayName=J0(s),i};const oS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],lS=Re("arrow-right",oS);const uS=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Ov=Re("briefcase",uS);const cS=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],hS=Re("calendar",cS);const fS=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],Vv=Re("chart-no-axes-column",fS);const dS=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],kv=Re("chevron-left",dS);const mS=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],gS=Re("chevron-right",mS);const pS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Yl=Re("circle-alert",pS);const yS=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],mh=Re("circle-check-big",yS);const _S=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],vS=Re("clock",_S);const ES=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],jv=Re("cloud-upload",ES);const TS=[["line",{x1:"15",x2:"15",y1:"12",y2:"18",key:"1p7wdc"}],["line",{x1:"12",x2:"18",y1:"15",y2:"15",key:"1nscbv"}],["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],bS=Re("copy-plus",TS);const SS=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],AS=Re("copy",SS);const wS=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],xS=Re("download",wS);const RS=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],CS=Re("ellipsis",RS);const NS=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],IS=Re("external-link",NS);const DS=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],MS=Re("grid-3x3",DS);const OS=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],VS=Re("hash",OS);const kS=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],jS=Re("instagram",kS);const US=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Uv=Re("layers",US);const LS=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],PS=Re("link",LS);const zS=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],Lv=Re("linkedin",zS);const BS=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],qS=Re("list",BS);const HS=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],FS=Re("loader-circle",HS);const GS=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],W0=Re("log-out",GS);const QS=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Pv=Re("map-pin",QS);const YS=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],KS=Re("menu",YS);const XS=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],$S=Re("message-square",XS);const ZS=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],JS=Re("panels-top-left",ZS);const WS=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],eA=Re("pen-line",WS);const tA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],e_=Re("plus",tA);const nA=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],iA=Re("save",nA);const sA=[["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],Mc=Re("scroll",sA);const rA=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],t_=Re("search",rA);const aA=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],oA=Re("share-2",aA);const lA=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],uA=Re("smartphone",lA);const cA=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],hA=Re("sparkles",cA);const fA=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],dA=Re("tag",fA);const mA=[["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}],["path",{d:"M17 14V2",key:"8ymqnk"}]],gA=Re("thumbs-down",mA);const pA=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],zv=Re("trash-2",pA);const yA=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Bv=Re("triangle-alert",yA);const _A=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],vA=Re("twitter",_A);const EA=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],TA=Re("wand-sparkles",EA);const bA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],gh=Re("x",bA);const SA=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],qv=Re("zap",SA),AA=()=>{};var n_={};const Hv=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},wA=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const l=s[i++];if(l<128)e[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];e[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],p=s[i++],y=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;e[a++]=String.fromCharCode(55296+(y>>10)),e[a++]=String.fromCharCode(56320+(y&1023))}else{const c=s[i++],d=s[i++];e[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Fv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,p=d?s[l+1]:0,y=l+2<s.length,_=y?s[l+2]:0,S=c>>2,A=(c&3)<<4|p>>4;let M=(p&15)<<2|_>>6,U=_&63;y||(U=64,d||(M=64)),a.push(i[S],i[A],i[M],i[U])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Hv(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):wA(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],p=l<s.length?i[s.charAt(l)]:0;++l;const _=l<s.length?i[s.charAt(l)]:64;++l;const A=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||p==null||_==null||A==null)throw new xA;const M=c<<2|p>>4;if(a.push(M),_!==64){const U=p<<4&240|_>>2;if(a.push(U),A!==64){const G=_<<6&192|A;a.push(G)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class xA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const RA=function(s){const e=Hv(s);return Fv.encodeByteArray(e,!0)},Xc=function(s){return RA(s).replace(/\./g,"")},Gv=function(s){try{return Fv.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function CA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const NA=()=>CA().__FIREBASE_DEFAULTS__,IA=()=>{if(typeof process>"u"||typeof n_>"u")return;const s=n_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},DA=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Gv(s[1]);return e&&JSON.parse(e)},ph=()=>{try{return AA()||NA()||IA()||DA()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Qv=s=>ph()?.emulatorHosts?.[s],MA=s=>{const e=Qv(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},Yv=()=>ph()?.config,Kv=s=>ph()?.[`_${s}`];class OA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function _o(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Xv(s){return(await fetch(s,{credentials:"include"})).ok}function VA(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Xc(JSON.stringify(i)),Xc(JSON.stringify(d)),""].join(".")}const Ml={};function kA(){const s={prod:[],emulator:[]};for(const e of Object.keys(Ml))Ml[e]?s.emulator.push(e):s.prod.push(e);return s}function jA(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let i_=!1;function $v(s,e){if(typeof window>"u"||typeof document>"u"||!_o(window.location.host)||Ml[s]===e||Ml[s]||i_)return;Ml[s]=e;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",c=kA().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function p(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function y(M,U){M.setAttribute("width","24"),M.setAttribute("id",U),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function _(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{i_=!0,d()},M}function S(M,U){M.setAttribute("id",U),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function A(){const M=jA(a),U=i("text"),G=document.getElementById(U)||document.createElement("span"),ee=i("learnmore"),Z=document.getElementById(ee)||document.createElement("a"),he=i("preprendIcon"),fe=document.getElementById(he)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const pe=M.element;p(pe),S(Z,ee);const De=_();y(fe,he),pe.append(fe,G,Z,De),document.body.appendChild(pe)}c?(G.innerText="Preview backend disconnected.",fe.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(fe.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,G.innerText="Preview backend running in this workspace."),G.setAttribute("id",U)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function UA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cn())}function LA(){const s=ph()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function PA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function zA(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function BA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function qA(){const s=cn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function HA(){return!LA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function FA(){try{return typeof indexedDB=="object"}catch{return!1}}function GA(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}const QA="FirebaseError";class Ts extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=QA,Object.setPrototypeOf(this,Ts.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Kl.prototype.create)}}class Kl{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?YA(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new Ts(l,p,a)}}function YA(s,e){return s.replace(KA,(i,a)=>{const l=e[a];return l!=null?String(l):`<${a}?>`})}const KA=/\{\$([^}]+)}/g;function XA(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function ra(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const l of i){if(!a.includes(l))return!1;const c=s[l],d=e[l];if(s_(c)&&s_(d)){if(!ra(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function s_(s){return s!==null&&typeof s=="object"}function Xl(s){const e=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function $A(s,e){const i=new ZA(s,e);return i.subscribe.bind(i)}class ZA{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let l;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");JA(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:a},l.next===void 0&&(l.next=Fd),l.error===void 0&&(l.error=Fd),l.complete===void 0&&(l.complete=Fd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function JA(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Fd(){}function Gt(s){return s&&s._delegate?s._delegate:s}class aa{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ea="[DEFAULT]";class WA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new OA;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(t2(e))try{this.getOrInitializeService({instanceIdentifier:ea})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(e=ea){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ea){return this.instances.has(e)}getOptions(e=ea){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:e2(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=ea){return this.component?this.component.multipleInstances?e:ea:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function e2(s){return s===ea?void 0:s}function t2(s){return s.instantiationMode==="EAGER"}class n2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new WA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var qe;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(qe||(qe={}));const i2={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},s2=qe.INFO,r2={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},a2=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),l=r2[e];if(l)console[l](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Om{constructor(e){this.name=e,this._logLevel=s2,this._logHandler=a2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?i2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...e),this._logHandler(this,qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...e),this._logHandler(this,qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...e),this._logHandler(this,qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...e),this._logHandler(this,qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...e),this._logHandler(this,qe.ERROR,...e)}}const o2=(s,e)=>e.some(i=>s instanceof i);let r_,a_;function l2(){return r_||(r_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function u2(){return a_||(a_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Zv=new WeakMap,am=new WeakMap,Jv=new WeakMap,Gd=new WeakMap,Vm=new WeakMap;function c2(s){const e=new Promise((i,a)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(or(s.result)),l()},d=()=>{a(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Zv.set(i,s)}).catch(()=>{}),Vm.set(e,s),e}function h2(s){if(am.has(s))return;const e=new Promise((i,a)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});am.set(s,e)}let om={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return am.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Jv.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return or(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function f2(s){om=s(om)}function d2(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(Qd(this),e,...i);return Jv.set(a,e.sort?e.sort():[e]),or(a)}:u2().includes(s)?function(...e){return s.apply(Qd(this),e),or(Zv.get(this))}:function(...e){return or(s.apply(Qd(this),e))}}function m2(s){return typeof s=="function"?d2(s):(s instanceof IDBTransaction&&h2(s),o2(s,l2())?new Proxy(s,om):s)}function or(s){if(s instanceof IDBRequest)return c2(s);if(Gd.has(s))return Gd.get(s);const e=m2(s);return e!==s&&(Gd.set(s,e),Vm.set(e,s)),e}const Qd=s=>Vm.get(s);function g2(s,e,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(s,e),p=or(d);return a&&d.addEventListener("upgradeneeded",y=>{a(or(d.result),y.oldVersion,y.newVersion,or(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const p2=["get","getKey","getAll","getAllKeys","count"],y2=["put","add","delete","clear"],Yd=new Map;function o_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Yd.get(e))return Yd.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,l=y2.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||p2.includes(i)))return;const c=async function(d,...p){const y=this.transaction(d,l?"readwrite":"readonly");let _=y.store;return a&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),l&&y.done]))[0]};return Yd.set(e,c),c}f2(s=>({...s,get:(e,i,a)=>o_(e,i)||s.get(e,i,a),has:(e,i)=>!!o_(e,i)||s.has(e,i)}));class _2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(v2(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function v2(s){return s.getComponent()?.type==="VERSION"}const lm="@firebase/app",l_="0.14.6";const ps=new Om("@firebase/app"),E2="@firebase/app-compat",T2="@firebase/analytics-compat",b2="@firebase/analytics",S2="@firebase/app-check-compat",A2="@firebase/app-check",w2="@firebase/auth",x2="@firebase/auth-compat",R2="@firebase/database",C2="@firebase/data-connect",N2="@firebase/database-compat",I2="@firebase/functions",D2="@firebase/functions-compat",M2="@firebase/installations",O2="@firebase/installations-compat",V2="@firebase/messaging",k2="@firebase/messaging-compat",j2="@firebase/performance",U2="@firebase/performance-compat",L2="@firebase/remote-config",P2="@firebase/remote-config-compat",z2="@firebase/storage",B2="@firebase/storage-compat",q2="@firebase/firestore",H2="@firebase/ai",F2="@firebase/firestore-compat",G2="firebase",Q2="12.6.0";const um="[DEFAULT]",Y2={[lm]:"fire-core",[E2]:"fire-core-compat",[b2]:"fire-analytics",[T2]:"fire-analytics-compat",[A2]:"fire-app-check",[S2]:"fire-app-check-compat",[w2]:"fire-auth",[x2]:"fire-auth-compat",[R2]:"fire-rtdb",[C2]:"fire-data-connect",[N2]:"fire-rtdb-compat",[I2]:"fire-fn",[D2]:"fire-fn-compat",[M2]:"fire-iid",[O2]:"fire-iid-compat",[V2]:"fire-fcm",[k2]:"fire-fcm-compat",[j2]:"fire-perf",[U2]:"fire-perf-compat",[L2]:"fire-rc",[P2]:"fire-rc-compat",[z2]:"fire-gcs",[B2]:"fire-gcs-compat",[q2]:"fire-fst",[F2]:"fire-fst-compat",[H2]:"fire-vertex","fire-js":"fire-js",[G2]:"fire-js-all"};const $c=new Map,K2=new Map,cm=new Map;function u_(s,e){try{s.container.addComponent(e)}catch(i){ps.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function co(s){const e=s.name;if(cm.has(e))return ps.debug(`There were multiple attempts to register component ${e}.`),!1;cm.set(e,s);for(const i of $c.values())u_(i,s);for(const i of K2.values())u_(i,s);return!0}function km(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function Jn(s){return s==null?!1:s.settings!==void 0}const X2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},lr=new Kl("app","Firebase",X2);class $2{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new aa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw lr.create("app-deleted",{appName:this._name})}}const vo=Q2;function Wv(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a={name:um,automaticDataCollectionEnabled:!0,...e},l=a.name;if(typeof l!="string"||!l)throw lr.create("bad-app-name",{appName:String(l)});if(i||(i=Yv()),!i)throw lr.create("no-options");const c=$c.get(l);if(c){if(ra(i,c.options)&&ra(a,c.config))return c;throw lr.create("duplicate-app",{appName:l})}const d=new n2(l);for(const y of cm.values())d.addComponent(y);const p=new $2(i,a,d);return $c.set(l,p),p}function e1(s=um){const e=$c.get(s);if(!e&&s===um&&Yv())return Wv();if(!e)throw lr.create("no-app",{appName:s});return e}function ur(s,e,i){let a=Y2[s]??s;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${e}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ps.warn(d.join(" "));return}co(new aa(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const Z2="firebase-heartbeat-database",J2=1,Ll="firebase-heartbeat-store";let Kd=null;function t1(){return Kd||(Kd=g2(Z2,J2,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Ll)}catch(i){console.warn(i)}}}}).catch(s=>{throw lr.create("idb-open",{originalErrorMessage:s.message})})),Kd}async function W2(s){try{const i=(await t1()).transaction(Ll),a=await i.objectStore(Ll).get(n1(s));return await i.done,a}catch(e){if(e instanceof Ts)ps.warn(e.message);else{const i=lr.create("idb-get",{originalErrorMessage:e?.message});ps.warn(i.message)}}}async function c_(s,e){try{const a=(await t1()).transaction(Ll,"readwrite");await a.objectStore(Ll).put(e,n1(s)),await a.done}catch(i){if(i instanceof Ts)ps.warn(i.message);else{const a=lr.create("idb-set",{originalErrorMessage:i?.message});ps.warn(a.message)}}}function n1(s){return`${s.name}!${s.options.appId}`}const ew=1024,tw=30;class nw{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new sw(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=h_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>tw){const l=rw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ps.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=h_(),{heartbeatsToSend:i,unsentEntries:a}=iw(this._heartbeatsCache.heartbeats),l=Xc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return ps.warn(e),""}}}function h_(){return new Date().toISOString().substring(0,10)}function iw(s,e=ew){const i=[];let a=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),f_(i)>e){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),f_(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class sw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return FA()?GA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await W2(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return c_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return c_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function f_(s){return Xc(JSON.stringify({version:2,heartbeats:s})).length}function rw(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}function aw(s){co(new aa("platform-logger",e=>new _2(e),"PRIVATE")),co(new aa("heartbeat",e=>new nw(e),"PRIVATE")),ur(lm,l_,s),ur(lm,l_,"esm2020"),ur("fire-js","")}aw("");var ow="firebase",lw="12.7.0";ur(ow,lw,"app");function i1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const uw=i1,s1=new Kl("auth","Firebase",i1());const Zc=new Om("@firebase/auth");function cw(s,...e){Zc.logLevel<=qe.WARN&&Zc.warn(`Auth (${vo}): ${s}`,...e)}function Pc(s,...e){Zc.logLevel<=qe.ERROR&&Zc.error(`Auth (${vo}): ${s}`,...e)}function qi(s,...e){throw Um(s,...e)}function mi(s,...e){return Um(s,...e)}function jm(s,e,i){const a={...uw(),[e]:i};return new Kl("auth","Firebase",a).create(e,{appName:s.name})}function cr(s){return jm(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function hw(s,e,i){const a=i;if(!(e instanceof a))throw a.name!==e.constructor.name&&qi(s,"argument-error"),jm(s,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Um(s,...e){if(typeof s!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return s1.create(s,...e)}function be(s,e,...i){if(!s)throw Um(e,...i)}function ms(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Pc(e),new Error(e)}function ys(s,e){s||ms(e)}function hm(){return typeof self<"u"&&self.location?.href||""}function fw(){return d_()==="http:"||d_()==="https:"}function d_(){return typeof self<"u"&&self.location?.protocol||null}function dw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(fw()||zA()||"connection"in navigator)?navigator.onLine:!0}function mw(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class $l{constructor(e,i){this.shortDelay=e,this.longDelay=i,ys(i>e,"Short delay should be less than long delay!"),this.isMobile=UA()||BA()}get(){return dw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Lm(s,e){ys(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class r1{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ms("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ms("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ms("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const gw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const pw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],yw=new $l(3e4,6e4);function yh(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function Eo(s,e,i,a,l={}){return a1(s,l,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const p=Xl({key:s.config.apiKey,...d}).slice(1),y=await s._getAdditionalHeaders();y["Content-Type"]="application/json",s.languageCode&&(y["X-Firebase-Locale"]=s.languageCode);const _={method:e,headers:y,...c};return PA()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&_o(s.emulatorConfig.host)&&(_.credentials="include"),r1.fetch()(await l1(s,s.config.apiHost,i,p),_)})}async function a1(s,e,i){s._canInitEmulator=!1;const a={...gw,...e};try{const l=new _w(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Oc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[y,_]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Oc(s,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Oc(s,"email-already-in-use",d);if(y==="USER_DISABLED")throw Oc(s,"user-disabled",d);const S=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw jm(s,S,_);qi(s,S)}}catch(l){if(l instanceof Ts)throw l;qi(s,"network-request-failed",{message:String(l)})}}async function o1(s,e,i,a,l={}){const c=await Eo(s,e,i,a,l);return"mfaPendingCredential"in c&&qi(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function l1(s,e,i,a){const l=`${e}${i}?${a}`,c=s,d=c.config.emulator?Lm(s.config,l):`${s.config.apiScheme}://${l}`;return pw.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class _w{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(mi(this.auth,"network-request-failed")),yw.get())})}}function Oc(s,e,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=mi(s,e,a);return l.customData._tokenResponse=i,l}async function vw(s,e){return Eo(s,"POST","/v1/accounts:delete",e)}async function Jc(s,e){return Eo(s,"POST","/v1/accounts:lookup",e)}function Ol(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Ew(s,e=!1){const i=Gt(s),a=await i.getIdToken(e),l=Pm(a);be(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Ol(Xd(l.auth_time)),issuedAtTime:Ol(Xd(l.iat)),expirationTime:Ol(Xd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Xd(s){return Number(s)*1e3}function Pm(s){const[e,i,a]=s.split(".");if(e===void 0||i===void 0||a===void 0)return Pc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Gv(i);return l?JSON.parse(l):(Pc("Failed to decode base64 JWT payload"),null)}catch(l){return Pc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function m_(s){const e=Pm(s);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Pl(s,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof Ts&&Tw(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function Tw({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class bw{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class fm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ol(this.lastLoginAt),this.creationTime=Ol(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Wc(s){const e=s.auth,i=await s.getIdToken(),a=await Pl(s,Jc(e,{idToken:i}));be(a?.users.length,e,"internal-error");const l=a.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?u1(l.providerUserInfo):[],d=Aw(s.providerData,c),p=s.isAnonymous,y=!(s.email&&l.passwordHash)&&!d?.length,_=p?y:!1,S={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new fm(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(s,S)}async function Sw(s){const e=Gt(s);await Wc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Aw(s,e){return[...s.filter(a=>!e.some(l=>l.providerId===a.providerId)),...e]}function u1(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function ww(s,e){const i=await a1(s,{},async()=>{const a=Xl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await l1(s,l,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:a};return s.emulatorConfig&&_o(s.emulatorConfig.host)&&(y.credentials="include"),r1.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function xw(s,e){return Eo(s,"POST","/v2/accounts:revokeToken",yh(s,e))}class ro{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):m_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){be(e.length!==0,"internal-error");const i=m_(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await ww(e,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new ro;return a&&(be(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),l&&(be(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(be(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ro,this.toJSON())}_performRefresh(){return ms("not implemented")}}function nr(s,e){be(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class di{constructor({uid:e,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new bw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new fm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await Pl(this,this.stsTokenManager.getToken(this.auth,e));return be(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return Ew(this,e)}reload(){return Sw(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new di({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await Wc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Jn(this.auth.app))return Promise.reject(cr(this.auth));const e=await this.getIdToken();return await Pl(this,vw(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,S=i.lastLoginAt??void 0,{uid:A,emailVerified:M,isAnonymous:U,providerData:G,stsTokenManager:ee}=i;be(A&&ee,e,"internal-error");const Z=ro.fromJSON(this.name,ee);be(typeof A=="string",e,"internal-error"),nr(a,e.name),nr(l,e.name),be(typeof M=="boolean",e,"internal-error"),be(typeof U=="boolean",e,"internal-error"),nr(c,e.name),nr(d,e.name),nr(p,e.name),nr(y,e.name),nr(_,e.name),nr(S,e.name);const he=new di({uid:A,auth:e,email:l,emailVerified:M,displayName:a,isAnonymous:U,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:Z,createdAt:_,lastLoginAt:S});return G&&Array.isArray(G)&&(he.providerData=G.map(fe=>({...fe}))),y&&(he._redirectEventId=y),he}static async _fromIdTokenResponse(e,i,a=!1){const l=new ro;l.updateFromServerResponse(i);const c=new di({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:a});return await Wc(c),c}static async _fromGetAccountInfoResponse(e,i,a){const l=i.users[0];be(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?u1(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new ro;p.updateFromIdToken(a);const y=new di({uid:l.localId,auth:e,stsTokenManager:p,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new fm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(y,_),y}}const g_=new Map;function gs(s){ys(s instanceof Function,"Expected a class definition");let e=g_.get(s);return e?(ys(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,g_.set(s,e),e)}class c1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}c1.type="NONE";const p_=c1;function zc(s,e,i){return`firebase:${s}:${e}:${i}`}class ao{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=zc(this.userKey,l.apiKey,c),this.fullPersistenceKey=zc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Jc(this.auth,{idToken:e}).catch(()=>{});return i?di._fromGetAccountInfoResponse(this.auth,i,e):null}return di._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new ao(gs(p_),e,a);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||gs(p_);const d=zc(a,e.config.apiKey,e.name);let p=null;for(const _ of i)try{const S=await _._get(d);if(S){let A;if(typeof S=="string"){const M=await Jc(e,{idToken:S}).catch(()=>{});if(!M)break;A=await di._fromGetAccountInfoResponse(e,M,S)}else A=di._fromJSON(e,S);_!==c&&(p=A),c=_;break}}catch{}const y=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new ao(c,e,a):(c=y[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new ao(c,e,a))}}function y_(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(m1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(h1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(p1(e))return"Blackberry";if(y1(e))return"Webos";if(f1(e))return"Safari";if((e.includes("chrome/")||d1(e))&&!e.includes("edge/"))return"Chrome";if(g1(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function h1(s=cn()){return/firefox\//i.test(s)}function f1(s=cn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function d1(s=cn()){return/crios\//i.test(s)}function m1(s=cn()){return/iemobile/i.test(s)}function g1(s=cn()){return/android/i.test(s)}function p1(s=cn()){return/blackberry/i.test(s)}function y1(s=cn()){return/webos/i.test(s)}function zm(s=cn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function Rw(s=cn()){return zm(s)&&!!window.navigator?.standalone}function Cw(){return qA()&&document.documentMode===10}function _1(s=cn()){return zm(s)||g1(s)||y1(s)||p1(s)||/windows phone/i.test(s)||m1(s)}function v1(s,e=[]){let i;switch(s){case"Browser":i=y_(cn());break;case"Worker":i=`${y_(cn())}-${s}`;break;default:i=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${vo}/${a}`}class Nw{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((d,p)=>{try{const y=e(c);d(y)}catch(y){p(y)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function Iw(s,e={}){return Eo(s,"GET","/v2/passwordPolicy",yh(s,e))}const Dw=6;class Mw{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??Dw,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<e.length;l++)a=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class Ow{constructor(e,i,a,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new __(this),this.idTokenSubscription=new __(this),this.beforeStateQueue=new Nw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=s1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=gs(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ao.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Jc(this,{idToken:e}),a=await di._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Jn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await Wc(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=mw()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Jn(this.app))return Promise.reject(cr(this));const i=e?Gt(e):null;return i&&be(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Jn(this.app)?Promise.reject(cr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Jn(this.app)?Promise.reject(cr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Iw(this),i=new Mw(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Kl("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await xw(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&gs(e)||this._popupRedirectResolver;be(i,this,"argument-error"),this.redirectPersistenceManager=await ao.create(this,[gs(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=e.addObserver(i,a,l);return()=>{d=!0,y()}}else{const y=e.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=v1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(Jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&cw(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Zl(s){return Gt(s)}class __{constructor(e){this.auth=e,this.observer=null,this.addObserver=$A(i=>this.observer=i)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Bm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Vw(s){Bm=s}function kw(s){return Bm.loadJS(s)}function jw(){return Bm.gapiScript}function Uw(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function Lw(s,e){const i=km(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(ra(c,e??{}))return l;qi(l,"already-initialized")}return i.initialize({options:e})}function Pw(s,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(gs);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e?.popupRedirectResolver)}function zw(s,e,i){const a=Zl(s);be(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const l=!1,c=E1(e),{host:d,port:p}=Bw(e),y=p===null?"":`:${p}`,_={url:`${c}//${d}${y}/`},S=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){be(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),be(ra(_,a.config.emulator)&&ra(S,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=S,a.settings.appVerificationDisabledForTesting=!0,_o(d)?(Xv(`${c}//${d}${y}`),$v("Auth",!0)):qw()}function E1(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function Bw(s){const e=E1(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:v_(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:v_(d)}}}function v_(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function qw(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class T1{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return ms("not implemented")}_getIdTokenResponse(e){return ms("not implemented")}_linkToIdToken(e,i){return ms("not implemented")}_getReauthenticationResolver(e){return ms("not implemented")}}async function oo(s,e){return o1(s,"POST","/v1/accounts:signInWithIdp",yh(s,e))}const Hw="http://localhost";class oa extends T1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new oa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):qi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new oa(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return oo(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,oo(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,oo(e,i)}buildRequest(){const e={requestUri:Hw,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Xl(i)}return e}}class qm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Jl extends qm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ir extends Jl{constructor(){super("facebook.com")}static credential(e){return oa._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ir.credentialFromTaggedObject(e)}static credentialFromError(e){return ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ir.credential(e.oauthAccessToken)}catch{return null}}}ir.FACEBOOK_SIGN_IN_METHOD="facebook.com";ir.PROVIDER_ID="facebook.com";class ds extends Jl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return oa._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return ds.credentialFromTaggedObject(e)}static credentialFromError(e){return ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return ds.credential(i,a)}catch{return null}}}ds.GOOGLE_SIGN_IN_METHOD="google.com";ds.PROVIDER_ID="google.com";class sr extends Jl{constructor(){super("github.com")}static credential(e){return oa._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return sr.credentialFromTaggedObject(e)}static credentialFromError(e){return sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return sr.credential(e.oauthAccessToken)}catch{return null}}}sr.GITHUB_SIGN_IN_METHOD="github.com";sr.PROVIDER_ID="github.com";class rr extends Jl{constructor(){super("twitter.com")}static credential(e,i){return oa._fromParams({providerId:rr.PROVIDER_ID,signInMethod:rr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return rr.credentialFromTaggedObject(e)}static credentialFromError(e){return rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return rr.credential(i,a)}catch{return null}}}rr.TWITTER_SIGN_IN_METHOD="twitter.com";rr.PROVIDER_ID="twitter.com";async function Fw(s,e){return o1(s,"POST","/v1/accounts:signUp",yh(s,e))}class mr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,l=!1){const c=await di._fromIdTokenResponse(e,a,l),d=E_(a);return new mr({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const l=E_(a);return new mr({user:e,providerId:l,_tokenResponse:a,operationType:i})}}function E_(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function Gw(s){if(Jn(s.app))return Promise.reject(cr(s));const e=Zl(s);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new mr({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await Fw(e,{returnSecureToken:!0}),a=await mr._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(a.user),a}class eh extends Ts{constructor(e,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,eh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,l){return new eh(e,i,a,l)}}function b1(s,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?eh._fromErrorAndOperation(s,c,e,a):c})}async function Qw(s,e,i=!1){const a=await Pl(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return mr._forOperation(s,"link",a)}async function Yw(s,e,i=!1){const{auth:a}=s;if(Jn(a.app))return Promise.reject(cr(a));const l="reauthenticate";try{const c=await Pl(s,b1(a,l,e,s),i);be(c.idToken,a,"internal-error");const d=Pm(c.idToken);be(d,a,"internal-error");const{sub:p}=d;return be(s.uid===p,a,"user-mismatch"),mr._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&qi(a,"user-mismatch"),c}}async function Kw(s,e,i=!1){if(Jn(s.app))return Promise.reject(cr(s));const a="signIn",l=await b1(s,a,e),c=await mr._fromIdTokenResponse(s,a,l);return i||await s._updateCurrentUser(c.user),c}function Xw(s,e,i,a){return Gt(s).onIdTokenChanged(e,i,a)}function $w(s,e,i){return Gt(s).beforeAuthStateChanged(e,i)}function Zw(s,e,i,a){return Gt(s).onAuthStateChanged(e,i,a)}function Jw(s){return Gt(s).signOut()}const th="__sak";class S1{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(th,"1"),this.storage.removeItem(th),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ww=1e3,ex=10;class A1 extends S1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&e(i,l,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const a=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);Cw()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,ex):l()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},Ww)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}A1.type="LOCAL";const tx=A1;class w1 extends S1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}w1.type="SESSION";const x1=w1;function nx(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class _h{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const a=new _h(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async _=>_(i.origin,c)),y=await nx(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:y})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_h.receivers=[];function Hm(s="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return s+i}class ix{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,y)=>{const _=Hm("",20);l.port1.start();const S=setTimeout(()=>{y(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(A){const M=A;if(M.data.eventId===_)switch(M.data.status){case"ack":clearTimeout(S),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(M.data.response);break;default:clearTimeout(S),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ui(){return window}function sx(s){Ui().location.href=s}function R1(){return typeof Ui().WorkerGlobalScope<"u"&&typeof Ui().importScripts=="function"}async function rx(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ax(){return navigator?.serviceWorker?.controller||null}function ox(){return R1()?self:null}const C1="firebaseLocalStorageDb",lx=1,nh="firebaseLocalStorage",N1="fbase_key";class Wl{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function vh(s,e){return s.transaction([nh],e?"readwrite":"readonly").objectStore(nh)}function ux(){const s=indexedDB.deleteDatabase(C1);return new Wl(s).toPromise()}function dm(){const s=indexedDB.open(C1,lx);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(nh,{keyPath:N1})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(nh)?e(a):(a.close(),await ux(),e(await dm()))})})}async function T_(s,e,i){const a=vh(s,!0).put({[N1]:e,value:i});return new Wl(a).toPromise()}async function cx(s,e){const i=vh(s,!1).get(e),a=await new Wl(i).toPromise();return a===void 0?null:a.value}function b_(s,e){const i=vh(s,!0).delete(e);return new Wl(i).toPromise()}const hx=800,fx=3;class I1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await dm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>fx)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return R1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_h._getInstance(ox()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await rx(),!this.activeServiceWorker)return;this.sender=new ix(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ax()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await dm();return await T_(e,th,"1"),await b_(e,th),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>T_(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>cx(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>b_(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=vh(l,!1).getAll();return new Wl(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),hx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}I1.type="LOCAL";const dx=I1;new $l(3e4,6e4);function D1(s,e){return e?gs(e):(be(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Fm extends T1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return oo(e,this._buildIdpRequest())}_linkToIdToken(e,i){return oo(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return oo(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function mx(s){return Kw(s.auth,new Fm(s),s.bypassAuthState)}function gx(s){const{auth:e,user:i}=s;return be(i,e,"internal-error"),Yw(i,new Fm(s),s.bypassAuthState)}async function px(s){const{auth:e,user:i}=s;return be(i,e,"internal-error"),Qw(i,new Fm(s),s.bypassAuthState)}class M1{constructor(e,i,a,l,c=!1){this.auth=e,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=e;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return mx;case"linkViaPopup":case"linkViaRedirect":return px;case"reauthViaPopup":case"reauthViaRedirect":return gx;default:qi(this.auth,"internal-error")}}resolve(e){ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const yx=new $l(2e3,1e4);async function _x(s,e,i){if(Jn(s.app))return Promise.reject(mi(s,"operation-not-supported-in-this-environment"));const a=Zl(s);hw(s,e,qm);const l=D1(a,i);return new ta(a,"signInViaPopup",e,l).executeNotNull()}class ta extends M1{constructor(e,i,a,l,c){super(e,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,ta.currentPopupAction&&ta.currentPopupAction.cancel(),ta.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){ys(this.filter.length===1,"Popup operations only handle one event");const e=Hm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(mi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(mi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ta.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(mi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,yx.get())};e()}}ta.currentPopupAction=null;const vx="pendingRedirect",Bc=new Map;class Ex extends M1{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=Bc.get(this.auth._key());if(!e){try{const a=await Tx(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}Bc.set(this.auth._key(),e)}return this.bypassAuthState||Bc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Tx(s,e){const i=Ax(e),a=Sx(s);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function bx(s,e){Bc.set(s._key(),e)}function Sx(s){return gs(s._redirectPersistence)}function Ax(s){return zc(vx,s.config.apiKey,s.name)}async function wx(s,e,i=!1){if(Jn(s.app))return Promise.reject(cr(s));const a=Zl(s),l=D1(a,e),d=await new Ex(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const xx=600*1e3;class Rx{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Cx(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!O1(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(mi(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=xx&&this.cachedEventUids.clear(),this.cachedEventUids.has(S_(e))}saveEventToCache(e){this.cachedEventUids.add(S_(e)),this.lastProcessedEventTime=Date.now()}}function S_(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function O1({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function Cx(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return O1(s);default:return!1}}async function Nx(s,e={}){return Eo(s,"GET","/v1/projects",e)}const Ix=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Dx=/^https?/;async function Mx(s){if(s.config.emulator)return;const{authorizedDomains:e}=await Nx(s);for(const i of e)try{if(Ox(i))return}catch{}qi(s,"unauthorized-domain")}function Ox(s){const e=hm(),{protocol:i,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!Dx.test(i))return!1;if(Ix.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const Vx=new $l(3e4,6e4);function A_(){const s=Ui().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function kx(s){return new Promise((e,i)=>{function a(){A_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{A_(),i(mi(s,"network-request-failed"))},timeout:Vx.get()})}if(Ui().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ui().gapi?.load)a();else{const l=Uw("iframefcb");return Ui()[l]=()=>{gapi.load?a():i(mi(s,"network-request-failed"))},kw(`${jw()}?onload=${l}`).catch(c=>i(c))}}).catch(e=>{throw qc=null,e})}let qc=null;function jx(s){return qc=qc||kx(s),qc}const Ux=new $l(5e3,15e3),Lx="__/auth/iframe",Px="emulator/auth/iframe",zx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Bx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qx(s){const e=s.config;be(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?Lm(e,Px):`https://${s.config.authDomain}/${Lx}`,a={apiKey:e.apiKey,appName:s.name,v:vo},l=Bx.get(s.config.apiHost);l&&(a.eid=l);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Xl(a).slice(1)}`}async function Hx(s){const e=await jx(s),i=Ui().gapi;return be(i,s,"internal-error"),e.open({where:document.body,url:qx(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zx,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=mi(s,"network-request-failed"),p=Ui().setTimeout(()=>{c(d)},Ux.get());function y(){Ui().clearTimeout(p),l(a)}a.ping(y).then(y,()=>{c(d)})}))}const Fx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Gx=500,Qx=600,Yx="_blank",Kx="http://localhost";class w_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Xx(s,e,i,a=Gx,l=Qx){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const y={...Fx,width:a.toString(),height:l.toString(),top:c,left:d},_=cn().toLowerCase();i&&(p=d1(_)?Yx:i),h1(_)&&(e=e||Kx,y.scrollbars="yes");const S=Object.entries(y).reduce((M,[U,G])=>`${M}${U}=${G},`,"");if(Rw(_)&&p!=="_self")return $x(e||"",p),new w_(null);const A=window.open(e||"",p,S);be(A,s,"popup-blocked");try{A.focus()}catch{}return new w_(A)}function $x(s,e){const i=document.createElement("a");i.href=s,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const Zx="__/auth/handler",Jx="emulator/auth/handler",Wx=encodeURIComponent("fac");async function x_(s,e,i,a,l,c){be(s.config.authDomain,s,"auth-domain-config-required"),be(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:vo,eventId:l};if(e instanceof qm){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",XA(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[S,A]of Object.entries({}))d[S]=A}if(e instanceof Jl){const S=e.getScopes().filter(A=>A!=="");S.length>0&&(d.scopes=S.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const S of Object.keys(p))p[S]===void 0&&delete p[S];const y=await s._getAppCheckToken(),_=y?`#${Wx}=${encodeURIComponent(y)}`:"";return`${eR(s)}?${Xl(p).slice(1)}${_}`}function eR({config:s}){return s.emulator?Lm(s,Jx):`https://${s.authDomain}/${Zx}`}const $d="webStorageSupport";class tR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=x1,this._completeRedirectFn=wx,this._overrideRedirectResult=bx}async _openPopup(e,i,a,l){ys(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await x_(e,i,a,hm(),l);return Xx(e,c,Hm())}async _openRedirect(e,i,a,l){await this._originValidation(e);const c=await x_(e,i,a,hm(),l);return sx(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(ys(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await Hx(e),a=new Rx(e);return i.register("authEvent",l=>(be(l?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send($d,{type:$d},l=>{const c=l?.[0]?.[$d];c!==void 0&&i(!!c),qi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Mx(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return _1()||f1()||zm()}}const nR=tR;var R_="@firebase/auth",C_="1.12.0";class iR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function sR(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function rR(s){co(new aa("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;be(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:v1(s)},_=new Ow(a,l,c,y);return Pw(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),co(new aa("auth-internal",e=>{const i=Zl(e.getProvider("auth").getImmediate());return(a=>new iR(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),ur(R_,C_,sR(s)),ur(R_,C_,"esm2020")}const aR=300,oR=Kv("authIdTokenMaxAge")||aR;let N_=null;const lR=s=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>oR)return;const l=i?.token;N_!==l&&(N_=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function uR(s=e1()){const e=km(s,"auth");if(e.isInitialized())return e.getImmediate();const i=Lw(s,{popupRedirectResolver:nR,persistence:[dx,tx,x1]}),a=Kv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=lR(c.toString());$w(i,d,()=>d(i.currentUser)),Xw(i,p=>d(p))}}const l=Qv("auth");return l&&zw(i,`http://${l}`),i}function cR(){return document.getElementsByTagName("head")?.[0]??document}Vw({loadJS(s){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=l=>{const c=mi("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",cR().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});rR("Browser");var I_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var hr,V1;(function(){var s;function e(N,w){function R(){}R.prototype=w.prototype,N.F=w.prototype,N.prototype=new R,N.prototype.constructor=N,N.D=function(V,I,j){for(var x=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)x[Ye-2]=arguments[Ye];return w.prototype[I].apply(V,x)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(N,w,R){R||(R=0);const V=Array(16);if(typeof w=="string")for(var I=0;I<16;++I)V[I]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(I=0;I<16;++I)V[I]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=N.g[0],R=N.g[1],I=N.g[2];let j=N.g[3],x;x=w+(j^R&(I^j))+V[0]+3614090360&4294967295,w=R+(x<<7&4294967295|x>>>25),x=j+(I^w&(R^I))+V[1]+3905402710&4294967295,j=w+(x<<12&4294967295|x>>>20),x=I+(R^j&(w^R))+V[2]+606105819&4294967295,I=j+(x<<17&4294967295|x>>>15),x=R+(w^I&(j^w))+V[3]+3250441966&4294967295,R=I+(x<<22&4294967295|x>>>10),x=w+(j^R&(I^j))+V[4]+4118548399&4294967295,w=R+(x<<7&4294967295|x>>>25),x=j+(I^w&(R^I))+V[5]+1200080426&4294967295,j=w+(x<<12&4294967295|x>>>20),x=I+(R^j&(w^R))+V[6]+2821735955&4294967295,I=j+(x<<17&4294967295|x>>>15),x=R+(w^I&(j^w))+V[7]+4249261313&4294967295,R=I+(x<<22&4294967295|x>>>10),x=w+(j^R&(I^j))+V[8]+1770035416&4294967295,w=R+(x<<7&4294967295|x>>>25),x=j+(I^w&(R^I))+V[9]+2336552879&4294967295,j=w+(x<<12&4294967295|x>>>20),x=I+(R^j&(w^R))+V[10]+4294925233&4294967295,I=j+(x<<17&4294967295|x>>>15),x=R+(w^I&(j^w))+V[11]+2304563134&4294967295,R=I+(x<<22&4294967295|x>>>10),x=w+(j^R&(I^j))+V[12]+1804603682&4294967295,w=R+(x<<7&4294967295|x>>>25),x=j+(I^w&(R^I))+V[13]+4254626195&4294967295,j=w+(x<<12&4294967295|x>>>20),x=I+(R^j&(w^R))+V[14]+2792965006&4294967295,I=j+(x<<17&4294967295|x>>>15),x=R+(w^I&(j^w))+V[15]+1236535329&4294967295,R=I+(x<<22&4294967295|x>>>10),x=w+(I^j&(R^I))+V[1]+4129170786&4294967295,w=R+(x<<5&4294967295|x>>>27),x=j+(R^I&(w^R))+V[6]+3225465664&4294967295,j=w+(x<<9&4294967295|x>>>23),x=I+(w^R&(j^w))+V[11]+643717713&4294967295,I=j+(x<<14&4294967295|x>>>18),x=R+(j^w&(I^j))+V[0]+3921069994&4294967295,R=I+(x<<20&4294967295|x>>>12),x=w+(I^j&(R^I))+V[5]+3593408605&4294967295,w=R+(x<<5&4294967295|x>>>27),x=j+(R^I&(w^R))+V[10]+38016083&4294967295,j=w+(x<<9&4294967295|x>>>23),x=I+(w^R&(j^w))+V[15]+3634488961&4294967295,I=j+(x<<14&4294967295|x>>>18),x=R+(j^w&(I^j))+V[4]+3889429448&4294967295,R=I+(x<<20&4294967295|x>>>12),x=w+(I^j&(R^I))+V[9]+568446438&4294967295,w=R+(x<<5&4294967295|x>>>27),x=j+(R^I&(w^R))+V[14]+3275163606&4294967295,j=w+(x<<9&4294967295|x>>>23),x=I+(w^R&(j^w))+V[3]+4107603335&4294967295,I=j+(x<<14&4294967295|x>>>18),x=R+(j^w&(I^j))+V[8]+1163531501&4294967295,R=I+(x<<20&4294967295|x>>>12),x=w+(I^j&(R^I))+V[13]+2850285829&4294967295,w=R+(x<<5&4294967295|x>>>27),x=j+(R^I&(w^R))+V[2]+4243563512&4294967295,j=w+(x<<9&4294967295|x>>>23),x=I+(w^R&(j^w))+V[7]+1735328473&4294967295,I=j+(x<<14&4294967295|x>>>18),x=R+(j^w&(I^j))+V[12]+2368359562&4294967295,R=I+(x<<20&4294967295|x>>>12),x=w+(R^I^j)+V[5]+4294588738&4294967295,w=R+(x<<4&4294967295|x>>>28),x=j+(w^R^I)+V[8]+2272392833&4294967295,j=w+(x<<11&4294967295|x>>>21),x=I+(j^w^R)+V[11]+1839030562&4294967295,I=j+(x<<16&4294967295|x>>>16),x=R+(I^j^w)+V[14]+4259657740&4294967295,R=I+(x<<23&4294967295|x>>>9),x=w+(R^I^j)+V[1]+2763975236&4294967295,w=R+(x<<4&4294967295|x>>>28),x=j+(w^R^I)+V[4]+1272893353&4294967295,j=w+(x<<11&4294967295|x>>>21),x=I+(j^w^R)+V[7]+4139469664&4294967295,I=j+(x<<16&4294967295|x>>>16),x=R+(I^j^w)+V[10]+3200236656&4294967295,R=I+(x<<23&4294967295|x>>>9),x=w+(R^I^j)+V[13]+681279174&4294967295,w=R+(x<<4&4294967295|x>>>28),x=j+(w^R^I)+V[0]+3936430074&4294967295,j=w+(x<<11&4294967295|x>>>21),x=I+(j^w^R)+V[3]+3572445317&4294967295,I=j+(x<<16&4294967295|x>>>16),x=R+(I^j^w)+V[6]+76029189&4294967295,R=I+(x<<23&4294967295|x>>>9),x=w+(R^I^j)+V[9]+3654602809&4294967295,w=R+(x<<4&4294967295|x>>>28),x=j+(w^R^I)+V[12]+3873151461&4294967295,j=w+(x<<11&4294967295|x>>>21),x=I+(j^w^R)+V[15]+530742520&4294967295,I=j+(x<<16&4294967295|x>>>16),x=R+(I^j^w)+V[2]+3299628645&4294967295,R=I+(x<<23&4294967295|x>>>9),x=w+(I^(R|~j))+V[0]+4096336452&4294967295,w=R+(x<<6&4294967295|x>>>26),x=j+(R^(w|~I))+V[7]+1126891415&4294967295,j=w+(x<<10&4294967295|x>>>22),x=I+(w^(j|~R))+V[14]+2878612391&4294967295,I=j+(x<<15&4294967295|x>>>17),x=R+(j^(I|~w))+V[5]+4237533241&4294967295,R=I+(x<<21&4294967295|x>>>11),x=w+(I^(R|~j))+V[12]+1700485571&4294967295,w=R+(x<<6&4294967295|x>>>26),x=j+(R^(w|~I))+V[3]+2399980690&4294967295,j=w+(x<<10&4294967295|x>>>22),x=I+(w^(j|~R))+V[10]+4293915773&4294967295,I=j+(x<<15&4294967295|x>>>17),x=R+(j^(I|~w))+V[1]+2240044497&4294967295,R=I+(x<<21&4294967295|x>>>11),x=w+(I^(R|~j))+V[8]+1873313359&4294967295,w=R+(x<<6&4294967295|x>>>26),x=j+(R^(w|~I))+V[15]+4264355552&4294967295,j=w+(x<<10&4294967295|x>>>22),x=I+(w^(j|~R))+V[6]+2734768916&4294967295,I=j+(x<<15&4294967295|x>>>17),x=R+(j^(I|~w))+V[13]+1309151649&4294967295,R=I+(x<<21&4294967295|x>>>11),x=w+(I^(R|~j))+V[4]+4149444226&4294967295,w=R+(x<<6&4294967295|x>>>26),x=j+(R^(w|~I))+V[11]+3174756917&4294967295,j=w+(x<<10&4294967295|x>>>22),x=I+(w^(j|~R))+V[2]+718787259&4294967295,I=j+(x<<15&4294967295|x>>>17),x=R+(j^(I|~w))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+w&4294967295,N.g[1]=N.g[1]+(I+(x<<21&4294967295|x>>>11))&4294967295,N.g[2]=N.g[2]+I&4294967295,N.g[3]=N.g[3]+j&4294967295}a.prototype.v=function(N,w){w===void 0&&(w=N.length);const R=w-this.blockSize,V=this.C;let I=this.h,j=0;for(;j<w;){if(I==0)for(;j<=R;)l(this,N,j),j+=this.blockSize;if(typeof N=="string"){for(;j<w;)if(V[I++]=N.charCodeAt(j++),I==this.blockSize){l(this,V),I=0;break}}else for(;j<w;)if(V[I++]=N[j++],I==this.blockSize){l(this,V),I=0;break}}this.h=I,this.o+=w},a.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var w=1;w<N.length-8;++w)N[w]=0;w=this.o*8;for(var R=N.length-8;R<N.length;++R)N[R]=w&255,w/=256;for(this.v(N),N=Array(16),w=0,R=0;R<4;++R)for(let V=0;V<32;V+=8)N[w++]=this.g[R]>>>V&255;return N};function c(N,w){var R=p;return Object.prototype.hasOwnProperty.call(R,N)?R[N]:R[N]=w(N)}function d(N,w){this.h=w;const R=[];let V=!0;for(let I=N.length-1;I>=0;I--){const j=N[I]|0;V&&j==w||(R[I]=j,V=!1)}this.g=R}var p={};function y(N){return-128<=N&&N<128?c(N,function(w){return new d([w|0],w<0?-1:0)}):new d([N|0],N<0?-1:0)}function _(N){if(isNaN(N)||!isFinite(N))return A;if(N<0)return Z(_(-N));const w=[];let R=1;for(let V=0;N>=R;V++)w[V]=N/R|0,R*=4294967296;return new d(w,0)}function S(N,w){if(N.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(N.charAt(0)=="-")return Z(S(N.substring(1),w));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=_(Math.pow(w,8));let V=A;for(let j=0;j<N.length;j+=8){var I=Math.min(8,N.length-j);const x=parseInt(N.substring(j,j+I),w);I<8?(I=_(Math.pow(w,I)),V=V.j(I).add(_(x))):(V=V.j(R),V=V.add(_(x)))}return V}var A=y(0),M=y(1),U=y(16777216);s=d.prototype,s.m=function(){if(ee(this))return-Z(this).m();let N=0,w=1;for(let R=0;R<this.g.length;R++){const V=this.i(R);N+=(V>=0?V:4294967296+V)*w,w*=4294967296}return N},s.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(G(this))return"0";if(ee(this))return"-"+Z(this).toString(N);const w=_(Math.pow(N,6));var R=this;let V="";for(;;){const I=De(R,w).g;R=he(R,I.j(w));let j=((R.g.length>0?R.g[0]:R.h)>>>0).toString(N);if(R=I,G(R))return j+V;for(;j.length<6;)j="0"+j;V=j+V}},s.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function G(N){if(N.h!=0)return!1;for(let w=0;w<N.g.length;w++)if(N.g[w]!=0)return!1;return!0}function ee(N){return N.h==-1}s.l=function(N){return N=he(this,N),ee(N)?-1:G(N)?0:1};function Z(N){const w=N.g.length,R=[];for(let V=0;V<w;V++)R[V]=~N.g[V];return new d(R,~N.h).add(M)}s.abs=function(){return ee(this)?Z(this):this},s.add=function(N){const w=Math.max(this.g.length,N.g.length),R=[];let V=0;for(let I=0;I<=w;I++){let j=V+(this.i(I)&65535)+(N.i(I)&65535),x=(j>>>16)+(this.i(I)>>>16)+(N.i(I)>>>16);V=x>>>16,j&=65535,x&=65535,R[I]=x<<16|j}return new d(R,R[R.length-1]&-2147483648?-1:0)};function he(N,w){return N.add(Z(w))}s.j=function(N){if(G(this)||G(N))return A;if(ee(this))return ee(N)?Z(this).j(Z(N)):Z(Z(this).j(N));if(ee(N))return Z(this.j(Z(N)));if(this.l(U)<0&&N.l(U)<0)return _(this.m()*N.m());const w=this.g.length+N.g.length,R=[];for(var V=0;V<2*w;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(let I=0;I<N.g.length;I++){const j=this.i(V)>>>16,x=this.i(V)&65535,Ye=N.i(I)>>>16,ne=N.i(I)&65535;R[2*V+2*I]+=x*ne,fe(R,2*V+2*I),R[2*V+2*I+1]+=j*ne,fe(R,2*V+2*I+1),R[2*V+2*I+1]+=x*Ye,fe(R,2*V+2*I+1),R[2*V+2*I+2]+=j*Ye,fe(R,2*V+2*I+2)}for(N=0;N<w;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=w;N<2*w;N++)R[N]=0;return new d(R,0)};function fe(N,w){for(;(N[w]&65535)!=N[w];)N[w+1]+=N[w]>>>16,N[w]&=65535,w++}function pe(N,w){this.g=N,this.h=w}function De(N,w){if(G(w))throw Error("division by zero");if(G(N))return new pe(A,A);if(ee(N))return w=De(Z(N),w),new pe(Z(w.g),Z(w.h));if(ee(w))return w=De(N,Z(w)),new pe(Z(w.g),w.h);if(N.g.length>30){if(ee(N)||ee(w))throw Error("slowDivide_ only works with positive integers.");for(var R=M,V=w;V.l(N)<=0;)R=Ve(R),V=Ve(V);var I=ke(R,1),j=ke(V,1);for(V=ke(V,2),R=ke(R,2);!G(V);){var x=j.add(V);x.l(N)<=0&&(I=I.add(R),j=x),V=ke(V,1),R=ke(R,1)}return w=he(N,I.j(w)),new pe(I,w)}for(I=A;N.l(w)>=0;){for(R=Math.max(1,Math.floor(N.m()/w.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),j=_(R),x=j.j(w);ee(x)||x.l(N)>0;)R-=V,j=_(R),x=j.j(w);G(j)&&(j=M),I=I.add(j),N=he(N,x)}return new pe(I,N)}s.B=function(N){return De(this,N).h},s.and=function(N){const w=Math.max(this.g.length,N.g.length),R=[];for(let V=0;V<w;V++)R[V]=this.i(V)&N.i(V);return new d(R,this.h&N.h)},s.or=function(N){const w=Math.max(this.g.length,N.g.length),R=[];for(let V=0;V<w;V++)R[V]=this.i(V)|N.i(V);return new d(R,this.h|N.h)},s.xor=function(N){const w=Math.max(this.g.length,N.g.length),R=[];for(let V=0;V<w;V++)R[V]=this.i(V)^N.i(V);return new d(R,this.h^N.h)};function Ve(N){const w=N.g.length+1,R=[];for(let V=0;V<w;V++)R[V]=N.i(V)<<1|N.i(V-1)>>>31;return new d(R,N.h)}function ke(N,w){const R=w>>5;w%=32;const V=N.g.length-R,I=[];for(let j=0;j<V;j++)I[j]=w>0?N.i(j+R)>>>w|N.i(j+R+1)<<32-w:N.i(j+R);return new d(I,N.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,V1=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=S,hr=d}).apply(typeof I_<"u"?I_:typeof self<"u"?self:typeof window<"u"?window:{});var Vc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var k1,Cl,j1,Hc,mm,U1,L1,P1;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vc=="object"&&Vc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)e:{var v=a;u=u.split(".");for(var b=0;b<u.length-1;b++){var L=u[b];if(!(L in v))break e;v=v[L]}u=u[u.length-1],b=v[u],m=m(b),m!=b&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&v.push([b,m[b]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function S(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function A(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(b,L,H){for(var ie=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)ie[Ne-2]=arguments[Ne];return m.prototype[L].apply(b,ie)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function U(u){const m=u.length;if(m>0){const v=Array(m);for(let b=0;b<m;b++)v[b]=u[b];return v}return[]}function G(u,m){for(let b=1;b<arguments.length;b++){const L=arguments[b];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const H=L.length||0;u.length=v+H;for(let ie=0;ie<H;ie++)u[v+ie]=L[ie]}else u.push(L)}}class ee{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Z(u){d.setTimeout(()=>{throw u},0)}function he(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class fe{constructor(){this.h=this.g=null}add(m,v){const b=pe.get();b.set(m,v),this.h?this.h.next=b:this.g=b,this.h=b}}var pe=new ee(()=>new De,u=>u.reset());class De{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Ve,ke=!1,N=new fe,w=()=>{const u=Promise.resolve(void 0);Ve=()=>{u.then(R)}};function R(){for(var u;u=he();){try{u.h.call(u.g)}catch(v){Z(v)}var m=pe;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}ke=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function x(u){return/^[\s\xa0]*$/.test(u)}function Ye(u,m){I.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(Ye,I),Ye.prototype.init=function(u,m){const v=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Ye.Z.h.call(this)},Ye.prototype.h=function(){Ye.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ne="closure_listenable_"+(Math.random()*1e6|0),q=0;function te(u,m,v,b,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!b,this.ha=L,this.key=++q,this.da=this.fa=!1}function oe(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ce(u,m,v){for(const b in u)m.call(v,u[b],b,u)}function Oe(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function D(u){const m={};for(const v in u)m[v]=u[v];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function se(u,m){let v,b;for(let L=1;L<arguments.length;L++){b=arguments[L];for(v in b)u[v]=b[v];for(let H=0;H<Y.length;H++)v=Y[H],Object.prototype.hasOwnProperty.call(b,v)&&(u[v]=b[v])}}function re(u){this.src=u,this.g={},this.h=0}re.prototype.add=function(u,m,v,b,L){const H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);const ie=Ae(u,m,b,L);return ie>-1?(m=u[ie],v||(m.fa=!1)):(m=new te(m,this.src,H,!!b,L),m.fa=v,u.push(m)),m};function ve(u,m){const v=m.type;if(v in u.g){var b=u.g[v],L=Array.prototype.indexOf.call(b,m,void 0),H;(H=L>=0)&&Array.prototype.splice.call(b,L,1),H&&(oe(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Ae(u,m,v,b){for(let L=0;L<u.length;++L){const H=u[L];if(!H.da&&H.listener==m&&H.capture==!!v&&H.ha==b)return L}return-1}var Te="closure_lm_"+(Math.random()*1e6|0),yt={};function ut(u,m,v,b,L){if(Array.isArray(m)){for(let H=0;H<m.length;H++)ut(u,m[H],v,b,L);return null}return v=wr(v),u&&u[ne]?u.J(m,v,p(b)?!!b.capture:!1,L):Gi(u,m,v,!1,b,L)}function Gi(u,m,v,b,L,H){if(!m)throw Error("Invalid event type");const ie=p(L)?!!L.capture:!!L;let Ne=Qi(u);if(Ne||(u[Te]=Ne=new re(u)),v=Ne.add(m,v,b,ie,H),v.proxy)return v;if(b=bs(),v.proxy=b,b.src=u,b.listener=v,u.addEventListener)j||(L=ie),L===void 0&&(L=!1),u.addEventListener(m.toString(),b,L);else if(u.attachEvent)u.attachEvent(Ln(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function bs(){function u(v){return m.call(u.src,u.listener,v)}const m=Sr;return u}function Ss(u,m,v,b,L){if(Array.isArray(m))for(var H=0;H<m.length;H++)Ss(u,m[H],v,b,L);else b=p(b)?!!b.capture:!!b,v=wr(v),u&&u[ne]?(u=u.i,H=String(m).toString(),H in u.g&&(m=u.g[H],v=Ae(m,v,b,L),v>-1&&(oe(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[H],u.h--)))):u&&(u=Qi(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Ae(m,v,b,L)),(v=u>-1?m[u]:null)&&As(v))}function As(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ne])ve(m.i,u);else{var v=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(v,b,u.capture):m.detachEvent?m.detachEvent(Ln(v),b):m.addListener&&m.removeListener&&m.removeListener(b),(v=Qi(m))?(ve(v,u),v.h==0&&(v.src=null,m[Te]=null)):oe(u)}}}function Ln(u){return u in yt?yt[u]:yt[u]="on"+u}function Sr(u,m){if(u.da)u=!0;else{m=new Ye(m,this);const v=u.listener,b=u.ha||u.src;u.fa&&As(u),u=v.call(b,m)}return u}function Qi(u){return u=u[Te],u instanceof re?u:null}var Ar="__closure_events_fn_"+(Math.random()*1e9>>>0);function wr(u){return typeof u=="function"?u:(u[Ar]||(u[Ar]=function(m){return u.handleEvent(m)}),u[Ar])}function _t(){V.call(this),this.i=new re(this),this.M=this,this.G=null}A(_t,V),_t.prototype[ne]=!0,_t.prototype.removeEventListener=function(u,m,v,b){Ss(this,u,m,v,b)};function Tt(u,m){var v,b=u.G;if(b)for(v=[];b;b=b.G)v.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new I(m,u);else if(m instanceof I)m.target=m.target||u;else{var L=m;m=new I(b,u),se(m,L)}L=!0;let H,ie;if(v)for(ie=v.length-1;ie>=0;ie--)H=m.g=v[ie],L=ei(H,b,!0,m)&&L;if(H=m.g=u,L=ei(H,b,!0,m)&&L,L=ei(H,b,!1,m)&&L,v)for(ie=0;ie<v.length;ie++)H=m.g=v[ie],L=ei(H,b,!1,m)&&L}_t.prototype.N=function(){if(_t.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let b=0;b<v.length;b++)oe(v[b]);delete u.g[m],u.h--}}this.G=null},_t.prototype.J=function(u,m,v,b){return this.i.add(String(u),m,!1,v,b)},_t.prototype.K=function(u,m,v,b){return this.i.add(String(u),m,!0,v,b)};function ei(u,m,v,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let H=0;H<m.length;++H){const ie=m[H];if(ie&&!ie.da&&ie.capture==v){const Ne=ie.listener,At=ie.ha||ie.src;ie.fa&&ve(u.i,ie),L=Ne.call(At,b)!==!1&&L}}return L&&!b.defaultPrevented}function wo(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function nt(u){u.g=wo(()=>{u.g=null,u.i&&(u.i=!1,nt(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class It extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:nt(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ti(u){V.call(this),this.h=u,this.g={}}A(ti,V);var W=[];function me(u){Ce(u.g,function(m,v){this.g.hasOwnProperty(v)&&As(m)},u),u.g={}}ti.prototype.N=function(){ti.Z.N.call(this),me(this)},ti.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var je=d.JSON.stringify,Ue=d.JSON.parse,$t=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Bt(){}function it(){}var hn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function bt(){I.call(this,"d")}A(bt,I);function gn(){I.call(this,"c")}A(gn,I);var St={},ou=null;function fa(){return ou=ou||new _t}St.Ia="serverreachability";function lu(u){I.call(this,St.Ia,u)}A(lu,I);function gi(u){const m=fa();Tt(m,new lu(m))}St.STAT_EVENT="statevent";function xr(u,m){I.call(this,St.STAT_EVENT,u),this.stat=m}A(xr,I);function Dt(u){const m=fa();Tt(m,new xr(m,u))}St.Ja="timingevent";function pi(u,m){I.call(this,St.Ja,u),this.size=m}A(pi,I);function yi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function ni(){this.g=!0}ni.prototype.ua=function(){this.g=!1};function Bh(u,m,v,b,L,H){u.info(function(){if(u.g)if(H){var ie="",Ne=H.split("&");for(let $e=0;$e<Ne.length;$e++){var At=Ne[$e].split("=");if(At.length>1){const mt=At[0];At=At[1];const qn=mt.split("_");ie=qn.length>=2&&qn[1]=="type"?ie+(mt+"="+At+"&"):ie+(mt+"=redacted&")}}}else ie=null;else ie=H;return"XMLHTTP REQ ("+b+") [attempt "+L+"]: "+m+`
`+v+`
`+ie})}function uu(u,m,v,b,L,H,ie){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+L+"]: "+m+`
`+v+`
`+H+" "+ie})}function _i(u,m,v,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+qh(u,v)+(b?" "+b:"")})}function Rr(u,m){u.info(function(){return"TIMEOUT: "+m})}ni.prototype.info=function(){};function qh(u,m){if(!u.g)return m;if(!m)return null;try{const H=JSON.parse(m);if(H){for(u=0;u<H.length;u++)if(Array.isArray(H[u])){var v=H[u];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var L=b[0];if(L!="noop"&&L!="stop"&&L!="close")for(let ie=1;ie<b.length;ie++)b[ie]=""}}}}return je(H)}catch{return m}}var Cr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},xo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ro;function Nr(){}A(Nr,Bt),Nr.prototype.g=function(){return new XMLHttpRequest},Ro=new Nr;function Yi(u){return encodeURIComponent(String(u))}function cu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function ii(u,m,v,b){this.j=u,this.i=m,this.l=v,this.S=b||1,this.V=new ti(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new si}function si(){this.i=null,this.g="",this.h=!1}var Mt={},Qt={};function vi(u,m,v){u.M=1,u.A=Ir(Vt(m)),u.u=v,u.R=!0,da(u,null)}function da(u,m){u.F=Date.now(),Ei(u),u.B=Vt(u.A);var v=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),ya(v.i,"t",b),u.C=0,v=u.j.L,u.h=new si,u.g=wu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new It(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,b=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(W[0]=L.toString()),L=W);for(let H=0;H<L.length;H++){const ie=ut(v,L[H],b||m.handleEvent,!1,m.h||m);if(!ie)break;m.g[ie.key]=ie}m=u.J?D(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),gi(),Bh(u.i,u.v,u.B,u.l,u.S,u.u)}ii.prototype.ba=function(u){u=u.target;const m=this.O;m&&oi(u)==3?m.j():this.Y(u)},ii.prototype.Y=function(u){try{if(u==this.g)e:{const Ne=oi(this.g),At=this.g.ya(),$e=this.g.ca();if(!(Ne<3)&&(Ne!=3||this.g&&(this.h.h||this.g.la()||Zt(this.g)))){this.K||Ne!=4||At==7||(At==8||$e<=0?gi(3):gi(2)),Ti(this);var m=this.g.ca();this.X=m;var v=Hh(this);if(this.o=m==200,uu(this.i,this.v,this.B,this.l,this.S,Ne,m),this.o){if(this.U&&!this.L){t:{if(this.g){var b,L=this.g;if((b=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(b)){var H=b;break t}}H=null}if(u=H)_i(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,bi(this,u);else{this.o=!1,this.m=3,Dt(12),Rn(this),Pn(this);break e}}if(this.R){u=!0;let mt;for(;!this.K&&this.C<v.length;)if(mt=fu(this,v),mt==Qt){Ne==4&&(this.m=4,Dt(14),u=!1),_i(this.i,this.l,null,"[Incomplete Response]");break}else if(mt==Mt){this.m=4,Dt(15),_i(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else _i(this.i,this.l,mt,null),bi(this,mt);if(hu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ne!=4||v.length!=0||this.h.h||(this.m=1,Dt(16),u=!1),this.o=this.o&&u,!u)_i(this.i,this.l,v,"[Invalid Chunked Response]"),Rn(this),Pn(this);else if(v.length>0&&!this.W){this.W=!0;var ie=this.j;ie.g==this&&ie.aa&&!ie.P&&(ie.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),qo(ie),ie.P=!0,Dt(11))}}else _i(this.i,this.l,v,null),bi(this,v);Ne==4&&Rn(this),this.o&&!this.K&&(Ne==4?Tu(this.j,this):(this.o=!1,Ei(this)))}else Xi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Dt(12)):(this.m=0,Dt(13)),Rn(this),Pn(this)}}}catch{}};function Hh(u){if(!hu(u))return u.g.la();const m=Zt(u.g);if(m==="")return"";let v="";const b=m.length,L=oi(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Rn(u),Pn(u),"";u.h.i=new d.TextDecoder}for(let H=0;H<b;H++)u.h.h=!0,v+=u.h.i.decode(m[H],{stream:!(L&&H==b-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function hu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function fu(u,m){var v=u.C,b=m.indexOf(`
`,v);return b==-1?Qt:(v=Number(m.substring(v,b)),isNaN(v)?Mt:(b+=1,b+v>m.length?Qt:(m=m.slice(b,b+v),u.C=b+v,m)))}ii.prototype.cancel=function(){this.K=!0,Rn(this)};function Ei(u){u.T=Date.now()+u.H,ma(u,u.H)}function ma(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=yi(_(u.aa,u),m)}function Ti(u){u.D&&(d.clearTimeout(u.D),u.D=null)}ii.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Rr(this.i,this.B),this.M!=2&&(gi(),Dt(17)),Rn(this),this.m=2,Pn(this)):ma(this,this.T-u)};function Pn(u){u.j.I==0||u.K||Tu(u.j,u)}function Rn(u){Ti(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,me(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function bi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||Ai(v.h,u))){if(!u.L&&Ai(v.h,u)&&v.I==3){try{var b=v.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var L=b;if(L[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)ba(v),Ms(v);else break e;Ur(v),Dt(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=yi(_(v.Va,v),6e3));Si(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ii(v,11)}else if((u.L||v.g==u)&&ba(v),!x(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let $e=L[m];const mt=$e[0];if(!(mt<=v.K))if(v.K=mt,$e=$e[1],v.I==2)if($e[0]=="c"){v.M=$e[1],v.ba=$e[2];const qn=$e[3];qn!=null&&(v.ka=qn,v.j.info("VER="+v.ka));const Di=$e[4];Di!=null&&(v.za=Di,v.j.info("SVER="+v.za));const li=$e[5];li!=null&&typeof li=="number"&&li>0&&(b=1.5*li,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const ui=u.g;if(ui){const Lr=ui.g?ui.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Lr){var H=b.h;H.g||Lr.indexOf("spdy")==-1&&Lr.indexOf("quic")==-1&&Lr.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Io(H,H.h),H.h=null))}if(b.G){const Sa=ui.g?ui.g.getResponseHeader("X-HTTP-Session-Id"):null;Sa&&(b.wa=Sa,We(b.J,b.G,Sa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var ie=u;if(b.na=Au(b,b.L?b.ba:null,b.W),ie.L){Do(b.h,ie);var Ne=ie,At=b.O;At&&(Ne.H=At),Ne.D&&(Ti(Ne),Ei(Ne)),b.g=ie}else vu(b);v.i.length>0&&Ni(v)}else $e[0]!="stop"&&$e[0]!="close"||Ii(v,7);else v.I==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?Ii(v,7):zo(v):$e[0]!="noop"&&v.l&&v.l.qa($e),v.A=0)}}gi(4)}catch{}}var Ot=class{constructor(u,m){this.g=u,this.map=m}};function Co(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function No(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Si(u){return u.h?1:u.g?u.g.size:0}function Ai(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Io(u,m){u.g?u.g.add(m):u.h=m}function Do(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Co.prototype.cancel=function(){if(this.i=Mo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Mo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return U(u.i)}var du=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ga(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const b=u[v].indexOf("=");let L,H=null;b>=0?(L=u[v].substring(0,b),H=u[v].substring(b+1)):L=u[v],m(L,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Cn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Cn?(this.l=u.l,Yt(this,u.j),this.o=u.o,this.g=u.g,ws(this,u.u),this.h=u.h,Oo(this,yu(u.i)),this.m=u.m):u&&(m=String(u).match(du))?(this.l=!1,Yt(this,m[1]||"",!0),this.o=wi(m[2]||""),this.g=wi(m[3]||"",!0),ws(this,m[4]),this.h=wi(m[5]||"",!0),Oo(this,m[6]||"",!0),this.m=wi(m[7]||"")):(this.l=!1,this.i=new Rs(null,this.l))}Cn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Dr(m,pa,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Dr(m,pa,!0),"@"),u.push(Yi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Dr(v,v.charAt(0)=="/"?Vo:mu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Dr(v,gu)),u.join("")},Cn.prototype.resolve=function(u){const m=Vt(this);let v=!!u.j;v?Yt(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var b=u.h;if(v)ws(m,u.u);else if(v=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var L=m.h.lastIndexOf("/");L!=-1&&(b=m.h.slice(0,L+1)+b)}if(L=b,L==".."||L==".")b="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){b=L.lastIndexOf("/",0)==0,L=L.split("/");const H=[];for(let ie=0;ie<L.length;){const Ne=L[ie++];Ne=="."?b&&ie==L.length&&H.push(""):Ne==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),b&&ie==L.length&&H.push("")):(H.push(Ne),b=!0)}b=H.join("/")}else b=L}return v?m.h=b:v=u.i.toString()!=="",v?Oo(m,yu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Vt(u){return new Cn(u)}function Yt(u,m,v){u.j=v?wi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ws(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Oo(u,m,v){m instanceof Rs?(u.i=m,_a(u.i,u.l)):(v||(m=Dr(m,xs)),u.i=new Rs(m,u.l))}function We(u,m,v){u.i.set(m,v)}function Ir(u){return We(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function wi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Dr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,pn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function pn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var pa=/[#\/\?@]/g,mu=/[#\?:]/g,Vo=/[#\?]/g,xs=/[#\?@]/g,gu=/#/g;function Rs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function yn(u){u.g||(u.g=new Map,u.h=0,u.i&&ga(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=Rs.prototype,s.add=function(u,m){yn(this),this.i=null,u=Cs(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function pu(u,m){yn(u),m=Cs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function ko(u,m){return yn(u),m=Cs(u,m),u.g.has(m)}s.forEach=function(u,m){yn(this),this.g.forEach(function(v,b){v.forEach(function(L){u.call(m,L,b,this)},this)},this)};function jo(u,m){yn(u);let v=[];if(typeof m=="string")ko(u,m)&&(v=v.concat(u.g.get(Cs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return yn(this),this.i=null,u=Cs(this,u),ko(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=jo(this,u),u.length>0?String(u[0]):m):m};function ya(u,m,v){pu(u,m),v.length>0&&(u.i=null,u.g.set(Cs(u,m),U(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var v=m[b];const L=Yi(v);v=jo(this,v);for(let H=0;H<v.length;H++){let ie=L;v[H]!==""&&(ie+="="+Yi(v[H])),u.push(ie)}}return this.i=u.join("&")};function yu(u){const m=new Rs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Cs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function _a(u,m){m&&!u.j&&(yn(u),u.i=null,u.g.forEach(function(v,b){const L=b.toLowerCase();b!=L&&(pu(this,b),ya(this,L,v))},u)),u.j=m}function ri(u,m){const v=new ni;if(d.Image){const b=new Image;b.onload=S(zn,v,"TestLoadImage: loaded",!0,m,b),b.onerror=S(zn,v,"TestLoadImage: error",!1,m,b),b.onabort=S(zn,v,"TestLoadImage: abort",!1,m,b),b.ontimeout=S(zn,v,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function Uo(u,m){const v=new ni,b=new AbortController,L=setTimeout(()=>{b.abort(),zn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(H=>{clearTimeout(L),H.ok?zn(v,"TestPingServer: ok",!0,m):zn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),zn(v,"TestPingServer: error",!1,m)})}function zn(u,m,v,b,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),b(v)}catch{}}function Ns(){this.g=new $t}function xi(u){this.i=u.Sb||null,this.h=u.ab||!1}A(xi,Bt),xi.prototype.g=function(){return new Mr(this.i,this.h)};function Mr(u,m){_t.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(Mr,_t),s=Mr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,ai(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Is(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ai(this)),this.g&&(this.readyState=3,ai(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;va(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function va(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Is(this):ai(this),this.readyState==3&&va(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Is(this))},s.Na=function(u){this.g&&(this.response=u,Is(this))},s.ga=function(){this.g&&Is(this)};function Is(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ai(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function ai(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Mr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Bn(u){let m="";return Ce(u,function(v,b){m+=b,m+=":",m+=v,m+=`\r
`}),m}function Or(u,m,v){e:{for(b in v){var b=!1;break e}b=!0}b||(v=Bn(v),typeof u=="string"?v!=null&&Yi(v):We(u,m,v))}function st(u){_t.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(st,_t);var Ri=/^https?$/i,Lo=["POST","PUT"];s=st.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ro.g(),this.g.onreadystatechange=M(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(H){Vr(this,H);return}if(u=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var L in b)v.set(L,b[L]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const H of b.keys())v.set(H,b.get(H));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(H=>H.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Lo,m,void 0)>=0)||b||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,ie]of v)this.g.setRequestHeader(H,ie);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(H){Vr(this,H)}};function Vr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Po(u),Ki(u)}function Po(u){u.A||(u.A=!0,Tt(u,"complete"),Tt(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Tt(this,"complete"),Tt(this,"abort"),Ki(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ki(this,!0)),st.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?kr(this):this.Xa())},s.Xa=function(){kr(this)};function kr(u){if(u.h&&typeof c<"u"){if(u.v&&oi(u)==4)setTimeout(u.Ca.bind(u),0);else if(Tt(u,"readystatechange"),oi(u)==4){u.h=!1;try{const H=u.ca();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var b;if(b=H===0){let ie=String(u.D).match(du)[1]||null;!ie&&d.self&&d.self.location&&(ie=d.self.location.protocol.slice(0,-1)),b=!Ri.test(ie?ie.toLowerCase():"")}v=b}if(v)Tt(u,"complete"),Tt(u,"success");else{u.o=6;try{var L=oi(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Po(u)}}finally{Ki(u)}}}}function Ki(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Tt(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function oi(u){return u.g?u.g.readyState:0}s.ca=function(){try{return oi(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ue(m)}};function Zt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Xi(u){const m={};u=(u.g&&oi(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(x(u[b]))continue;var v=cu(u[b]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const H=m[L]||[];m[L]=H,H.push(v)}Oe(m,function(b){return b.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ci(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Ds(u){this.za=0,this.i=[],this.j=new ni,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ci("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ci("baseRetryDelayMs",5e3,u),this.Za=Ci("retryDelaySeedMs",1e4,u),this.Ta=Ci("forwardChannelMaxRetries",2,u),this.va=Ci("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Co(u&&u.concurrentRequestLimit),this.Ba=new Ns,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Ds.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,b){Dt(0),this.W=u,this.H=m||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=Au(this,null,this.W),Ni(this)};function zo(u){if(Ea(u),u.I==3){var m=u.V++,v=Vt(u.J);if(We(v,"SID",u.M),We(v,"RID",m),We(v,"TYPE","terminate"),jr(u,v),m=new ii(u,u.j,m),m.M=2,m.A=Ir(Vt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=wu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Ei(m)}Su(u)}function Ms(u){u.g&&(qo(u),u.g.cancel(),u.g=null)}function Ea(u){Ms(u),u.v&&(d.clearTimeout(u.v),u.v=null),ba(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ni(u){if(!No(u.h)&&!u.m){u.m=!0;var m=u.Ea;Ve||w(),ke||(Ve(),ke=!0),N.add(m,u),u.D=0}}function Ta(u,m){return Si(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=yi(_(u.Ea,u,m),bu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new ii(this,this.j,u);let H=this.o;if(this.U&&(H?(H=D(H),se(H,this.U)):H=this.U),this.u!==null||this.R||(L.J=H,H=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=_u(this,L,m),v=Vt(this.J),We(v,"RID",u),We(v,"CVER",22),this.G&&We(v,"X-HTTP-Session-Id",this.G),jr(this,v),H&&(this.R?m="headers="+Yi(Bn(H))+"&"+m:this.u&&Or(v,this.u,H)),Io(this.h,L),this.Ra&&We(v,"TYPE","init"),this.S?(We(v,"$req",m),We(v,"SID","null"),L.U=!0,vi(L,v,null)):vi(L,v,m),this.I=2}}else this.I==3&&(u?Bo(this,u):this.i.length==0||No(this.h)||Bo(this))};function Bo(u,m){var v;m?v=m.l:v=u.V++;const b=Vt(u.J);We(b,"SID",u.M),We(b,"RID",v),We(b,"AID",u.K),jr(u,b),u.u&&u.o&&Or(b,u.u,u.o),v=new ii(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=_u(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Io(u.h,v),vi(v,b,m)}function jr(u,m){u.H&&Ce(u.H,function(v,b){We(m,b,v)}),u.l&&Ce({},function(v,b){We(m,b,v)})}function _u(u,m,v){v=Math.min(u.i.length,v);const b=u.l?_(u.l.Ka,u.l,u):null;e:{var L=u.i;let Ne=-1;for(;;){const At=["count="+v];Ne==-1?v>0?(Ne=L[0].g,At.push("ofs="+Ne)):Ne=0:At.push("ofs="+Ne);let $e=!0;for(let mt=0;mt<v;mt++){var H=L[mt].g;const qn=L[mt].map;if(H-=Ne,H<0)Ne=Math.max(0,L[mt].g-100),$e=!1;else try{H="req"+H+"_"||"";try{var ie=qn instanceof Map?qn:Object.entries(qn);for(const[Di,li]of ie){let ui=li;p(li)&&(ui=je(li)),At.push(H+Di+"="+encodeURIComponent(ui))}}catch(Di){throw At.push(H+"type="+encodeURIComponent("_badmap")),Di}}catch{b&&b(qn)}}if($e){ie=At.join("&");break e}}ie=void 0}return u=u.i.splice(0,v),m.G=u,ie}function vu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Ve||w(),ke||(Ve(),ke=!0),N.add(m,u),u.A=0}}function Ur(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=yi(_(u.Da,u),bu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,Eu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=yi(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Dt(10),Ms(this),Eu(this))};function qo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Eu(u){u.g=new ii(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Vt(u.na);We(m,"RID","rpc"),We(m,"SID",u.M),We(m,"AID",u.K),We(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&We(m,"TO",u.ia),We(m,"TYPE","xmlhttp"),jr(u,m),u.u&&u.o&&Or(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Ir(Vt(m)),v.u=null,v.R=!0,da(v,u)}s.Va=function(){this.C!=null&&(this.C=null,Ms(this),Ur(this),Dt(19))};function ba(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Tu(u,m){var v=null;if(u.g==m){ba(u),qo(u),u.g=null;var b=2}else if(Ai(u.h,m))v=m.G,Do(u.h,m),b=1;else return;if(u.I!=0){if(m.o)if(b==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;b=fa(),Tt(b,new pi(b,v)),Ni(u)}else vu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(b==1&&Ta(u,m)||b==2&&Ur(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:Ii(u,5);break;case 4:Ii(u,10);break;case 3:Ii(u,6);break;default:Ii(u,2)}}}function bu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Ii(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),b=u.Ua;const L=!b;b=new Cn(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Yt(b,"https"),Ir(b),L?ri(b.toString(),v):Uo(b.toString(),v)}else Dt(2);u.I=0,u.l&&u.l.pa(m),Su(u),Ea(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Dt(2)):(this.j.info("Failed to ping google.com"),Dt(1))};function Su(u){if(u.I=0,u.ja=[],u.l){const m=Mo(u.h);(m.length!=0||u.i.length!=0)&&(G(u.ja,m),G(u.ja,u.i),u.h.i.length=0,U(u.i),u.i.length=0),u.l.oa()}}function Au(u,m,v){var b=v instanceof Cn?Vt(v):new Cn(v);if(b.g!="")m&&(b.g=m+"."+b.g),ws(b,b.u);else{var L=d.location;b=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const H=new Cn(null);b&&Yt(H,b),m&&(H.g=m),L&&ws(H,L),v&&(H.h=v),b=H}return v=u.G,m=u.wa,v&&m&&We(b,v,m),We(b,"VER",u.ka),jr(u,b),b}function wu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new st(new xi({ab:v})):new st(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function xu(){}s=xu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Os(){}Os.prototype.g=function(u,m){return new fn(u,m)};function fn(u,m){_t.call(this),this.g=new Ds(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!x(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!x(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new $i(this)}A(fn,_t),fn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){zo(this.g)},fn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=je(u),u=v);m.i.push(new Ot(m.Ya++,u)),m.I==3&&Ni(m)},fn.prototype.N=function(){this.g.l=null,delete this.j,zo(this.g),delete this.g,fn.Z.N.call(this)};function Ru(u){bt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(Ru,bt);function Cu(){gn.call(this),this.status=1}A(Cu,gn);function $i(u){this.g=u}A($i,xu),$i.prototype.ra=function(){Tt(this.g,"a")},$i.prototype.qa=function(u){Tt(this.g,new Ru(u))},$i.prototype.pa=function(u){Tt(this.g,new Cu)},$i.prototype.oa=function(){Tt(this.g,"b")},Os.prototype.createWebChannel=Os.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,P1=function(){return new Os},L1=function(){return fa()},U1=St,mm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Cr.NO_ERROR=0,Cr.TIMEOUT=8,Cr.HTTP_ERROR=6,Hc=Cr,xo.COMPLETE="complete",j1=xo,it.EventType=hn,hn.OPEN="a",hn.CLOSE="b",hn.ERROR="c",hn.MESSAGE="d",_t.prototype.listen=_t.prototype.J,Cl=it,st.prototype.listenOnce=st.prototype.K,st.prototype.getLastError=st.prototype.Ha,st.prototype.getLastErrorCode=st.prototype.ya,st.prototype.getStatus=st.prototype.ca,st.prototype.getResponseJson=st.prototype.La,st.prototype.getResponseText=st.prototype.la,st.prototype.send=st.prototype.ea,st.prototype.setWithCredentials=st.prototype.Fa,k1=st}).apply(typeof Vc<"u"?Vc:typeof self<"u"?self:typeof window<"u"?window:{});const D_="@firebase/firestore",M_="4.9.3";class ln{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");let To="12.7.0";const la=new Om("@firebase/firestore");function eo(){return la.logLevel}function ae(s,...e){if(la.logLevel<=qe.DEBUG){const i=e.map(Gm);la.debug(`Firestore (${To}): ${s}`,...i)}}function _s(s,...e){if(la.logLevel<=qe.ERROR){const i=e.map(Gm);la.error(`Firestore (${To}): ${s}`,...i)}}function ho(s,...e){if(la.logLevel<=qe.WARN){const i=e.map(Gm);la.warn(`Firestore (${To}): ${s}`,...i)}}function Gm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function _e(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,z1(s,a,i)}function z1(s,e,i){let a=`FIRESTORE (${To}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw _s(a),new Error(a)}function Je(s,e,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,s||z1(e,l,a)}function xe(s,e){return s}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends Ts{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class fr{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class B1{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class hR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(ln.UNAUTHENTICATED)))}shutdown(){}}class fR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class dR{constructor(e){this.t=e,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Je(this.o===void 0,42304);let a=this.i;const l=y=>this.i!==a?(a=this.i,i(y)):Promise.resolve();let c=new fr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new fr,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=c;e.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},p=y=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new fr)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Je(typeof a.accessToken=="string",31837,{l:a}),new B1(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Je(e===null||typeof e=="string",2055,{h:e}),new ln(e)}}class mR{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class gR{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new mR(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(ln.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class O_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pR{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Jn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Je(this.o===void 0,3512);const a=c=>{c.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ae("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const l=c=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new O_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Je(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new O_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function yR(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class Qm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=yR(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=e.charAt(l[c]%62))}return a}}function He(s,e){return s<e?-1:s>e?1:0}function gm(s,e){const i=Math.min(s.length,e.length);for(let a=0;a<i;a++){const l=s.charAt(a),c=e.charAt(a);if(l!==c)return Zd(l)===Zd(c)?He(l,c):Zd(l)?1:-1}return He(s.length,e.length)}const _R=55296,vR=57343;function Zd(s){const e=s.charCodeAt(0);return e>=_R&&e<=vR}function fo(s,e,i){return s.length===e.length&&s.every(((a,l)=>i(a,e[l])))}const V_="__name__";class ji{constructor(e,i,a){i===void 0?i=0:i>e.length&&_e(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&_e(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return ji.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ji?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let l=0;l<a;l++){const c=ji.compareSegments(e.get(l),i.get(l));if(c!==0)return c}return He(e.length,i.length)}static compareSegments(e,i){const a=ji.isNumericId(e),l=ji.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?ji.extractNumericId(e).compare(ji.extractNumericId(i)):gm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return hr.fromString(e.substring(4,e.length-2))}}class ft extends ji{construct(e,i,a){return new ft(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new ue(J.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new ft(i)}static emptyPath(){return new ft([])}}const ER=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sn extends ji{construct(e,i,a){return new sn(e,i,a)}static isValidIdentifier(e){return ER.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===V_}static keyField(){return new sn([V_])}static fromServerFormat(e){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new ue(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<e.length;){const p=e[l];if(p==="\\"){if(l+1===e.length)throw new ue(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ue(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=y,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new ue(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new sn(i)}static emptyPath(){return new sn([])}}class ge{constructor(e){this.path=e}static fromPath(e){return new ge(ft.fromString(e))}static fromName(e){return new ge(ft.fromString(e).popFirst(5))}static empty(){return new ge(ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ft.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ft.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new ft(e.slice()))}}function q1(s,e,i){if(!i)throw new ue(J.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function TR(s,e,i,a){if(e===!0&&a===!0)throw new ue(J.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function k_(s){if(!ge.isDocumentKey(s))throw new ue(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function j_(s){if(ge.isDocumentKey(s))throw new ue(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function H1(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Ym(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":_e(12329,{type:typeof s})}function Un(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ue(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Ym(s);throw new ue(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function zt(s,e){const i={typeString:s};return e&&(i.value=e),i}function eu(s,e){if(!H1(s))throw new ue(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const l=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ue(J.INVALID_ARGUMENT,i);return!0}const U_=-62135596800,L_=1e6;class dt{static now(){return dt.fromMillis(Date.now())}static fromDate(e){return dt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*L_);return new dt(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ue(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ue(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<U_)throw new ue(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/L_}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:dt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(eu(e,dt._jsonSchema))return new dt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-U_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}dt._jsonSchemaVersion="firestore/timestamp/1.0",dt._jsonSchema={type:zt("string",dt._jsonSchemaVersion),seconds:zt("number"),nanoseconds:zt("number")};class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new dt(0,0))}static max(){return new Se(new dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const zl=-1;function bR(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=Se.fromTimestamp(a===1e9?new dt(i+1,0):new dt(i,a));return new gr(l,ge.empty(),e)}function SR(s){return new gr(s.readTime,s.key,zl)}class gr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new gr(Se.min(),ge.empty(),zl)}static max(){return new gr(Se.max(),ge.empty(),zl)}}function AR(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ge.comparator(s.documentKey,e.documentKey),i!==0?i:He(s.largestBatchId,e.largestBatchId))}const wR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function bo(s){if(s.code!==J.FAILED_PRECONDITION||s.message!==wR)throw s;ae("LocalStore","Unexpectedly lost primary lease")}class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&_e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new $(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):$.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):$.reject(i)}static resolve(e){return new $(((i,a)=>{i(e)}))}static reject(e){return new $(((i,a)=>{a(e)}))}static waitFor(e){return new $(((i,a)=>{let l=0,c=0,d=!1;e.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(y=>a(y)))})),d=!0,c===l&&i()}))}static or(e){let i=$.resolve(!1);for(const a of e)i=i.next((l=>l?$.resolve(l):a()));return i}static forEach(e,i){const a=[];return e.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(e,i){return new $(((a,l)=>{const c=e.length,d=new Array(c);let p=0;for(let y=0;y<c;y++){const _=y;i(e[_]).next((S=>{d[_]=S,++p,p===c&&a(d)}),(S=>l(S)))}}))}static doWhile(e,i){return new $(((a,l)=>{const c=()=>{e()===!0?i().next((()=>{c()}),l):a()};c()}))}}function RR(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function So(s){return s.name==="IndexedDbTransactionError"}class Eh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Eh.ce=-1;const Km=-1;function Th(s){return s==null}function ih(s){return s===0&&1/s==-1/0}function CR(s){return typeof s=="number"&&Number.isInteger(s)&&!ih(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const F1="";function NR(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=P_(e)),e=IR(s.get(i),e);return P_(e)}function IR(s,e){let i=e;const a=s.length;for(let l=0;l<a;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case F1:i+="";break;default:i+=c}}return i}function P_(s){return s+F1+""}function z_(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Tr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function G1(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class pt{constructor(e,i){this.comparator=e,this.root=i||nn.EMPTY}insert(e,i){return new pt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,nn.BLACK,null,null))}remove(e){return new pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nn.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(e,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new kc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new kc(this.root,e,this.comparator,!1)}getReverseIterator(){return new kc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new kc(this.root,e,this.comparator,!0)}}class kc{constructor(e,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nn{constructor(e,i,a,l,c){this.key=e,this.value=i,this.color=a??nn.RED,this.left=l??nn.EMPTY,this.right=c??nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,l,c){return new nn(e??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let l=this;const c=a(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return nn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return nn.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _e(27949);return e+(this.isRed()?0:1)}}nn.EMPTY=null,nn.RED=!0,nn.BLACK=!1;nn.EMPTY=new class{constructor(){this.size=0}get key(){throw _e(57766)}get value(){throw _e(16141)}get color(){throw _e(16727)}get left(){throw _e(29726)}get right(){throw _e(36894)}copy(e,i,a,l,c){return this}insert(e,i,a){return new nn(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ft{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new B_(this.data.getIterator())}getIteratorFrom(e){return new B_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof Ft)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Ft(this.comparator);return i.data=e,i}}class B_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class jn{constructor(e){this.fields=e,e.sort(sn.comparator)}static empty(){return new jn([])}unionWith(e){let i=new Ft(sn.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new jn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return fo(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class Q1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class rn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Q1("Invalid base64 string: "+c):c}})(e);return new rn(i)}static fromUint8Array(e){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(e);return new rn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const DR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pr(s){if(Je(!!s,39018),typeof s=="string"){let e=0;const i=DR.exec(s);if(Je(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Ct(s.seconds),nanos:Ct(s.nanos)}}function Ct(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function yr(s){return typeof s=="string"?rn.fromBase64String(s):rn.fromUint8Array(s)}const Y1="server_timestamp",K1="__type__",X1="__previous_value__",$1="__local_write_time__";function Xm(s){return(s?.mapValue?.fields||{})[K1]?.stringValue===Y1}function bh(s){const e=s.mapValue.fields[X1];return Xm(e)?bh(e):e}function Bl(s){const e=pr(s.mapValue.fields[$1].timestampValue);return new dt(e.seconds,e.nanos)}class MR{constructor(e,i,a,l,c,d,p,y,_,S){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=S}}const sh="(default)";class ql{constructor(e,i){this.projectId=e,this.database=i||sh}static empty(){return new ql("","")}get isDefaultDatabase(){return this.database===sh}isEqual(e){return e instanceof ql&&e.projectId===this.projectId&&e.database===this.database}}const Z1="__type__",OR="__max__",jc={mapValue:{}},J1="__vector__",rh="value";function _r(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Xm(s)?4:kR(s)?9007199254740991:VR(s)?10:11:_e(28295,{value:s})}function Hi(s,e){if(s===e)return!0;const i=_r(s);if(i!==_r(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Bl(s).isEqual(Bl(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=pr(l.timestampValue),p=pr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,c){return yr(l.bytesValue).isEqual(yr(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,c){return Ct(l.geoPointValue.latitude)===Ct(c.geoPointValue.latitude)&&Ct(l.geoPointValue.longitude)===Ct(c.geoPointValue.longitude)})(s,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Ct(l.integerValue)===Ct(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Ct(l.doubleValue),p=Ct(c.doubleValue);return d===p?ih(d)===ih(p):isNaN(d)&&isNaN(p)}return!1})(s,e);case 9:return fo(s.arrayValue.values||[],e.arrayValue.values||[],Hi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(z_(d)!==z_(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!Hi(d[y],p[y])))return!1;return!0})(s,e);default:return _e(52216,{left:s})}}function Hl(s,e){return(s.values||[]).find((i=>Hi(i,e)))!==void 0}function mo(s,e){if(s===e)return 0;const i=_r(s),a=_r(e);if(i!==a)return He(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return He(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const p=Ct(c.integerValue||c.doubleValue),y=Ct(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(s,e);case 3:return q_(s.timestampValue,e.timestampValue);case 4:return q_(Bl(s),Bl(e));case 5:return gm(s.stringValue,e.stringValue);case 6:return(function(c,d){const p=yr(c),y=yr(d);return p.compareTo(y)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const p=c.split("/"),y=d.split("/");for(let _=0;_<p.length&&_<y.length;_++){const S=He(p[_],y[_]);if(S!==0)return S}return He(p.length,y.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const p=He(Ct(c.latitude),Ct(d.latitude));return p!==0?p:He(Ct(c.longitude),Ct(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return H_(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const p=c.fields||{},y=d.fields||{},_=p[rh]?.arrayValue,S=y[rh]?.arrayValue,A=He(_?.values?.length||0,S?.values?.length||0);return A!==0?A:H_(_,S)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===jc.mapValue&&d===jc.mapValue)return 0;if(c===jc.mapValue)return 1;if(d===jc.mapValue)return-1;const p=c.fields||{},y=Object.keys(p),_=d.fields||{},S=Object.keys(_);y.sort(),S.sort();for(let A=0;A<y.length&&A<S.length;++A){const M=gm(y[A],S[A]);if(M!==0)return M;const U=mo(p[y[A]],_[S[A]]);if(U!==0)return U}return He(y.length,S.length)})(s.mapValue,e.mapValue);default:throw _e(23264,{he:i})}}function q_(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return He(s,e);const i=pr(s),a=pr(e),l=He(i.seconds,a.seconds);return l!==0?l:He(i.nanos,a.nanos)}function H_(s,e){const i=s.values||[],a=e.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=mo(i[l],a[l]);if(c)return c}return He(i.length,a.length)}function go(s){return pm(s)}function pm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=pr(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return yr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ge.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=pm(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${pm(i.fields[d])}`;return l+"}"})(s.mapValue):_e(61005,{value:s})}function Fc(s){switch(_r(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=bh(s);return e?16+Fc(e):16;case 5:return 2*s.stringValue.length;case 6:return yr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Fc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let l=0;return Tr(a.fields,((c,d)=>{l+=c.length+Fc(d)})),l})(s.mapValue);default:throw _e(13486,{value:s})}}function ym(s){return!!s&&"integerValue"in s}function $m(s){return!!s&&"arrayValue"in s}function F_(s){return!!s&&"nullValue"in s}function G_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Gc(s){return!!s&&"mapValue"in s}function VR(s){return(s?.mapValue?.fields||{})[Z1]?.stringValue===J1}function Vl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Tr(s.mapValue.fields,((i,a)=>e.mapValue.fields[i]=Vl(a))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Vl(s.arrayValue.values[i]);return e}return{...s}}function kR(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===OR}class wn{constructor(e){this.value=e}static empty(){return new wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Gc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vl(i)}setAll(e){let i=sn.emptyPath(),a={},l=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=Vl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(e){const i=this.field(e.popLast());Gc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Hi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let l=i.mapValue.fields[e.get(a)];Gc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,a){Tr(i,((l,c)=>e[l]=c));for(const l of a)delete e[l]}clone(){return new wn(Vl(this.value))}}function W1(s){const e=[];return Tr(s.fields,((i,a)=>{const l=new sn([i]);if(Gc(a)){const c=W1(a.mapValue).fields;if(c.length===0)e.push(l);else for(const d of c)e.push(l.child(d))}else e.push(l)})),new jn(e)}class un{constructor(e,i,a,l,c,d,p){this.key=e,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(e){return new un(e,0,Se.min(),Se.min(),Se.min(),wn.empty(),0)}static newFoundDocument(e,i,a,l){return new un(e,1,i,Se.min(),a,l,0)}static newNoDocument(e,i){return new un(e,2,i,Se.min(),Se.min(),wn.empty(),0)}static newUnknownDocument(e,i){return new un(e,3,i,Se.min(),Se.min(),wn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ah{constructor(e,i){this.position=e,this.inclusive=i}}function Q_(s,e,i){let a=0;for(let l=0;l<s.position.length;l++){const c=e[l],d=s.position[l];if(c.field.isKeyField()?a=ge.comparator(ge.fromName(d.referenceValue),i.key):a=mo(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function Y_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Hi(s.position[i],e.position[i]))return!1;return!0}class oh{constructor(e,i="asc"){this.field=e,this.dir=i}}function jR(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class eE{}class Ht extends eE{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new LR(e,i,a):i==="array-contains"?new BR(e,a):i==="in"?new qR(e,a):i==="not-in"?new HR(e,a):i==="array-contains-any"?new FR(e,a):new Ht(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new PR(e,a):new zR(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(mo(i,this.value)):i!==null&&_r(this.value)===_r(i)&&this.matchesComparison(mo(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fi extends eE{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Fi(e,i)}matches(e){return tE(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function tE(s){return s.op==="and"}function nE(s){return UR(s)&&tE(s)}function UR(s){for(const e of s.filters)if(e instanceof Fi)return!1;return!0}function _m(s){if(s instanceof Ht)return s.field.canonicalString()+s.op.toString()+go(s.value);if(nE(s))return s.filters.map((e=>_m(e))).join(",");{const e=s.filters.map((i=>_m(i))).join(",");return`${s.op}(${e})`}}function iE(s,e){return s instanceof Ht?(function(a,l){return l instanceof Ht&&a.op===l.op&&a.field.isEqual(l.field)&&Hi(a.value,l.value)})(s,e):s instanceof Fi?(function(a,l){return l instanceof Fi&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&iE(d,l.filters[p])),!0):!1})(s,e):void _e(19439)}function sE(s){return s instanceof Ht?(function(i){return`${i.field.canonicalString()} ${i.op} ${go(i.value)}`})(s):s instanceof Fi?(function(i){return i.op.toString()+" {"+i.getFilters().map(sE).join(" ,")+"}"})(s):"Filter"}class LR extends Ht{constructor(e,i,a){super(e,i,a),this.key=ge.fromName(a.referenceValue)}matches(e){const i=ge.comparator(e.key,this.key);return this.matchesComparison(i)}}class PR extends Ht{constructor(e,i){super(e,"in",i),this.keys=rE("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class zR extends Ht{constructor(e,i){super(e,"not-in",i),this.keys=rE("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function rE(s,e){return(e.arrayValue?.values||[]).map((i=>ge.fromName(i.referenceValue)))}class BR extends Ht{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return $m(i)&&Hl(i.arrayValue,this.value)}}class qR extends Ht{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Hl(this.value.arrayValue,i)}}class HR extends Ht{constructor(e,i){super(e,"not-in",i)}matches(e){if(Hl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Hl(this.value.arrayValue,i)}}class FR extends Ht{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!$m(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Hl(this.value.arrayValue,a)))}}class GR{constructor(e,i=null,a=[],l=[],c=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function K_(s,e=null,i=[],a=[],l=null,c=null,d=null){return new GR(s,e,i,a,l,c,d)}function Zm(s){const e=xe(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>_m(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),Th(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>go(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>go(a))).join(",")),e.Te=i}return e.Te}function Jm(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!jR(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!iE(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!Y_(s.startAt,e.startAt)&&Y_(s.endAt,e.endAt)}function vm(s){return ge.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Sh{constructor(e,i=null,a=[],l=[],c=null,d="F",p=null,y=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function QR(s,e,i,a,l,c,d,p){return new Sh(s,e,i,a,l,c,d,p)}function Ah(s){return new Sh(s)}function X_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function YR(s){return s.collectionGroup!==null}function kl(s){const e=xe(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Ft(sn.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new oh(c,a))})),i.has(sn.keyField().canonicalString())||e.Ie.push(new oh(sn.keyField(),a))}return e.Ie}function Li(s){const e=xe(s);return e.Ee||(e.Ee=KR(e,kl(s))),e.Ee}function KR(s,e){if(s.limitType==="F")return K_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new oh(l.field,c)}));const i=s.endAt?new ah(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new ah(s.startAt.position,s.startAt.inclusive):null;return K_(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function Em(s,e,i){return new Sh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function wh(s,e){return Jm(Li(s),Li(e))&&s.limitType===e.limitType}function aE(s){return`${Zm(Li(s))}|lt:${s.limitType}`}function to(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>sE(l))).join(", ")}]`),Th(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>go(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>go(l))).join(",")),`Target(${a})`})(Li(s))}; limitType=${s.limitType})`}function xh(s,e){return e.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ge.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,e)&&(function(a,l){for(const c of kl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(s,e)&&(function(a,l){return!(a.startAt&&!(function(d,p,y){const _=Q_(d,p,y);return d.inclusive?_<=0:_<0})(a.startAt,kl(a),l)||a.endAt&&!(function(d,p,y){const _=Q_(d,p,y);return d.inclusive?_>=0:_>0})(a.endAt,kl(a),l))})(s,e)}function XR(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function oE(s){return(e,i)=>{let a=!1;for(const l of kl(s)){const c=$R(l,e,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function $R(s,e,i){const a=s.field.isKeyField()?ge.comparator(e.key,i.key):(function(c,d,p){const y=d.data.field(c),_=p.data.field(c);return y!==null&&_!==null?mo(y,_):_e(42886)})(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return _e(19790,{direction:s.dir})}}class ca{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),l=this.inner[a];if(l===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Tr(this.inner,((i,a)=>{for(const[l,c]of a)e(l,c)}))}isEmpty(){return G1(this.inner)}size(){return this.innerSize}}const ZR=new pt(ge.comparator);function vs(){return ZR}const lE=new pt(ge.comparator);function Nl(...s){let e=lE;for(const i of s)e=e.insert(i.key,i);return e}function uE(s){let e=lE;return s.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function na(){return jl()}function cE(){return jl()}function jl(){return new ca((s=>s.toString()),((s,e)=>s.isEqual(e)))}const JR=new pt(ge.comparator),WR=new Ft(ge.comparator);function Fe(...s){let e=WR;for(const i of s)e=e.add(i);return e}const eC=new Ft(He);function tC(){return eC}function Wm(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ih(e)?"-0":e}}function hE(s){return{integerValue:""+s}}function nC(s,e){return CR(e)?hE(e):Wm(s,e)}class Rh{constructor(){this._=void 0}}function iC(s,e,i){return s instanceof Fl?(function(l,c){const d={fields:{[K1]:{stringValue:Y1},[$1]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Xm(c)&&(c=bh(c)),c&&(d.fields[X1]=c),{mapValue:d}})(i,e):s instanceof Gl?dE(s,e):s instanceof Ql?mE(s,e):(function(l,c){const d=fE(l,c),p=$_(d)+$_(l.Ae);return ym(d)&&ym(l.Ae)?hE(p):Wm(l.serializer,p)})(s,e)}function sC(s,e,i){return s instanceof Gl?dE(s,e):s instanceof Ql?mE(s,e):i}function fE(s,e){return s instanceof lh?(function(a){return ym(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class Fl extends Rh{}class Gl extends Rh{constructor(e){super(),this.elements=e}}function dE(s,e){const i=gE(e);for(const a of s.elements)i.some((l=>Hi(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Ql extends Rh{constructor(e){super(),this.elements=e}}function mE(s,e){let i=gE(e);for(const a of s.elements)i=i.filter((l=>!Hi(l,a)));return{arrayValue:{values:i}}}class lh extends Rh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function $_(s){return Ct(s.integerValue||s.doubleValue)}function gE(s){return $m(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class rC{constructor(e,i){this.field=e,this.transform=i}}function aC(s,e){return s.field.isEqual(e.field)&&(function(a,l){return a instanceof Gl&&l instanceof Gl||a instanceof Ql&&l instanceof Ql?fo(a.elements,l.elements,Hi):a instanceof lh&&l instanceof lh?Hi(a.Ae,l.Ae):a instanceof Fl&&l instanceof Fl})(s.transform,e.transform)}class oC{constructor(e,i){this.version=e,this.transformResults=i}}class mn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new mn}static exists(e){return new mn(void 0,e)}static updateTime(e){return new mn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Qc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Ch{}function pE(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Nh(s.key,mn.none()):new tu(s.key,s.data,mn.none());{const i=s.data,a=wn.empty();let l=new Ft(sn.comparator);for(let c of e.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new br(s.key,a,new jn(l.toArray()),mn.none())}}function lC(s,e,i){s instanceof tu?(function(l,c,d){const p=l.value.clone(),y=J_(l.fieldTransforms,c,d.transformResults);p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,e,i):s instanceof br?(function(l,c,d){if(!Qc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=J_(l.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(yE(l)),y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,e,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Ul(s,e,i,a){return s instanceof tu?(function(c,d,p,y){if(!Qc(c.precondition,d))return p;const _=c.value.clone(),S=W_(c.fieldTransforms,y,d);return _.setAll(S),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,e,i,a):s instanceof br?(function(c,d,p,y){if(!Qc(c.precondition,d))return p;const _=W_(c.fieldTransforms,y,d),S=d.data;return S.setAll(yE(c)),S.setAll(_),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(s,e,i,a):(function(c,d,p){return Qc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,e,i)}function uC(s,e){let i=null;for(const a of s.fieldTransforms){const l=e.data.field(a.field),c=fE(a.transform,l||null);c!=null&&(i===null&&(i=wn.empty()),i.set(a.field,c))}return i||null}function Z_(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&fo(a,l,((c,d)=>aC(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class tu extends Ch{constructor(e,i,a,l=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class br extends Ch{constructor(e,i,a,l,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function yE(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}})),e}function J_(s,e,i){const a=new Map;Je(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,p=e.data.field(c.field);a.set(c.field,sC(d,p,i[l]))}return a}function W_(s,e,i){const a=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);a.set(l.field,iC(c,d,e))}return a}class Nh extends Ch{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cC extends Ch{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class hC{constructor(e,i,a,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&lC(c,e,a[l])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Ul(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Ul(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=cE();return this.mutations.forEach((l=>{const c=e.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const y=pE(d,p);y!==null&&a.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(Se.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Fe())}isEqual(e){return this.batchId===e.batchId&&fo(this.mutations,e.mutations,((i,a)=>Z_(i,a)))&&fo(this.baseMutations,e.baseMutations,((i,a)=>Z_(i,a)))}}class eg{constructor(e,i,a,l){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(e,i,a){Je(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let l=(function(){return JR})();const c=e.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new eg(e,i,a,l)}}class fC{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class dC{constructor(e,i){this.count=e,this.unchangedNames=i}}var Pt,Qe;function mC(s){switch(s){case J.OK:return _e(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return _e(15467,{code:s})}}function _E(s){if(s===void 0)return _s("GRPC error has no .code"),J.UNKNOWN;switch(s){case Pt.OK:return J.OK;case Pt.CANCELLED:return J.CANCELLED;case Pt.UNKNOWN:return J.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return J.INTERNAL;case Pt.UNAVAILABLE:return J.UNAVAILABLE;case Pt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Pt.NOT_FOUND:return J.NOT_FOUND;case Pt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Pt.ABORTED:return J.ABORTED;case Pt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Pt.DATA_LOSS:return J.DATA_LOSS;default:return _e(39323,{code:s})}}(Qe=Pt||(Pt={}))[Qe.OK=0]="OK",Qe[Qe.CANCELLED=1]="CANCELLED",Qe[Qe.UNKNOWN=2]="UNKNOWN",Qe[Qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qe[Qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qe[Qe.NOT_FOUND=5]="NOT_FOUND",Qe[Qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qe[Qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qe[Qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qe[Qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qe[Qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qe[Qe.ABORTED=10]="ABORTED",Qe[Qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qe[Qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qe[Qe.INTERNAL=13]="INTERNAL",Qe[Qe.UNAVAILABLE=14]="UNAVAILABLE",Qe[Qe.DATA_LOSS=15]="DATA_LOSS";function gC(){return new TextEncoder}const pC=new hr([4294967295,4294967295],0);function ev(s){const e=gC().encode(s),i=new V1;return i.update(e),new Uint8Array(i.digest())}function tv(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new hr([i,a],0),new hr([l,c],0)]}class tg{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Il(`Invalid padding: ${i}`);if(a<0)throw new Il(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Il(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Il(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=hr.fromNumber(this.ge)}ye(e,i,a){let l=e.add(i.multiply(hr.fromNumber(a)));return l.compare(pC)===1&&(l=new hr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=ev(e),[a,l]=tv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(e,i,a){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new tg(c,l,i);return a.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=ev(e),[a,l]=tv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Il extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ih{constructor(e,i,a,l,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const l=new Map;return l.set(e,nu.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Ih(Se.min(),l,new pt(He),vs(),Fe())}}class nu{constructor(e,i,a,l,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new nu(a,i,Fe(),Fe(),Fe())}}class Yc{constructor(e,i,a,l){this.be=e,this.removedTargetIds=i,this.key=a,this.De=l}}class vE{constructor(e,i){this.targetId=e,this.Ce=i}}class EE{constructor(e,i,a=rn.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=l}}class nv{constructor(){this.ve=0,this.Fe=iv(),this.Me=rn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Fe(),i=Fe(),a=Fe();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:_e(38017,{changeType:c})}})),new nu(this.Me,this.xe,e,i,a)}qe(){this.Oe=!1,this.Fe=iv()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Je(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class yC{constructor(e){this.Ge=e,this.ze=new Map,this.je=vs(),this.Je=Uc(),this.He=Uc(),this.Ye=new pt(He)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:_e(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,a=e.Ce.count,l=this.ot(i);if(l){const c=l.target;if(vm(c))if(a===0){const d=new ge(c.path);this.et(i,d,un.newNoDocument(d,Se.min()))}else Je(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(e),y=p?this.ct(p,e,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=yr(a).toUint8Array()}catch(y){if(y instanceof Q1)return ho("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new tg(d,l,c)}catch(y){return ho(y instanceof Il?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&vm(p.target)){const y=new ge(p.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,un.newNoDocument(y,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Fe();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const l=new Ih(e,i,this.Ye,this.je,a);return this.je=vs(),this.Je=Uc(),this.He=Uc(),this.Ye=new pt(He),l}Xe(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new nv,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Ft(He),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Ft(He),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ae("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new nv),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Uc(){return new pt(ge.comparator)}function iv(){return new pt(ge.comparator)}const _C={asc:"ASCENDING",desc:"DESCENDING"},vC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},EC={and:"AND",or:"OR"};class TC{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Tm(s,e){return s.useProto3Json||Th(e)?e:{value:e}}function uh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function TE(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function bC(s,e){return uh(s,e.toTimestamp())}function Pi(s){return Je(!!s,49232),Se.fromTimestamp((function(i){const a=pr(i);return new dt(a.seconds,a.nanos)})(s))}function ng(s,e){return bm(s,e).canonicalString()}function bm(s,e){const i=(function(l){return new ft(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?i:i.child(e)}function bE(s){const e=ft.fromString(s);return Je(RE(e),10190,{key:e.toString()}),e}function Sm(s,e){return ng(s.databaseId,e.path)}function Jd(s,e){const i=bE(e);if(i.get(1)!==s.databaseId.projectId)throw new ue(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ue(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ge(AE(i))}function SE(s,e){return ng(s.databaseId,e)}function SC(s){const e=bE(s);return e.length===4?ft.emptyPath():AE(e)}function Am(s){return new ft(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function AE(s){return Je(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function sv(s,e,i){return{name:Sm(s,e),fields:i.value.mapValue.fields}}function AC(s,e){let i;if("targetChange"in e){e.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:_e(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(_,S){return _.useProto3Json?(Je(S===void 0||typeof S=="string",58123),rn.fromBase64String(S||"")):(Je(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),rn.fromUint8Array(S||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(_){const S=_.code===void 0?J.UNKNOWN:_E(_.code);return new ue(S,_.message||"")})(d);i=new EE(a,l,c,p||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const l=Jd(s,a.document.name),c=Pi(a.document.updateTime),d=a.document.createTime?Pi(a.document.createTime):Se.min(),p=new wn({mapValue:{fields:a.document.fields}}),y=un.newFoundDocument(l,c,d,p),_=a.targetIds||[],S=a.removedTargetIds||[];i=new Yc(_,S,y.key,y)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const l=Jd(s,a.document),c=a.readTime?Pi(a.readTime):Se.min(),d=un.newNoDocument(l,c),p=a.removedTargetIds||[];i=new Yc([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const l=Jd(s,a.document),c=a.removedTargetIds||[];i=new Yc([],c,l,null)}else{if(!("filter"in e))return _e(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new dC(l,c),p=a.targetId;i=new vE(p,d)}}return i}function wC(s,e){let i;if(e instanceof tu)i={update:sv(s,e.key,e.value)};else if(e instanceof Nh)i={delete:Sm(s,e.key)};else if(e instanceof br)i={update:sv(s,e.key,e.data),updateMask:VC(e.fieldMask)};else{if(!(e instanceof cC))return _e(16599,{Vt:e.type});i={verify:Sm(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof Fl)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Gl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Ql)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof lh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw _e(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:bC(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:_e(27497)})(s,e.precondition)),i}function xC(s,e){return s&&s.length>0?(Je(e!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?Pi(l.updateTime):Pi(c);return d.isEqual(Se.min())&&(d=Pi(c)),new oC(d,l.transformResults||[])})(i,e)))):[]}function RC(s,e){return{documents:[SE(s,e.path)]}}function CC(s,e){const i={structuredQuery:{}},a=e.path;let l;e.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=SE(s,l);const c=(function(_){if(_.length!==0)return xE(Fi.create(_,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((S=>(function(M){return{field:no(M.field),direction:DC(M.dir)}})(S)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Tm(s,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:l}}function NC(s){let e=SC(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Je(a===1,65062);const S=i.from[0];S.allDescendants?l=S.collectionId:e=e.child(S.collectionId)}let c=[];i.where&&(c=(function(A){const M=wE(A);return M instanceof Fi&&nE(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((M=>(function(G){return new oh(io(G.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(G.direction))})(M)))})(i.orderBy));let p=null;i.limit&&(p=(function(A){let M;return M=typeof A=="object"?A.value:A,Th(M)?null:M})(i.limit));let y=null;i.startAt&&(y=(function(A){const M=!!A.before,U=A.values||[];return new ah(U,M)})(i.startAt));let _=null;return i.endAt&&(_=(function(A){const M=!A.before,U=A.values||[];return new ah(U,M)})(i.endAt)),QR(e,l,d,c,p,"F",y,_)}function IC(s,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function wE(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=io(i.unaryFilter.field);return Ht.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=io(i.unaryFilter.field);return Ht.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=io(i.unaryFilter.field);return Ht.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=io(i.unaryFilter.field);return Ht.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _e(61313);default:return _e(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Ht.create(io(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _e(58110);default:return _e(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Fi.create(i.compositeFilter.filters.map((a=>wE(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return _e(1026)}})(i.compositeFilter.op))})(s):_e(30097,{filter:s})}function DC(s){return _C[s]}function MC(s){return vC[s]}function OC(s){return EC[s]}function no(s){return{fieldPath:s.canonicalString()}}function io(s){return sn.fromServerFormat(s.fieldPath)}function xE(s){return s instanceof Ht?(function(i){if(i.op==="=="){if(G_(i.value))return{unaryFilter:{field:no(i.field),op:"IS_NAN"}};if(F_(i.value))return{unaryFilter:{field:no(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(G_(i.value))return{unaryFilter:{field:no(i.field),op:"IS_NOT_NAN"}};if(F_(i.value))return{unaryFilter:{field:no(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:no(i.field),op:MC(i.op),value:i.value}}})(s):s instanceof Fi?(function(i){const a=i.getFilters().map((l=>xE(l)));return a.length===1?a[0]:{compositeFilter:{op:OC(i.op),filters:a}}})(s):_e(54877,{filter:s})}function VC(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function RE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class ar{constructor(e,i,a,l,c=Se.min(),d=Se.min(),p=rn.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(e){return new ar(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new ar(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ar(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ar(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class kC{constructor(e){this.yt=e}}function jC(s){const e=NC({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Em(e,e.limit,"L"):e}class UC{constructor(){this.Cn=new LC}addToCollectionParentIndex(e,i){return this.Cn.add(i),$.resolve()}getCollectionParents(e,i){return $.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return $.resolve()}deleteFieldIndex(e,i){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,i){return $.resolve()}getDocumentsMatchingTarget(e,i){return $.resolve(null)}getIndexType(e,i){return $.resolve(0)}getFieldIndexes(e,i){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,i){return $.resolve(gr.min())}getMinOffsetFromCollectionGroup(e,i){return $.resolve(gr.min())}updateCollectionGroup(e,i,a){return $.resolve()}updateIndexEntries(e,i){return $.resolve()}}class LC{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i]||new Ft(ft.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(e){return(this.index[e]||new Ft(ft.comparator)).toArray()}}const rv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},CE=41943040;class An{static withCacheSize(e){return new An(e,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}An.DEFAULT_COLLECTION_PERCENTILE=10,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,An.DEFAULT=new An(CE,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),An.DISABLED=new An(-1,0,0);class po{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new po(0)}static cr(){return new po(-1)}}const av="LruGarbageCollector",PC=1048576;function ov([s,e],[i,a]){const l=He(s,i);return l===0?He(e,a):l}class zC{constructor(e){this.Ir=e,this.buffer=new Ft(ov),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();ov(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class BC{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ae(av,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){So(i)?ae(av,"Ignoring IndexedDB error during garbage collection: ",i):await bo(i)}await this.Vr(3e5)}))}}class qC{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return $.resolve(Eh.ce);const a=new zC(i);return this.mr.forEachTarget(e,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(rv)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),rv):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,l,c,d,p,y,_;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,d=Date.now(),this.nthSequenceNumber(e,l)))).next((A=>(a=A,p=Date.now(),this.removeTargets(e,a,i)))).next((A=>(c=A,y=Date.now(),this.removeOrphanedDocuments(e,a)))).next((A=>(_=Date.now(),eo()<=qe.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(y-p)+`ms
	Removed ${A} documents in `+(_-y)+`ms
Total Duration: ${_-S}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:A}))))}}function HC(s,e){return new qC(s,e)}class FC{constructor(){this.changes=new ca((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,un.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?$.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class GC{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class QC{constructor(e,i,a,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(a!==null&&Ul(a.mutation,l,jn.empty(),dt.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,Fe()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=Fe()){const l=na();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,a).next((c=>{let d=Nl();return c.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=na();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,Fe())))}populateOverlays(e,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,a,l){let c=vs();const d=jl(),p=(function(){return jl()})();return i.forEach(((y,_)=>{const S=a.get(_.key);l.has(_.key)&&(S===void 0||S.mutation instanceof br)?c=c.insert(_.key,_):S!==void 0?(d.set(_.key,S.mutation.getFieldMask()),Ul(S.mutation,_,S.mutation.getFieldMask(),dt.now())):d.set(_.key,jn.empty())})),this.recalculateAndSaveOverlays(e,c).next((y=>(y.forEach(((_,S)=>d.set(_,S))),i.forEach(((_,S)=>p.set(_,new GC(S,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(e,i){const a=jl();let l=new pt(((d,p)=>d-p)),c=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let S=a.get(y)||jn.empty();S=p.applyToLocalView(_,S),a.set(y,S);const A=(l.get(p.batchId)||Fe()).add(y);l=l.insert(p.batchId,A)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),_=y.key,S=y.value,A=cE();S.forEach((M=>{if(!c.has(M)){const U=pE(i.get(M),a.get(M));U!==null&&A.set(M,U),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,A))}return $.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,l){return(function(d){return ge.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):YR(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,l):this.getDocumentsMatchingCollectionQuery(e,i,a,l)}getNextDocuments(e,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,l-c.size):$.resolve(na());let p=zl,y=c;return d.next((_=>$.forEach(_,((S,A)=>(p<A.largestBatchId&&(p=A.largestBatchId),c.get(S)?$.resolve():this.remoteDocumentCache.getEntry(e,S).next((M=>{y=y.insert(S,M)}))))).next((()=>this.populateOverlays(e,_,c))).next((()=>this.computeViews(e,y,_,Fe()))).next((S=>({batchId:p,changes:uE(S)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ge(i)).next((a=>{let l=Nl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,l){const c=i.collectionGroup;let d=Nl();return this.indexManager.getCollectionParents(e,c).next((p=>$.forEach(p,(y=>{const _=(function(A,M){return new Sh(M,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,a,l).next((S=>{S.forEach(((A,M)=>{d=d.insert(A,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,l)))).next((d=>{c.forEach(((y,_)=>{const S=_.getKey();d.get(S)===null&&(d=d.insert(S,un.newInvalidDocument(S)))}));let p=Nl();return d.forEach(((y,_)=>{const S=c.get(y);S!==void 0&&Ul(S.mutation,_,jn.empty(),dt.now()),xh(i,_)&&(p=p.insert(y,_))})),p}))}}class YC{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return $.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Pi(l.createTime)}})(i)),$.resolve()}getNamedQuery(e,i){return $.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:jC(l.bundledQuery),readTime:Pi(l.readTime)}})(i)),$.resolve()}}class KC{constructor(){this.overlays=new pt(ge.comparator),this.qr=new Map}getOverlay(e,i){return $.resolve(this.overlays.get(i))}getOverlays(e,i){const a=na();return $.forEach(i,(l=>this.getOverlay(e,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((l,c)=>{this.St(e,i,c)})),$.resolve()}removeOverlaysForBatchId(e,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),$.resolve()}getOverlaysForCollection(e,i,a){const l=na(),c=i.length+1,d=new ge(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>a&&l.set(y.getKey(),y)}return $.resolve(l)}getOverlaysForCollectionGroup(e,i,a,l){let c=new pt(((_,S)=>_-S));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let S=c.get(_.largestBatchId);S===null&&(S=na(),c=c.insert(_.largestBatchId,S)),S.set(_.getKey(),_)}}const p=na(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,S)=>p.set(_,S))),!(p.size()>=l)););return $.resolve(p)}St(e,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new fC(i,a));let c=this.qr.get(i);c===void 0&&(c=Fe(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class XC{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,$.resolve()}}class ig{constructor(){this.Qr=new Ft(Xt.$r),this.Ur=new Ft(Xt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new Xt(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Gr(new Xt(e,i))}zr(e,i){e.forEach((a=>this.removeReference(a,i)))}jr(e){const i=new ge(new ft([])),a=new Xt(i,e),l=new Xt(i,e+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new ge(new ft([])),a=new Xt(i,e),l=new Xt(i,e+1);let c=Fe();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new Xt(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Xt{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return ge.comparator(e.key,i.key)||He(e.Yr,i.Yr)}static Kr(e,i){return He(e.Yr,i.Yr)||ge.comparator(e.key,i.key)}}class $C{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ft(Xt.$r)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new hC(c,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new Xt(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return $.resolve(d)}lookupMutationBatch(e,i){return $.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Km:this.tr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Xt(i,0),l=new Xt(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Ft(He);return i.forEach((l=>{const c=new Xt(l,0),d=new Xt(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{a=a.add(p.Yr)}))})),$.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,l=a.length+1;let c=a;ge.isDocumentKey(c)||(c=c.child(""));const d=new Xt(new ge(c),0);let p=new Ft(He);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!a.isPrefixOf(_)&&(_.length===l&&(p=p.add(y.Yr)),!0)}),d),$.resolve(this.ti(p))}ti(e){const i=[];return e.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){Je(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return $.forEach(i.mutations,(l=>{const c=new Xt(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,i){const a=new Xt(i,0),l=this.Zr.firstAfterOrEqual(a);return $.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class ZC{constructor(e){this.ri=e,this.docs=(function(){return new pt(ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return $.resolve(a?a.document.mutableCopy():un.newInvalidDocument(i))}getEntries(e,i){let a=vs();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():un.newInvalidDocument(l))})),$.resolve(a)}getDocumentsMatchingQuery(e,i,a,l){let c=vs();const d=i.path,p=new ge(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:_,value:{document:S}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||AR(SR(S),a)<=0||(l.has(S.key)||xh(i,S))&&(c=c.insert(S.key,S.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(e,i,a,l){_e(9500)}ii(e,i){return $.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new JC(this)}getSize(e){return $.resolve(this.size)}}class JC extends FC{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(a)})),$.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class WC{constructor(e){this.persistence=e,this.si=new ca((i=>Zm(i)),Jm),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.oi=0,this._i=new ig,this.targetCount=0,this.ai=po.ur()}forEachTarget(e,i){return this.si.forEach(((a,l)=>i(l))),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),$.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new po(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,$.resolve()}updateTargetData(e,i){return this.Pr(i),$.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,i,a){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),l++)})),$.waitFor(c).next((()=>l))}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return $.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),$.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(e,d))})),$.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),$.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return $.resolve(a)}containsKey(e,i){return $.resolve(this._i.containsKey(i))}}class NE{constructor(e,i){this.ui={},this.overlays={},this.ci=new Eh(0),this.li=!1,this.li=!0,this.hi=new XC,this.referenceDelegate=e(this),this.Pi=new WC(this),this.indexManager=new UC,this.remoteDocumentCache=(function(l){return new ZC(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new kC(i),this.Ii=new YC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new KC,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new $C(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){ae("MemoryPersistence","Starting transaction:",e);const l=new eN(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(e,i){return $.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,i))))}}class eN extends xR{constructor(e){super(),this.currentSequenceNumber=e}}class sg{constructor(e){this.persistence=e,this.Ri=new ig,this.Vi=null}static mi(e){return new sg(e)}get fi(){if(this.Vi)return this.Vi;throw _e(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),$.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),$.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),$.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(a=>{const l=ge.fromPath(a);return this.gi(e,l).next((c=>{c||i.removeEntry(l,Se.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class ch{constructor(e,i){this.persistence=e,this.pi=new ca((a=>NR(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=HC(this,i)}static mi(e,i){return new ch(e,i)}Ei(){}di(e){return $.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((l=>a+l))))}wr(e){let i=0;return this.pr(e,(a=>{i++})).next((()=>i))}pr(e,i){return $.forEach(this.pi,((a,l)=>this.br(e,a,l).next((c=>c?$.resolve():i(l)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(e,(d=>this.br(e,d,i).next((p=>{p||(a++,c.removeEntry(d,Se.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),$.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),$.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),$.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Fc(e.data.value)),i}br(e,i,a){return $.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.pi.get(i);return $.resolve(l!==void 0&&l>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class rg{constructor(e,i,a,l){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=l}static As(e,i){let a=Fe(),l=Fe();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new rg(e,i.fromCache,a,l)}}class tN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class nN{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return HA()?8:RR(cn())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,l){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new tN;return this.Ss(e,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(e,i,d,p.size)}))})).next((()=>c.result))}bs(e,i,a,l){return a.documentReadCount<this.fs?(eo()<=qe.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",to(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(eo()<=qe.DEBUG&&ae("QueryEngine","Query:",to(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(eo()<=qe.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",to(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Li(i))):$.resolve())}ys(e,i){if(X_(i))return $.resolve(null);let a=Li(i);return this.indexManager.getIndexType(e,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Em(i,null,"F"),a=Li(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=Fe(...c);return this.ps.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,a).next((y=>{const _=this.Ds(i,p);return this.Cs(i,_,d,y.readTime)?this.ys(e,Em(i,null,"F")):this.vs(e,_,i,y)}))))})))))}ws(e,i,a,l){return X_(i)||l.isEqual(Se.min())?$.resolve(null):this.ps.getDocuments(e,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?$.resolve(null):(eo()<=qe.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),to(i)),this.vs(e,d,i,bR(l,zl)).next((p=>p)))}))}Ds(e,i){let a=new Ft(oE(e));return i.forEach(((l,c)=>{xh(e,c)&&(a=a.add(c))})),a}Cs(e,i,a,l){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(e,i,a){return eo()<=qe.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",to(i)),this.ps.getDocumentsMatchingQuery(e,i,gr.min(),a)}vs(e,i,a,l){return this.ps.getDocumentsMatchingQuery(e,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const ag="LocalStore",iN=3e8;class sN{constructor(e,i,a,l){this.persistence=e,this.Fs=i,this.serializer=l,this.Ms=new pt(He),this.xs=new ca((c=>Zm(c)),Jm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new QC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function rN(s,e,i,a){return new sN(s,e,i,a)}async function IE(s,e){const i=xe(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let y=Fe();for(const _ of l){d.push(_.batchId);for(const S of _.mutations)y=y.add(S.key)}for(const _ of c){p.push(_.batchId);for(const S of _.mutations)y=y.add(S.key)}return i.localDocuments.getDocuments(a,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function aN(s,e){const i=xe(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,_,S){const A=_.batch,M=A.keys();let U=$.resolve();return M.forEach((G=>{U=U.next((()=>S.getEntry(y,G))).next((ee=>{const Z=_.docVersions.get(G);Je(Z!==null,48541),ee.version.compareTo(Z)<0&&(A.applyToRemoteDocument(ee,_),ee.isValidDocument()&&(ee.setReadTime(_.commitVersion),S.addEntry(ee)))}))})),U.next((()=>p.mutationQueue.removeMutationBatch(y,A)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let y=Fe();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(y=y.add(p.batch.mutations[_].key));return y})(e)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function DE(s){const e=xe(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function oN(s,e){const i=xe(s),a=e.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];e.targetChanges.forEach(((S,A)=>{const M=l.get(A);if(!M)return;p.push(i.Pi.removeMatchingKeys(c,S.removedDocuments,A).next((()=>i.Pi.addMatchingKeys(c,S.addedDocuments,A))));let U=M.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(A)!==null?U=U.withResumeToken(rn.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):S.resumeToken.approximateByteSize()>0&&(U=U.withResumeToken(S.resumeToken,a)),l=l.insert(A,U),(function(ee,Z,he){return ee.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-ee.snapshotVersion.toMicroseconds()>=iN?!0:he.addedDocuments.size+he.modifiedDocuments.size+he.removedDocuments.size>0})(M,U,S)&&p.push(i.Pi.updateTargetData(c,U))}));let y=vs(),_=Fe();if(e.documentUpdates.forEach((S=>{e.resolvedLimboDocuments.has(S)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,S))})),p.push(lN(c,d,e.documentUpdates).next((S=>{y=S.ks,_=S.qs}))),!a.isEqual(Se.min())){const S=i.Pi.getLastRemoteSnapshotVersion(c).next((A=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(S)}return $.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.Ms=l,c)))}function lN(s,e,i){let a=Fe(),l=Fe();return i.forEach((c=>a=a.add(c))),e.getEntries(s,a).next((c=>{let d=vs();return i.forEach(((p,y)=>{const _=c.get(p);y.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(p)),y.isNoDocument()&&y.version.isEqual(Se.min())?(e.removeEntry(p,y.readTime),d=d.insert(p,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(y),d=d.insert(p,y)):ae(ag,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function uN(s,e){const i=xe(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Km),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function cN(s,e){const i=xe(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,e).next((c=>c?(l=c,$.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new ar(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(e,a.targetId)),a}))}async function wm(s,e,i){const a=xe(s),l=a.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!So(d))throw d;ae(ag,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(l.target)}function lv(s,e,i){const a=xe(s);let l=Se.min(),c=Fe();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,S){const A=xe(y),M=A.xs.get(S);return M!==void 0?$.resolve(A.Ms.get(M)):A.Pi.getTargetData(_,S)})(a,d,Li(e)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((y=>{c=y}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,e,i?l:Se.min(),i?c:Fe()))).next((p=>(hN(a,XR(e),p),{documents:p,Qs:c})))))}function hN(s,e,i){let a=s.Os.get(e)||Se.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Os.set(e,a)}class uv{constructor(){this.activeTargetIds=tC()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class fN{constructor(){this.Mo=new uv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new uv,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class dN{Oo(e){}shutdown(){}}const cv="ConnectivityMonitor";class hv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ae(cv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ae(cv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Lc=null;function xm(){return Lc===null?Lc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Lc++,"0x"+Lc.toString(16)}const Wd="RestConnection",mN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class gN{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===sh?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(e,i,a,l,c){const d=xm(),p=this.zo(e,i.toUriEncodedString());ae(Wd,`Sending RPC '${e}' ${d}:`,p,a);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,c);const{host:_}=new URL(p),S=_o(_);return this.Jo(e,p,y,a,S).then((A=>(ae(Wd,`Received RPC '${e}' ${d}: `,A),A)),(A=>{throw ho(Wd,`RPC '${e}' ${d} failed with error: `,A,"url: ",p,"request:",a),A}))}Ho(e,i,a,l,c,d){return this.Go(e,i,a,l,c)}jo(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+To})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>e[c]=l)),a&&a.headers.forEach(((l,c)=>e[c]=l))}zo(e,i){const a=mN[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class pN{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const on="WebChannelConnection";class yN extends gN{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,l,c){const d=xm();return new Promise(((p,y)=>{const _=new k1;_.setWithCredentials(!0),_.listenOnce(j1.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Hc.NO_ERROR:const A=_.getResponseJson();ae(on,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(A)),p(A);break;case Hc.TIMEOUT:ae(on,`RPC '${e}' ${d} timed out`),y(new ue(J.DEADLINE_EXCEEDED,"Request time out"));break;case Hc.HTTP_ERROR:const M=_.getStatus();if(ae(on,`RPC '${e}' ${d} failed with status:`,M,"response text:",_.getResponseText()),M>0){let U=_.getResponseJson();Array.isArray(U)&&(U=U[0]);const G=U?.error;if(G&&G.status&&G.message){const ee=(function(he){const fe=he.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(fe)>=0?fe:J.UNKNOWN})(G.status);y(new ue(ee,G.message))}else y(new ue(J.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new ue(J.UNAVAILABLE,"Connection failed."));break;default:_e(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ae(on,`RPC '${e}' ${d} completed.`)}}));const S=JSON.stringify(l);ae(on,`RPC '${e}' ${d} sending request:`,l),_.send(i,"POST",S,a,15)}))}T_(e,i,a){const l=xm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=P1(),p=L1(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const S=c.join("");ae(on,`Creating RPC '${e}' stream ${l}: ${S}`,y);const A=d.createWebChannel(S,y);this.I_(A);let M=!1,U=!1;const G=new pN({Yo:Z=>{U?ae(on,`Not sending because RPC '${e}' stream ${l} is closed:`,Z):(M||(ae(on,`Opening RPC '${e}' stream ${l} transport.`),A.open(),M=!0),ae(on,`RPC '${e}' stream ${l} sending:`,Z),A.send(Z))},Zo:()=>A.close()}),ee=(Z,he,fe)=>{Z.listen(he,(pe=>{try{fe(pe)}catch(De){setTimeout((()=>{throw De}),0)}}))};return ee(A,Cl.EventType.OPEN,(()=>{U||(ae(on,`RPC '${e}' stream ${l} transport opened.`),G.o_())})),ee(A,Cl.EventType.CLOSE,(()=>{U||(U=!0,ae(on,`RPC '${e}' stream ${l} transport closed`),G.a_(),this.E_(A))})),ee(A,Cl.EventType.ERROR,(Z=>{U||(U=!0,ho(on,`RPC '${e}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),G.a_(new ue(J.UNAVAILABLE,"The operation could not be completed")))})),ee(A,Cl.EventType.MESSAGE,(Z=>{if(!U){const he=Z.data[0];Je(!!he,16349);const fe=he,pe=fe?.error||fe[0]?.error;if(pe){ae(on,`RPC '${e}' stream ${l} received error:`,pe);const De=pe.status;let Ve=(function(w){const R=Pt[w];if(R!==void 0)return _E(R)})(De),ke=pe.message;Ve===void 0&&(Ve=J.INTERNAL,ke="Unknown error status: "+De+" with message "+pe.message),U=!0,G.a_(new ue(Ve,ke)),A.close()}else ae(on,`RPC '${e}' stream ${l} received:`,he),G.u_(he)}})),ee(p,U1.STAT_EVENT,(Z=>{Z.stat===mm.PROXY?ae(on,`RPC '${e}' stream ${l} detected buffering proxy`):Z.stat===mm.NOPROXY&&ae(on,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{G.__()}),0),G}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function em(){return typeof document<"u"?document:null}function Dh(s){return new TC(s,!0)}class ME{constructor(e,i,a=1e3,l=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&ae("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const fv="PersistentStream";class OE{constructor(e,i,a,l,c,d,p,y){this.Mi=e,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ME(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(_s(i.toString()),_s("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{e((()=>{const l=new ue(J.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ae(fv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(ae(fv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class _N extends OE{constructor(e,i,a,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=AC(this.serializer,e),a=(function(c){if(!("targetChange"in c))return Se.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Se.min():d.readTime?Pi(d.readTime):Se.min()})(e);return this.listener.H_(i,a)}Y_(e){const i={};i.database=Am(this.serializer),i.addTarget=(function(c,d){let p;const y=d.target;if(p=vm(y)?{documents:RC(c,y)}:{query:CC(c,y).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=TE(c,d.resumeToken);const _=Tm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(Se.min())>0){p.readTime=uh(c,d.snapshotVersion.toTimestamp());const _=Tm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,e);const a=IC(this.serializer,e);a&&(i.labels=a),this.q_(i)}Z_(e){const i={};i.database=Am(this.serializer),i.removeTarget=e,this.q_(i)}}class vN extends OE{constructor(e,i,a,l,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Je(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Je(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Je(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=xC(e.writeResults,e.commitTime),a=Pi(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=Am(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>wC(this.serializer,a)))};this.q_(i)}}class EN{}class TN extends EN{constructor(e,i,a,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ue(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,bm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ue(J.UNKNOWN,c.toString())}))}Ho(e,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(e,bm(i,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ue(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class bN{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(_s(i),this.aa=!1):ae("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ua="RemoteStore";class SN{constructor(e,i,a,l,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{ha(this)&&(ae(ua,"Restarting streams for network reachability change."),await(async function(y){const _=xe(y);_.Ea.add(4),await iu(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Mh(_)})(this))}))})),this.Ra=new bN(a,l)}}async function Mh(s){if(ha(s))for(const e of s.da)await e(!0)}async function iu(s){for(const e of s.da)await e(!1)}function VE(s,e){const i=xe(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),cg(i)?ug(i):Ao(i).O_()&&lg(i,e))}function og(s,e){const i=xe(s),a=Ao(i);i.Ia.delete(e),a.O_()&&kE(i,e),i.Ia.size===0&&(a.O_()?a.L_():ha(i)&&i.Ra.set("Unknown"))}function lg(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Ao(s).Y_(e)}function kE(s,e){s.Va.Ue(e),Ao(s).Z_(e)}function ug(s){s.Va=new yC({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Ao(s).start(),s.Ra.ua()}function cg(s){return ha(s)&&!Ao(s).x_()&&s.Ia.size>0}function ha(s){return xe(s).Ea.size===0}function jE(s){s.Va=void 0}async function AN(s){s.Ra.set("Online")}async function wN(s){s.Ia.forEach(((e,i)=>{lg(s,e)}))}async function xN(s,e){jE(s),cg(s)?(s.Ra.ha(e),ug(s)):s.Ra.set("Unknown")}async function RN(s,e,i){if(s.Ra.set("Online"),e instanceof EE&&e.state===2&&e.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(s,e)}catch(a){ae(ua,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await hh(s,a)}else if(e instanceof Yc?s.Va.Ze(e):e instanceof vE?s.Va.st(e):s.Va.tt(e),!i.isEqual(Se.min()))try{const a=await DE(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const S=c.Ia.get(_);S&&c.Ia.set(_,S.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,_)=>{const S=c.Ia.get(y);if(!S)return;c.Ia.set(y,S.withResumeToken(rn.EMPTY_BYTE_STRING,S.snapshotVersion)),kE(c,y);const A=new ar(S.target,y,_,S.sequenceNumber);lg(c,A)})),c.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(a){ae(ua,"Failed to raise snapshot:",a),await hh(s,a)}}async function hh(s,e,i){if(!So(e))throw e;s.Ea.add(1),await iu(s),s.Ra.set("Offline"),i||(i=()=>DE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ae(ua,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Mh(s)}))}function UE(s,e){return e().catch((i=>hh(s,i,e)))}async function Oh(s){const e=xe(s),i=vr(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Km;for(;CN(e);)try{const l=await uN(e.localStore,a);if(l===null){e.Ta.length===0&&i.L_();break}a=l.batchId,NN(e,l)}catch(l){await hh(e,l)}LE(e)&&PE(e)}function CN(s){return ha(s)&&s.Ta.length<10}function NN(s,e){s.Ta.push(e);const i=vr(s);i.O_()&&i.X_&&i.ea(e.mutations)}function LE(s){return ha(s)&&!vr(s).x_()&&s.Ta.length>0}function PE(s){vr(s).start()}async function IN(s){vr(s).ra()}async function DN(s){const e=vr(s);for(const i of s.Ta)e.ea(i.mutations)}async function MN(s,e,i){const a=s.Ta.shift(),l=eg.from(a,e,i);await UE(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Oh(s)}async function ON(s,e){e&&vr(s).X_&&await(async function(a,l){if((function(d){return mC(d)&&d!==J.ABORTED})(l.code)){const c=a.Ta.shift();vr(a).B_(),await UE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Oh(a)}})(s,e),LE(s)&&PE(s)}async function dv(s,e){const i=xe(s);i.asyncQueue.verifyOperationInProgress(),ae(ua,"RemoteStore received new credentials");const a=ha(i);i.Ea.add(3),await iu(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Mh(i)}async function VN(s,e){const i=xe(s);e?(i.Ea.delete(2),await Mh(i)):e||(i.Ea.add(2),await iu(i),i.Ra.set("Unknown"))}function Ao(s){return s.ma||(s.ma=(function(i,a,l){const c=xe(i);return c.sa(),new _N(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:AN.bind(null,s),t_:wN.bind(null,s),r_:xN.bind(null,s),H_:RN.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),cg(s)?ug(s):s.Ra.set("Unknown")):(await s.ma.stop(),jE(s))}))),s.ma}function vr(s){return s.fa||(s.fa=(function(i,a,l){const c=xe(i);return c.sa(),new vN(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:IN.bind(null,s),r_:ON.bind(null,s),ta:DN.bind(null,s),na:MN.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await Oh(s)):(await s.fa.stop(),s.Ta.length>0&&(ae(ua,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class hg{constructor(e,i,a,l,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new fr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,l,c){const d=Date.now()+a,p=new hg(e,i,d,l,c);return p.start(a),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fg(s,e){if(_s("AsyncQueue",`${e}: ${s}`),So(s))return new ue(J.UNAVAILABLE,`${e}: ${s}`);throw s}class lo{static emptySet(e){return new lo(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||ge.comparator(i.key,a.key):(i,a)=>ge.comparator(i.key,a.key),this.keyedMap=Nl(),this.sortedSet=new pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof lo)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new lo;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class mv{constructor(){this.ga=new pt(ge.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):_e(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class yo{constructor(e,i,a,l,c,d,p,y,_){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(e,i,a,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new yo(e,i,lo.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class kN{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class jN{constructor(){this.queries=gv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=xe(i),c=l.queries;l.queries=gv(),c.forEach(((d,p)=>{for(const y of p.Sa)y.onError(a)}))})(this,new ue(J.ABORTED,"Firestore shutting down"))}}function gv(){return new ca((s=>aE(s)),wh)}async function zE(s,e){const i=xe(s);let a=3;const l=e.query;let c=i.queries.get(l);c?!c.ba()&&e.Da()&&(a=2):(c=new kN,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=fg(d,`Initialization of query '${to(e.query)}' failed`);return void e.onError(p)}i.queries.set(l,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&dg(i)}async function BE(s,e){const i=xe(s),a=e.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=e.Da()?0:1:!c.ba()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function UN(s,e){const i=xe(s);let a=!1;for(const l of e){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(a=!0);d.wa=l}}a&&dg(i)}function LN(s,e,i){const a=xe(s),l=a.queries.get(e);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(e)}function dg(s){s.Ca.forEach((e=>{e.next()}))}var Rm,pv;(pv=Rm||(Rm={})).Ma="default",pv.Cache="cache";class qE{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const l of e.docChanges)l.type!==3&&a.push(l);e=new yo(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=yo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Rm.Cache}}class HE{constructor(e){this.key=e}}class FE{constructor(e){this.key=e}}class PN{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Fe(),this.mutatedKeys=Fe(),this.eu=oE(e),this.tu=new lo(this.eu)}get nu(){return this.Ya}ru(e,i){const a=i?i.iu:new mv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((S,A)=>{const M=l.get(S),U=xh(this.query,A)?A:null,G=!!M&&this.mutatedKeys.has(M.key),ee=!!U&&(U.hasLocalMutations||this.mutatedKeys.has(U.key)&&U.hasCommittedMutations);let Z=!1;M&&U?M.data.isEqual(U.data)?G!==ee&&(a.track({type:3,doc:U}),Z=!0):this.su(M,U)||(a.track({type:2,doc:U}),Z=!0,(y&&this.eu(U,y)>0||_&&this.eu(U,_)<0)&&(p=!0)):!M&&U?(a.track({type:0,doc:U}),Z=!0):M&&!U&&(a.track({type:1,doc:M}),Z=!0,(y||_)&&(p=!0)),Z&&(U?(d=d.add(U),c=ee?c.add(S):c.delete(S)):(d=d.delete(S),c=c.delete(S)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),c=c.delete(S.key),a.track({type:1,doc:S})}return{tu:d,iu:a,Cs:p,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((S,A)=>(function(U,G){const ee=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e(20277,{Rt:Z})}};return ee(U)-ee(G)})(S.type,A.type)||this.eu(S.doc,A.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new yo(this.query,e.tu,c,d,e.mutatedKeys,y===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new mv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Fe(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return e.forEach((a=>{this.Xa.has(a)||i.push(new FE(a))})),this.Xa.forEach((a=>{e.has(a)||i.push(new HE(a))})),i}cu(e){this.Ya=e.Qs,this.Xa=Fe();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return yo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const mg="SyncEngine";class zN{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class BN{constructor(e){this.key=e,this.hu=!1}}class qN{constructor(e,i,a,l,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ca((p=>aE(p)),wh),this.Iu=new Map,this.Eu=new Set,this.du=new pt(ge.comparator),this.Au=new Map,this.Ru=new ig,this.Vu={},this.mu=new Map,this.fu=po.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function HN(s,e,i=!0){const a=$E(s);let l;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await GE(a,e,i,!0),l}async function FN(s,e){const i=$E(s);await GE(i,e,!0,!1)}async function GE(s,e,i,a){const l=await cN(s.localStore,Li(e)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await GN(s,e,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&VE(s.remoteStore,l),p}async function GN(s,e,i,a,l){s.pu=(A,M,U)=>(async function(ee,Z,he,fe){let pe=Z.view.ru(he);pe.Cs&&(pe=await lv(ee.localStore,Z.query,!1).then((({documents:N})=>Z.view.ru(N,pe))));const De=fe&&fe.targetChanges.get(Z.targetId),Ve=fe&&fe.targetMismatches.get(Z.targetId)!=null,ke=Z.view.applyChanges(pe,ee.isPrimaryClient,De,Ve);return _v(ee,Z.targetId,ke.au),ke.snapshot})(s,A,M,U);const c=await lv(s.localStore,e,!0),d=new PN(e,c.Qs),p=d.ru(c.documents),y=nu.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",l),_=d.applyChanges(p,s.isPrimaryClient,y);_v(s,i,_.au);const S=new zN(e,i,d);return s.Tu.set(e,S),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),_.snapshot}async function QN(s,e,i){const a=xe(s),l=a.Tu.get(e),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!wh(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await wm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&og(a.remoteStore,l.targetId),Cm(a,l.targetId)})).catch(bo)):(Cm(a,l.targetId),await wm(a.localStore,l.targetId,!0))}async function YN(s,e){const i=xe(s),a=i.Tu.get(e),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),og(i.remoteStore,a.targetId))}async function KN(s,e,i){const a=tI(s);try{const l=await(function(d,p){const y=xe(d),_=dt.now(),S=p.reduce(((U,G)=>U.add(G.key)),Fe());let A,M;return y.persistence.runTransaction("Locally write mutations","readwrite",(U=>{let G=vs(),ee=Fe();return y.Ns.getEntries(U,S).next((Z=>{G=Z,G.forEach(((he,fe)=>{fe.isValidDocument()||(ee=ee.add(he))}))})).next((()=>y.localDocuments.getOverlayedDocuments(U,G))).next((Z=>{A=Z;const he=[];for(const fe of p){const pe=uC(fe,A.get(fe.key).overlayedDocument);pe!=null&&he.push(new br(fe.key,pe,W1(pe.value.mapValue),mn.exists(!0)))}return y.mutationQueue.addMutationBatch(U,_,he,p)})).next((Z=>{M=Z;const he=Z.applyToLocalDocumentSet(A,ee);return y.documentOverlayCache.saveOverlays(U,Z.batchId,he)}))})).then((()=>({batchId:M.batchId,changes:uE(A)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new pt(He)),_=_.insert(p,y),d.Vu[d.currentUser.toKey()]=_})(a,l.batchId,i),await su(a,l.changes),await Oh(a.remoteStore)}catch(l){const c=fg(l,"Failed to persist write");i.reject(c)}}async function QE(s,e){const i=xe(s);try{const a=await oN(i.localStore,e);e.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Je(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Je(d.hu,14607):l.removedDocuments.size>0&&(Je(d.hu,42227),d.hu=!1))})),await su(i,a,e)}catch(a){await bo(a)}}function yv(s,e,i){const a=xe(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(e);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const y=xe(d);y.onlineState=p;let _=!1;y.queries.forEach(((S,A)=>{for(const M of A.Sa)M.va(p)&&(_=!0)})),_&&dg(y)})(a.eventManager,e),l.length&&a.Pu.H_(l),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function XN(s,e,i){const a=xe(s);a.sharedClientState.updateQueryState(e,"rejected",i);const l=a.Au.get(e),c=l&&l.key;if(c){let d=new pt(ge.comparator);d=d.insert(c,un.newNoDocument(c,Se.min()));const p=Fe().add(c),y=new Ih(Se.min(),new Map,new pt(He),d,p);await QE(a,y),a.du=a.du.remove(c),a.Au.delete(e),gg(a)}else await wm(a.localStore,e,!1).then((()=>Cm(a,e,i))).catch(bo)}async function $N(s,e){const i=xe(s),a=e.batch.batchId;try{const l=await aN(i.localStore,e);KE(i,a,null),YE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await su(i,l)}catch(l){await bo(l)}}async function ZN(s,e,i){const a=xe(s);try{const l=await(function(d,p){const y=xe(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let S;return y.mutationQueue.lookupMutationBatch(_,p).next((A=>(Je(A!==null,37113),S=A.keys(),y.mutationQueue.removeMutationBatch(_,A)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,S,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,S))).next((()=>y.localDocuments.getDocuments(_,S)))}))})(a.localStore,e);KE(a,e,i),YE(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await su(a,l)}catch(l){await bo(l)}}function YE(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function KE(s,e,i){const a=xe(s);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(e);c&&(i?c.reject(i):c.resolve(),l=l.remove(e)),a.Vu[a.currentUser.toKey()]=l}}function Cm(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Iu.get(e))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((a=>{s.Ru.containsKey(a)||XE(s,a)}))}function XE(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(og(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),gg(s))}function _v(s,e,i){for(const a of i)a instanceof HE?(s.Ru.addReference(a.key,e),JN(s,a)):a instanceof FE?(ae(mg,"Document no longer in limbo: "+a.key),s.Ru.removeReference(a.key,e),s.Ru.containsKey(a.key)||XE(s,a.key)):_e(19791,{wu:a})}function JN(s,e){const i=e.key,a=i.path.canonicalString();s.du.get(i)||s.Eu.has(a)||(ae(mg,"New document in limbo: "+i),s.Eu.add(a),gg(s))}function gg(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new ge(ft.fromString(e)),a=s.fu.next();s.Au.set(a,new BN(i)),s.du=s.du.insert(i,a),VE(s.remoteStore,new ar(Li(Ah(i.path)),a,"TargetPurposeLimboResolution",Eh.ce))}}async function su(s,e,i){const a=xe(s),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,y)=>{d.push(a.pu(y,e,i).then((_=>{if((_||i)&&a.isPrimaryClient){const S=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;a.sharedClientState.updateQueryState(y.targetId,S?"current":"not-current")}if(_){l.push(_);const S=rg.As(y.targetId,_);c.push(S)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(y,_){const S=xe(y);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>$.forEach(_,(M=>$.forEach(M.Es,(U=>S.persistence.referenceDelegate.addReference(A,M.targetId,U))).next((()=>$.forEach(M.ds,(U=>S.persistence.referenceDelegate.removeReference(A,M.targetId,U)))))))))}catch(A){if(!So(A))throw A;ae(ag,"Failed to update sequence numbers: "+A)}for(const A of _){const M=A.targetId;if(!A.fromCache){const U=S.Ms.get(M),G=U.snapshotVersion,ee=U.withLastLimboFreeSnapshotVersion(G);S.Ms=S.Ms.insert(M,ee)}}})(a.localStore,c))}async function WN(s,e){const i=xe(s);if(!i.currentUser.isEqual(e)){ae(mg,"User change. New user:",e.toKey());const a=await IE(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((p=>{p.forEach((y=>{y.reject(new ue(J.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await su(i,a.Ls)}}function eI(s,e){const i=xe(s),a=i.Au.get(e);if(a&&a.hu)return Fe().add(a.key);{let l=Fe();const c=i.Iu.get(e);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function $E(s){const e=xe(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=QE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=eI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=XN.bind(null,e),e.Pu.H_=UN.bind(null,e.eventManager),e.Pu.yu=LN.bind(null,e.eventManager),e}function tI(s){const e=xe(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$N.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ZN.bind(null,e),e}class fh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Dh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return rN(this.persistence,new nN,e.initialUser,this.serializer)}Cu(e){return new NE(sg.mi,this.serializer)}Du(e){return new fN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fh.provider={build:()=>new fh};class nI extends fh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Je(this.persistence.referenceDelegate instanceof ch,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new BC(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?An.withCacheSize(this.cacheSizeBytes):An.DEFAULT;return new NE((a=>ch.mi(a,i)),this.serializer)}}class Nm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>yv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=WN.bind(null,this.syncEngine),await VN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new jN})()}createDatastore(e){const i=Dh(e.databaseInfo.databaseId),a=(function(c){return new yN(c)})(e.databaseInfo);return(function(c,d,p,y){return new TN(c,d,p,y)})(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,l,c,d,p){return new SN(a,l,c,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>yv(this.syncEngine,i,0)),(function(){return hv.v()?new hv:new dN})())}createSyncEngine(e,i){return(function(l,c,d,p,y,_,S){const A=new qN(l,c,d,p,y,_);return S&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=xe(i);ae(ua,"RemoteStore shutting down."),a.Ea.add(5),await iu(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Nm.provider={build:()=>new Nm};class ZE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):_s("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Er="FirestoreClient";class iI{constructor(e,i,a,l,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=ln.UNAUTHENTICATED,this.clientId=Qm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{ae(Er,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(ae(Er,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=fg(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function tm(s,e){s.asyncQueue.verifyOperationInProgress(),ae(Er,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async l=>{a.isEqual(l)||(await IE(e.localStore,l),a=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function vv(s,e){s.asyncQueue.verifyOperationInProgress();const i=await sI(s);ae(Er,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((a=>dv(e.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,l)=>dv(e.remoteStore,l))),s._onlineComponents=e}async function sI(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ae(Er,"Using user provided OfflineComponentProvider");try{await tm(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===J.FAILED_PRECONDITION||l.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;ho("Error using user provided cache. Falling back to memory cache: "+i),await tm(s,new fh)}}else ae(Er,"Using default OfflineComponentProvider"),await tm(s,new nI(void 0));return s._offlineComponents}async function JE(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ae(Er,"Using user provided OnlineComponentProvider"),await vv(s,s._uninitializedComponentsProvider._online)):(ae(Er,"Using default OnlineComponentProvider"),await vv(s,new Nm))),s._onlineComponents}function rI(s){return JE(s).then((e=>e.syncEngine))}async function Im(s){const e=await JE(s),i=e.eventManager;return i.onListen=HN.bind(null,e.syncEngine),i.onUnlisten=QN.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=FN.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=YN.bind(null,e.syncEngine),i}function aI(s,e,i={}){const a=new fr;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,y,_){const S=new ZE({next:M=>{S.Nu(),d.enqueueAndForget((()=>BE(c,A)));const U=M.docs.has(p);!U&&M.fromCache?_.reject(new ue(J.UNAVAILABLE,"Failed to get document because the client is offline.")):U&&M.fromCache&&y&&y.source==="server"?_.reject(new ue(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(M)},error:M=>_.reject(M)}),A=new qE(Ah(p.path),S,{includeMetadataChanges:!0,qa:!0});return zE(c,A)})(await Im(s),s.asyncQueue,e,i,a))),a.promise}function WE(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const Ev=new Map;const eT="firestore.googleapis.com",Tv=!0;class bv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ue(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=eT,this.ssl=Tv}else this.host=e.host,this.ssl=e.ssl??Tv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=CE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<PC)throw new ue(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}TR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=WE(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vh{constructor(e,i,a,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new hR;switch(a.type){case"firstParty":return new gR(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ue(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=Ev.get(i);a&&(ae("ComponentProvider","Removing Datastore"),Ev.delete(i),a.terminate())})(this),Promise.resolve()}}function oI(s,e,i,a={}){s=Un(s,Vh);const l=_o(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${i}`;l&&(Xv(`https://${p}`),$v("Firestore",!0)),c.host!==eT&&c.host!==p&&ho("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:p,ssl:l,emulatorOptions:a};if(!ra(y,d)&&(s._setSettings(y),a.mockUserToken)){let _,S;if(typeof a.mockUserToken=="string")_=a.mockUserToken,S=ln.MOCK_USER;else{_=VA(a.mockUserToken,s._app?.options.projectId);const A=a.mockUserToken.sub||a.mockUserToken.user_id;if(!A)throw new ue(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new ln(A)}s._authCredentials=new fR(new B1(_,S))}}class kh{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new kh(this.firestore,e,this._query)}}class Nt{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new dr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Nt(this.firestore,e,this._key)}toJSON(){return{type:Nt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(eu(i,Nt._jsonSchema))return new Nt(e,a||null,new ge(ft.fromString(i.referencePath)))}}Nt._jsonSchemaVersion="firestore/documentReference/1.0",Nt._jsonSchema={type:zt("string",Nt._jsonSchemaVersion),referencePath:zt("string")};class dr extends kh{constructor(e,i,a){super(e,i,Ah(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Nt(this.firestore,null,new ge(e))}withConverter(e){return new dr(this.firestore,e,this._path)}}function Rl(s,e,...i){if(s=Gt(s),q1("collection","path",e),s instanceof Vh){const a=ft.fromString(e,...i);return j_(a),new dr(s,null,a)}{if(!(s instanceof Nt||s instanceof dr))throw new ue(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(ft.fromString(e,...i));return j_(a),new dr(s.firestore,null,a)}}function fs(s,e,...i){if(s=Gt(s),arguments.length===1&&(e=Qm.newId()),q1("doc","path",e),s instanceof Vh){const a=ft.fromString(e,...i);return k_(a),new Nt(s,null,new ge(a))}{if(!(s instanceof Nt||s instanceof dr))throw new ue(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(ft.fromString(e,...i));return k_(a),new Nt(s.firestore,s instanceof dr?s.converter:null,new ge(a))}}const Sv="AsyncQueue";class Av{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ME(this,"async_queue_retry"),this._c=()=>{const a=em();a&&ae(Sv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=em();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=em();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new fr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!So(e))throw e;ae(Sv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,_s("INTERNAL UNHANDLED ERROR: ",wv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=hg.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&_e(47125,{Pc:wv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function wv(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}function xv(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class Es extends Vh{constructor(e,i,a,l){super(e,i,a,l),this.type="firestore",this._queue=new Av,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Av(e),this._firestoreClient=void 0,await e}}}function lI(s,e){const i=typeof s=="object"?s:e1(),a=typeof s=="string"?s:sh,l=km(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=MA("firestore");c&&oI(l,...c)}return l}function jh(s){if(s._terminated)throw new ue(J.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||uI(s),s._firestoreClient}function uI(s){const e=s._freezeSettings(),i=(function(l,c,d,p){return new MR(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,WE(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new iI(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class Wn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wn(rn.fromBase64String(e))}catch(i){throw new ue(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Wn(rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Wn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(eu(e,Wn._jsonSchema))return Wn.fromBase64String(e.bytes)}}Wn._jsonSchemaVersion="firestore/bytes/1.0",Wn._jsonSchema={type:zt("string",Wn._jsonSchemaVersion),bytes:zt("string")};class ru{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ue(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Uh{constructor(e){this._methodName=e}}class zi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ue(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ue(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:zi._jsonSchemaVersion}}static fromJSON(e){if(eu(e,zi._jsonSchema))return new zi(e.latitude,e.longitude)}}zi._jsonSchemaVersion="firestore/geoPoint/1.0",zi._jsonSchema={type:zt("string",zi._jsonSchemaVersion),latitude:zt("number"),longitude:zt("number")};class Bi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Bi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(eu(e,Bi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Bi(e.vectorValues);throw new ue(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Bi._jsonSchemaVersion="firestore/vectorValue/1.0",Bi._jsonSchema={type:zt("string",Bi._jsonSchemaVersion),vectorValues:zt("object")};const cI=/^__.*__$/;class hI{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new br(e,this.data,this.fieldMask,i,this.fieldTransforms):new tu(e,this.data,i,this.fieldTransforms)}}class tT{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new br(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function nT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e(40011,{Ac:s})}}class pg{constructor(e,i,a,l,c,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new pg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return dh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(nT(this.Ac)&&cI.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class fI{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||Dh(e)}Cc(e,i,a,l=!1){return new pg({Ac:e,methodName:i,Dc:a,path:sn.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Lh(s){const e=s._freezeSettings(),i=Dh(s._databaseId);return new fI(s._databaseId,!!e.ignoreUndefinedProperties,i)}function yg(s,e,i,a,l,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,e,i,l);vg("Data must be an object, but it was:",d,a);const p=rT(a,d);let y,_;if(c.merge)y=new jn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const S=[];for(const A of c.mergeFields){const M=Dm(e,A,i);if(!d.contains(M))throw new ue(J.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);oT(S,M)||S.push(M)}y=new jn(S),_=d.fieldTransforms.filter((A=>y.covers(A.field)))}else y=null,_=d.fieldTransforms;return new hI(new wn(p),y,_)}class Ph extends Uh{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ph}}class _g extends Uh{_toFieldTransform(e){return new rC(e.path,new Fl)}isEqual(e){return e instanceof _g}}function iT(s,e,i,a){const l=s.Cc(1,e,i);vg("Data must be an object, but it was:",l,a);const c=[],d=wn.empty();Tr(a,((y,_)=>{const S=Eg(e,y,i);_=Gt(_);const A=l.yc(S);if(_ instanceof Ph)c.push(S);else{const M=zh(_,A);M!=null&&(c.push(S),d.set(S,M))}}));const p=new jn(c);return new tT(d,p,l.fieldTransforms)}function sT(s,e,i,a,l,c){const d=s.Cc(1,e,i),p=[Dm(e,a,i)],y=[l];if(c.length%2!=0)throw new ue(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)p.push(Dm(e,c[M])),y.push(c[M+1]);const _=[],S=wn.empty();for(let M=p.length-1;M>=0;--M)if(!oT(_,p[M])){const U=p[M];let G=y[M];G=Gt(G);const ee=d.yc(U);if(G instanceof Ph)_.push(U);else{const Z=zh(G,ee);Z!=null&&(_.push(U),S.set(U,Z))}}const A=new jn(_);return new tT(S,A,d.fieldTransforms)}function zh(s,e){if(aT(s=Gt(s)))return vg("Unsupported field value:",e,s),rT(s,e);if(s instanceof Uh)return(function(a,l){if(!nT(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let y=zh(p,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(s,e)}return(function(a,l){if((a=Gt(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return nC(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=dt.fromDate(a);return{timestampValue:uh(l.serializer,c)}}if(a instanceof dt){const c=new dt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:uh(l.serializer,c)}}if(a instanceof zi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Wn)return{bytesValue:TE(l.serializer,a._byteString)};if(a instanceof Nt){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:ng(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Bi)return(function(d,p){return{mapValue:{fields:{[Z1]:{stringValue:J1},[rh]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return Wm(p.serializer,_)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${Ym(a)}`)})(s,e)}function rT(s,e){const i={};return G1(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Tr(s,((a,l)=>{const c=zh(l,e.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function aT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof dt||s instanceof zi||s instanceof Wn||s instanceof Nt||s instanceof Uh||s instanceof Bi)}function vg(s,e,i){if(!aT(i)||!H1(i)){const a=Ym(i);throw a==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+a)}}function Dm(s,e,i){if((e=Gt(e))instanceof ru)return e._internalPath;if(typeof e=="string")return Eg(s,e);throw dh("Field path arguments must be of type string or ",s,!1,void 0,i)}const dI=new RegExp("[~\\*/\\[\\]]");function Eg(s,e,i){if(e.search(dI)>=0)throw dh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new ru(...e.split("."))._internalPath}catch{throw dh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function dh(s,e,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${a}`),d&&(y+=` in document ${l}`),y+=")"),new ue(J.INVALID_ARGUMENT,p+s+y)}function oT(s,e){return s.some((i=>i.isEqual(e)))}class lT{constructor(e,i,a,l,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Nt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new mI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(uT("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class mI extends lT{data(){return super.data()}}function uT(s,e){return typeof e=="string"?Eg(s,e):e instanceof ru?e._internalPath:e._delegate._internalPath}function gI(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ue(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class pI{convertValue(e,i="none"){switch(_r(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(yr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw _e(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Tr(e,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(e){const i=e.fields?.[rh].arrayValue?.values?.map((a=>Ct(a.doubleValue)));return new Bi(i)}convertGeoPoint(e){return new zi(Ct(e.latitude),Ct(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=bh(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Bl(e));default:return null}}convertTimestamp(e){const i=pr(e);return new dt(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=ft.fromString(e);Je(RE(a),9688,{name:e});const l=new ql(a.get(1),a.get(3)),c=new ge(a.popFirst(5));return l.isEqual(i)||_s(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function Tg(s,e,i){let a;return a=s?i&&(i.merge||i.mergeFields)?s.toFirestore(e,i):s.toFirestore(e):e,a}class Dl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class sa extends lT{constructor(e,i,a,l,c,d){super(e,i,a,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Kc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(uT("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=sa._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}sa._jsonSchemaVersion="firestore/documentSnapshot/1.0",sa._jsonSchema={type:zt("string",sa._jsonSchemaVersion),bundleSource:zt("string","DocumentSnapshot"),bundleName:zt("string"),bundle:zt("string")};class Kc extends sa{data(e={}){return super.data(e)}}class uo{constructor(e,i,a,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new Dl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new Kc(this._firestore,this._userDataWriter,a.key,a,new Dl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ue(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const y=new Kc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Dl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const y=new Kc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Dl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,S=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),S=d.indexOf(p.doc.key)),{type:yI(p.type),doc:y,oldIndex:_,newIndex:S}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=uo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Qm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function yI(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e(61501,{type:s})}}function Rv(s){s=Un(s,Nt);const e=Un(s.firestore,Es);return aI(jh(e),s._key).then((i=>hT(e,s,i)))}uo._jsonSchemaVersion="firestore/querySnapshot/1.0",uo._jsonSchema={type:zt("string",uo._jsonSchemaVersion),bundleSource:zt("string","QuerySnapshot"),bundleName:zt("string"),bundle:zt("string")};class cT extends pI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Nt(this.firestore,null,i)}}function _I(s,e,i){s=Un(s,Nt);const a=Un(s.firestore,Es),l=Tg(s.converter,e,i);return au(a,[yg(Lh(a),"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,mn.none())])}function nm(s,e,i,...a){s=Un(s,Nt);const l=Un(s.firestore,Es),c=Lh(l);let d;return d=typeof(e=Gt(e))=="string"||e instanceof ru?sT(c,"updateDoc",s._key,e,i,a):iT(c,"updateDoc",s._key,e),au(l,[d.toMutation(s._key,mn.exists(!0))])}function Cv(s){return au(Un(s.firestore,Es),[new Nh(s._key,mn.none())])}function Nv(s,e){const i=Un(s.firestore,Es),a=fs(s),l=Tg(s.converter,e);return au(i,[yg(Lh(s.firestore),"addDoc",a._key,l,s.converter!==null,{}).toMutation(a._key,mn.exists(!1))]).then((()=>a))}function Iv(s,...e){s=Gt(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||xv(e[a])||(i=e[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(xv(e[a])){const y=e[a];e[a]=y.next?.bind(y),e[a+1]=y.error?.bind(y),e[a+2]=y.complete?.bind(y)}let c,d,p;if(s instanceof Nt)d=Un(s.firestore,Es),p=Ah(s._key.path),c={next:y=>{e[a]&&e[a](hT(d,s,y))},error:e[a+1],complete:e[a+2]};else{const y=Un(s,kh);d=Un(y.firestore,Es),p=y._query;const _=new cT(d);c={next:S=>{e[a]&&e[a](new uo(d,_,y,S))},error:e[a+1],complete:e[a+2]},gI(s._query)}return(function(_,S,A,M){const U=new ZE(M),G=new qE(S,U,A);return _.asyncQueue.enqueueAndForget((async()=>zE(await Im(_),G))),()=>{U.Nu(),_.asyncQueue.enqueueAndForget((async()=>BE(await Im(_),G)))}})(jh(d),p,l,c)}function au(s,e){return(function(a,l){const c=new fr;return a.asyncQueue.enqueueAndForget((async()=>KN(await rI(a),l,c))),c.promise})(jh(s),e)}function hT(s,e,i){const a=i.docs.get(e._key),l=new cT(s);return new sa(s,l,e._key,a,new Dl(i.hasPendingWrites,i.fromCache),e.converter)}class vI{constructor(e,i){this._firestore=e,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=Lh(e)}set(e,i,a){this._verifyNotCommitted();const l=im(e,this._firestore),c=Tg(l.converter,i,a),d=yg(this._dataReader,"WriteBatch.set",l._key,c,l.converter!==null,a);return this._mutations.push(d.toMutation(l._key,mn.none())),this}update(e,i,a,...l){this._verifyNotCommitted();const c=im(e,this._firestore);let d;return d=typeof(i=Gt(i))=="string"||i instanceof ru?sT(this._dataReader,"WriteBatch.update",c._key,i,a,l):iT(this._dataReader,"WriteBatch.update",c._key,i),this._mutations.push(d.toMutation(c._key,mn.exists(!0))),this}delete(e){this._verifyNotCommitted();const i=im(e,this._firestore);return this._mutations=this._mutations.concat(new Nh(i._key,mn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ue(J.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function im(s,e){if((s=Gt(s)).firestore!==e)throw new ue(J.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}function Wa(){return new _g("serverTimestamp")}function EI(s){return jh(s=Un(s,Es)),new vI(s,(e=>au(s,e)))}(function(e,i=!0){(function(l){To=l})(vo),co(new aa("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new Es(new dR(a.getProvider("auth-internal")),new pR(d,a.getProvider("app-check-internal")),(function(_,S){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ue(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ql(_.options.projectId,S)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),ur(D_,M_,e),ur(D_,M_,"esm2020")})();class TI extends Ee.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,i){console.error("Spool Crash:",e,i)}render(){return this.state.hasError?E.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 p-6",children:E.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl max-w-md w-full border border-rose-100",children:[E.jsx("div",{className:"w-12 h-12 bg-rose-100 text-rose-600 rounded-xl flex items-center justify-center mb-4 mx-auto",children:E.jsx(Bv,{size:24})}),E.jsx("h2",{className:"text-xl font-bold text-slate-800 text-center mb-2",children:"Something went wrong"}),E.jsx("p",{className:"text-slate-500 text-sm text-center mb-4",children:"The application encountered an unexpected error."}),E.jsx("div",{className:"bg-slate-100 p-3 rounded-lg text-xs font-mono text-slate-600 overflow-auto max-h-40 mb-6",children:this.state.error&&this.state.error.toString()}),E.jsx("button",{onClick:()=>window.location.reload(),className:"w-full py-3 bg-indigo-600 text-white font-medium rounded-xl hover:bg-indigo-700 transition-colors",children:"Reload Spool"})]})}):this.props.children}}const fT={apiKey:"AIzaSyCG6jo4RZf1eS0wTSYLLA-7i6dyHH3o1NQ",authDomain:"spool-social.firebaseapp.com",projectId:"spool-social",storageBucket:"spool-social.firebasestorage.app",messagingSenderId:"650053374660",appId:"1:650053374660:web:64e5f1b6ee95d5dc7aef91",measurementId:"G-4RP43JTQKZ"};fT.apiKey||console.error("CRITICAL: Missing Firebase API Key in .env file");let sm,so,Sn,dT;try{sm=Wv(fT),so=uR(sm),Sn=lI(sm),dT=new ds}catch(s){console.error("Firebase Init Error:",s)}const Zn="spool-app",xn={gmb:{id:"gmb",name:"Google Business",color:"bg-blue-600",text:"text-blue-600",border:"border-blue-600",icon:Pv,url:"https://business.google.com",placeholder:"Share an update, offer, or event...",maxChars:1500},linkedin:{id:"linkedin",name:"LinkedIn",color:"bg-sky-700",text:"text-sky-700",border:"border-sky-700",icon:Lv,url:"https://www.linkedin.com",placeholder:"Share a professional insight or milestone...",maxChars:3e3},twitter:{id:"twitter",name:"X / Twitter",color:"bg-black",text:"text-black",border:"border-black",icon:vA,url:"https://twitter.com/compose/tweet",placeholder:"What's happening?",maxChars:280},instagram:{id:"instagram",name:"Instagram",color:"bg-pink-600",text:"text-pink-600",border:"border-pink-600",icon:jS,url:"https://www.instagram.com",placeholder:"Write a caption...",maxChars:2200}},Rt={DRAFT:"draft",SCHEDULED:"scheduled",POSTED:"posted"},ia={PENDING:"pending",APPROVED:"approved",CHANGES_REQUESTED:"changes_requested"},bI={punchy:s=>{const e=`


#Growth #Building`;return s.includes("#Growth #Building")?s:`${s.replace(/\b(I think|I believe|Just wanted to say|basically|actually)\b/gi,"").replace(/\s+/g," ").trim()}${e}`},professional:s=>{const e=` Professional Update:

`,i=`

I'd love to hear your perspective on this in the comments below.

#Leadership #IndustryTrends #CareerGrowth`;return s.includes(" Professional Update")?s:`${e}${s}${i}`},emojify:s=>{const e={launch:"",growth:"",money:"",team:"",idea:"",love:"",happy:"",work:"",coffee:"",time:"",question:"",goal:"",stitch:"",spool:"",tech:""};let i=s;return Object.keys(e).forEach(a=>{const l=e[a],c=new RegExp(`\\b${a}\\b(?!\\s*${l})`,"gi");i=i.replace(c,`${a} ${l}`)}),i}},rm=({message:s,type:e="success",onClose:i})=>(Ee.useEffect(()=>{const a=setTimeout(i,3e3);return()=>clearTimeout(a)},[i]),E.jsxs("div",{className:`fixed bottom-6 right-6 px-6 py-3 rounded-lg shadow-lg text-white transform transition-all duration-300 flex items-center gap-2 z-[60] ${e==="success"?"bg-indigo-900":"bg-rose-900"}`,children:[e==="success"?E.jsx(mh,{size:18}):E.jsx(Yl,{size:18}),E.jsx("span",{className:"font-medium",children:s})]})),mT=({platformId:s,size:e=18,className:i=""})=>{const a=xn[s]||xn.gmb,l=a.icon||Yl;return E.jsx("div",{className:`flex items-center justify-center rounded-full text-white ${a.color} ${i}`,style:{width:e,height:e},children:E.jsx(l,{size:e*.6})})},SI=({current:s,max:e})=>{const a=2*Math.PI*10,l=Math.min(100,s/e*100),c=a-l/100*a;let d="stroke-indigo-500";return l>80&&(d="stroke-amber-500"),l>95&&(d="stroke-rose-500"),E.jsxs("div",{className:"relative w-8 h-8 flex items-center justify-center",children:[E.jsxs("svg",{className:"transform -rotate-90 w-full h-full",children:[E.jsx("circle",{className:"text-slate-200",strokeWidth:"3",stroke:"currentColor",fill:"transparent",r:10,cx:"16",cy:"16"}),E.jsx("circle",{className:`${d} transition-all duration-300`,strokeWidth:"3",strokeDasharray:a,strokeDashoffset:c,strokeLinecap:"round",stroke:"currentColor",fill:"transparent",r:10,cx:"16",cy:"16"})]}),l>100&&E.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:E.jsx("span",{className:"text-[10px] font-bold text-rose-600",children:"!"})})]})},AI=({title:s,message:e,onConfirm:i,onCancel:a,type:l="action"})=>E.jsx("div",{className:"fixed inset-0 bg-slate-900/50 backdrop-blur-sm z-[70] flex items-center justify-center p-4",children:E.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-sm p-6 animate-in fade-in zoom-in duration-200",children:[E.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center mb-4 mx-auto ${l==="danger"?"bg-rose-100 text-rose-600":"bg-indigo-100 text-indigo-600"}`,children:l==="danger"?E.jsx(Bv,{size:24}):E.jsx(Uv,{size:24})}),E.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-2 text-center",children:s}),E.jsx("p",{className:"text-slate-600 text-sm mb-6 text-center",children:e}),E.jsxs("div",{className:"flex gap-3",children:[E.jsx("button",{onClick:a,className:"flex-1 py-2.5 bg-slate-100 text-slate-700 font-medium rounded-xl hover:bg-slate-200 transition-colors",children:"Cancel"}),E.jsx("button",{onClick:i,className:`flex-1 py-2.5 text-white font-medium rounded-xl transition-colors ${l==="danger"?"bg-rose-600 hover:bg-rose-700":"bg-indigo-600 hover:bg-indigo-700"}`,children:l==="danger"?"Delete":"Confirm"})]})]})}),wI=({post:s,onApprove:e,onRequestChanges:i,onClose:a})=>{const[l,c]=Ee.useState(""),[d,p]=Ee.useState([]),[y,_]=Ee.useState("view"),S=["Fix Text","Change Image","Wrong Link","Tone Issue"],A=U=>{p(G=>G.includes(U)?G.filter(ee=>ee!==U):[...G,U])},M=()=>{const U=`${d.join(", ")}${d.length>0&&l?" - ":""}${l}`;i(U||"Changes requested")};return E.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm z-[70] flex items-center justify-center p-4",children:E.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl h-[90vh] flex flex-col md:flex-row overflow-hidden animate-in fade-in zoom-in duration-200",children:[E.jsx("div",{className:"flex-1 bg-slate-100 p-8 flex items-center justify-center border-r border-slate-200",children:E.jsx(gT,{post:s})}),E.jsxs("div",{className:"flex-1 flex flex-col bg-white",children:[E.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-start",children:[E.jsxs("div",{children:[E.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"Review Thread"}),E.jsxs("p",{className:"text-sm text-slate-500",children:["Scheduled for: ",new Date(s.scheduledDate).toLocaleString()]})]}),E.jsx("button",{onClick:a,className:"p-2 hover:bg-slate-100 rounded-full",children:E.jsx(gh,{size:20,className:"text-slate-400"})})]}),E.jsx("div",{className:"p-6 flex-1 overflow-y-auto",children:y==="view"?E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{children:[E.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2 block",children:"Content"}),E.jsx("div",{className:"p-4 bg-slate-50 rounded-xl text-slate-700 text-sm whitespace-pre-wrap leading-relaxed border border-slate-100",children:s.content})]}),s.tags&&s.tags.length>0&&E.jsx("div",{className:"flex gap-2",children:s.tags.map(U=>E.jsx("span",{className:"px-2 py-1 bg-indigo-50 text-indigo-700 text-xs rounded-full font-medium",children:U},U))})]}):E.jsxs("div",{className:"space-y-4 animate-in slide-in-from-right-4 duration-200",children:[E.jsxs("div",{className:"flex items-center gap-2 text-rose-600 font-bold",children:[E.jsx(Yl,{size:20}),E.jsx("h3",{children:"Request Changes"})]}),E.jsx("div",{className:"flex flex-wrap gap-2",children:S.map(U=>E.jsx("button",{onClick:()=>A(U),className:`px-3 py-1.5 text-xs font-medium rounded-full border transition-all ${d.includes(U)?"bg-rose-100 border-rose-200 text-rose-700":"bg-white border-slate-200 text-slate-500 hover:border-slate-300"}`,children:U},U))}),E.jsx("textarea",{className:"w-full h-32 p-4 border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-rose-500/20 focus:border-rose-500 resize-none",placeholder:"Add specific notes here...",value:l,onChange:U=>c(U.target.value)})]})}),E.jsx("div",{className:"p-6 border-t border-slate-100 bg-slate-50/50",children:y==="view"?E.jsxs("div",{className:"flex gap-4",children:[E.jsxs("button",{onClick:()=>_("reject"),className:"flex-1 py-3 bg-white border border-slate-200 text-slate-700 font-bold rounded-xl hover:bg-rose-50 hover:text-rose-700 hover:border-rose-200 transition-all flex items-center justify-center gap-2",children:[E.jsx(gA,{size:18})," Request Changes"]}),E.jsxs("button",{onClick:e,className:"flex-1 py-3 bg-emerald-600 text-white font-bold rounded-xl hover:bg-emerald-700 transition-all flex items-center justify-center gap-2 shadow-lg shadow-emerald-600/20",children:[E.jsx(mh,{size:18})," Approve Thread"]})]}):E.jsxs("div",{className:"flex gap-4",children:[E.jsx("button",{onClick:()=>_("view"),className:"px-6 py-3 text-slate-500 font-medium hover:text-slate-700 transition-colors",children:"Cancel"}),E.jsx("button",{onClick:M,className:"flex-1 py-3 bg-rose-600 text-white font-bold rounded-xl hover:bg-rose-700 transition-all shadow-lg shadow-rose-600/20",children:"Submit Feedback"})]})})]})]})})},gT=({post:s})=>{xn[s.platform]||xn.gmb;const e=()=>{switch(s.platform){case"twitter":return E.jsx("div",{className:"bg-white p-4 font-sans text-sm h-full",children:E.jsxs("div",{className:"flex gap-3",children:[E.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-200 shrink-0"}),E.jsxs("div",{className:"flex-1",children:[E.jsxs("div",{className:"flex items-center gap-1",children:[E.jsx("span",{className:"font-bold text-slate-900",children:"You"}),E.jsx("span",{className:"text-slate-500",children:"@yourhandle  1m"})]}),E.jsx("p",{className:"text-slate-900 mt-1 whitespace-pre-wrap",children:s.content||"Your post text..."}),s.imageUrl&&E.jsx("div",{className:"mt-3 rounded-2xl overflow-hidden border border-slate-100",children:E.jsx("img",{src:s.imageUrl,className:"w-full h-auto object-cover",alt:"Preview"})})]})]})});case"instagram":return E.jsxs("div",{className:"bg-white font-sans text-sm pb-4 h-full",children:[E.jsxs("div",{className:"flex items-center justify-between p-3",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-200"}),E.jsx("span",{className:"font-semibold text-xs text-slate-900",children:"your_username"})]}),E.jsx(CS,{size:16})]}),E.jsx("div",{className:"bg-slate-100 w-full aspect-square flex items-center justify-center overflow-hidden",children:s.imageUrl?E.jsx("img",{src:s.imageUrl,className:"w-full h-full object-cover",alt:"Preview"}):E.jsx("span",{className:"text-slate-400 text-xs",children:"No Image"})}),E.jsx("div",{className:"p-3",children:E.jsxs("p",{className:"text-slate-900 text-xs",children:[E.jsx("span",{className:"font-semibold mr-2",children:"your_username"}),s.content||"Your caption..."]})})]});case"linkedin":return E.jsxs("div",{className:"bg-white font-sans text-sm pb-4 border border-slate-200 my-4 rounded-lg h-full",children:[E.jsxs("div",{className:"flex gap-2 p-3",children:[E.jsx("div",{className:"w-10 h-10 rounded bg-slate-200"}),E.jsxs("div",{children:[E.jsx("div",{className:"font-semibold text-xs text-slate-900",children:"Your Name"}),E.jsx("div",{className:"text-[10px] text-slate-500",children:"Your Title  1st"})]})]}),E.jsx("div",{className:"px-3 pb-2 text-xs text-slate-900 whitespace-pre-wrap",children:s.content||"Your post content..."}),s.imageUrl&&E.jsx("img",{src:s.imageUrl,className:"w-full h-auto object-cover",alt:"Preview"})]});default:return E.jsxs("div",{className:"bg-white font-sans text-sm p-4 h-full",children:[E.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[E.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-600 flex items-center justify-center text-white",children:E.jsx(Pv,{size:20})}),E.jsxs("div",{children:[E.jsx("div",{className:"font-bold text-slate-900",children:"Your Business"}),E.jsx("div",{className:"text-xs text-slate-500",children:"Posted on Google"})]})]}),s.imageUrl&&E.jsx("div",{className:"rounded-lg overflow-hidden mb-3",children:E.jsx("img",{src:s.imageUrl,className:"w-full h-40 object-cover",alt:"Preview"})}),E.jsx("p",{className:"text-slate-800 text-sm mb-4 whitespace-pre-wrap",children:s.content||"Your update text..."}),E.jsx("button",{className:"w-full py-2 bg-slate-100 text-blue-700 font-medium rounded-full text-xs hover:bg-slate-200",children:"Learn More"})]})}};return E.jsx("div",{className:"flex items-center justify-center p-4 bg-slate-100 rounded-xl h-full min-h-[500px]",children:E.jsxs("div",{className:"w-[300px] bg-white rounded-[2rem] border-[6px] border-slate-800 shadow-2xl overflow-hidden relative",children:[E.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-32 h-6 bg-slate-800 rounded-b-xl z-10"}),E.jsx("div",{className:"h-full overflow-y-auto pt-8 scrollbar-hide",children:e()})]})})},xI=({posts:s,onEdit:e,currentDate:i,setCurrentDate:a})=>{const l=(U,G)=>new Date(U,G+1,0).getDate(),c=(U,G)=>new Date(U,G,1).getDay(),d=i.getFullYear(),p=i.getMonth(),y=l(d,p),_=c(d,p),S=[];for(let U=0;U<_;U++)S.push(null);for(let U=1;U<=y;U++)S.push(U);const A=()=>a(new Date(d,p-1,1)),M=()=>a(new Date(d,p+1,1));return E.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden",children:[E.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-100",children:[E.jsx("h3",{className:"font-bold text-slate-800 text-lg",children:i.toLocaleString("default",{month:"long",year:"numeric"})}),E.jsxs("div",{className:"flex gap-1",children:[E.jsx("button",{onClick:A,className:"p-1 hover:bg-slate-100 rounded",children:E.jsx(kv,{size:20})}),E.jsx("button",{onClick:M,className:"p-1 hover:bg-slate-100 rounded",children:E.jsx(gS,{size:20})})]})]}),E.jsx("div",{className:"grid grid-cols-7 text-center text-xs font-semibold text-slate-400 bg-slate-50 border-b border-slate-100",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(U=>E.jsx("div",{className:"py-2",children:U},U))}),E.jsx("div",{className:"grid grid-cols-7 auto-rows-fr bg-slate-50 gap-px border-b border-slate-200",children:S.map((U,G)=>{if(!U)return E.jsx("div",{className:"bg-white min-h-[100px]"},G);const ee=s.filter(Z=>{if(!Z.scheduledDate)return!1;const he=new Date(Z.scheduledDate);return he.getDate()===U&&he.getMonth()===p&&he.getFullYear()===d});return E.jsxs("div",{className:"bg-white min-h-[100px] p-1 sm:p-2 transition-colors hover:bg-slate-50",children:[E.jsx("span",{className:`text-xs font-medium mb-1 block ${new Date().getDate()===U&&new Date().getMonth()===p?"text-indigo-600 bg-indigo-100 w-6 h-6 flex items-center justify-center rounded-full":"text-slate-400"}`,children:U}),E.jsx("div",{className:"space-y-1",children:ee.map(Z=>E.jsxs("button",{onClick:()=>e(Z),className:`w-full text-left text-[10px] px-1.5 py-1 rounded border truncate flex items-center gap-1 ${Z.status===Rt.POSTED?"bg-indigo-50 border-indigo-100 text-indigo-800":"bg-white border-slate-100 text-slate-600 shadow-sm hover:border-indigo-300"}`,children:[E.jsx("div",{className:`w-1.5 h-1.5 rounded-full shrink-0 ${xn[Z.platform]?.color||"bg-slate-400"}`}),E.jsxs("span",{className:"truncate",children:[Z.client?`[${Z.client}] `:"",xn[Z.platform]?.name]})]},Z.id))})]},G)})})]})},RI=({onSelect:s,stacks:e,onSaveStack:i,onDeleteStack:a})=>{const[l,c]=Ee.useState(!1),[d,p]=Ee.useState(""),[y,_]=Ee.useState(""),S=()=>{!d||!y||(i({name:d,tags:y}),p(""),_(""),c(!1))};return E.jsxs("div",{className:"mt-4 p-4 bg-slate-50 rounded-xl border border-slate-200",children:[E.jsxs("div",{className:"flex items-center justify-between mb-3",children:[E.jsxs("h4",{className:"text-xs font-bold text-slate-500 uppercase flex items-center gap-1",children:[E.jsx(VS,{size:12})," Hashtag Stacks"]}),E.jsx("button",{onClick:()=>c(!l),className:"text-xs text-indigo-700 font-medium hover:underline",children:l?"Cancel":"+ New Stack"})]}),l&&E.jsxs("div",{className:"mb-4 space-y-2 bg-white p-3 rounded-lg border border-slate-200 shadow-sm",children:[E.jsx("input",{type:"text",placeholder:"Stack Name (e.g. Monday Motivation)",className:"w-full text-xs p-2 border border-slate-200 rounded",value:d,onChange:A=>p(A.target.value)}),E.jsx("textarea",{placeholder:"#hashtags #go #here",className:"w-full text-xs p-2 border border-slate-200 rounded resize-none h-16",value:y,onChange:A=>_(A.target.value)}),E.jsx("button",{onClick:S,className:"w-full bg-indigo-700 text-white text-xs py-1.5 rounded font-medium",children:"Save Stack"})]}),E.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.map(A=>E.jsxs("div",{className:"group flex items-center bg-white border border-slate-200 rounded-lg pl-2 pr-1 py-1 shadow-sm hover:border-indigo-300 transition-colors",children:[E.jsx("button",{onClick:()=>s(A.tags),className:"text-xs text-slate-600 font-medium hover:text-indigo-700 mr-2",title:A.tags,children:A.name}),E.jsx("button",{onClick:()=>a(A.id),className:"text-slate-300 hover:text-rose-500 opacity-0 group-hover:opacity-100 transition-opacity",children:E.jsx(gh,{size:12})})]},A.id)),e.length===0&&!l&&E.jsx("span",{className:"text-xs text-slate-400 italic",children:"No saved stacks yet."})]})]})},Dv=({post:s,onEdit:e,onDelete:i,onDuplicate:a,onCloneToAll:l,onStatusChange:c,isReadOnly:d,onClick:p})=>{const y=xn[s.platform]||xn.gmb,_=s.status===Rt.SCHEDULED,S=s.status===Rt.POSTED,A=s.scheduledDate?new Date(s.scheduledDate).toLocaleString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}):"No date set",M=G=>{const ee=document.createElement("textarea");ee.value=G,document.body.appendChild(ee),ee.select(),document.execCommand("copy"),document.body.removeChild(ee)},U=()=>s.approvalStatus===ia.APPROVED?"border-l-4 border-l-emerald-500":s.approvalStatus===ia.CHANGES_REQUESTED?"border-l-4 border-l-rose-500":S?"opacity-90":"";return E.jsxs("div",{onClick:p,className:`group relative bg-white border border-slate-100 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 overflow-hidden flex flex-col cursor-pointer ${U()}`,children:[E.jsx("div",{className:`h-1.5 w-full ${S?"bg-indigo-500":_?"bg-amber-400":"bg-slate-300"}`}),E.jsxs("div",{className:"p-5 flex-1 flex flex-col",children:[E.jsxs("div",{className:"flex justify-between items-start mb-3",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx(mT,{platformId:s.platform,size:28}),E.jsxs("div",{children:[E.jsx("h4",{className:"font-semibold text-slate-800 text-sm",children:y.name}),E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsxs("div",{className:"flex items-center gap-1 text-xs text-slate-400",children:[E.jsx(vS,{size:10}),E.jsx("span",{children:A})]}),s.client&&E.jsx("span",{className:"text-[10px] bg-indigo-50 text-indigo-700 px-1.5 py-0.5 rounded border border-indigo-100 font-medium truncate max-w-[80px]",children:s.client})]})]})]}),s.approvalStatus===ia.APPROVED&&E.jsxs("div",{className:"text-xs font-bold text-emerald-600 bg-emerald-50 px-2 py-1 rounded flex items-center gap-1",children:[E.jsx(mh,{size:12})," Approved"]}),s.approvalStatus===ia.CHANGES_REQUESTED&&E.jsxs("div",{className:"text-xs font-bold text-rose-600 bg-rose-50 px-2 py-1 rounded flex items-center gap-1",children:[E.jsx(Yl,{size:12})," Review"]}),!d&&E.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[E.jsx("button",{onClick:G=>{G.stopPropagation(),l(s)},title:"Blast: Clone to All Platforms",className:"p-1.5 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-md",children:E.jsx(Uv,{size:14})}),E.jsx("button",{onClick:G=>{G.stopPropagation(),a(s)},title:"Clone Draft",className:"p-1.5 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-md",children:E.jsx(bS,{size:14})}),E.jsx("button",{onClick:G=>{G.stopPropagation(),e(s)},className:"p-1.5 text-slate-400 hover:text-emerald-700 hover:bg-emerald-50 rounded-md",children:E.jsx(eA,{size:14})}),E.jsx("button",{onClick:G=>{G.stopPropagation(),i(s.id)},className:"p-1.5 text-slate-400 hover:text-rose-600 hover:bg-rose-50 rounded-md",children:E.jsx(zv,{size:14})})]})]}),s.tags&&s.tags.length>0&&E.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:s.tags.map((G,ee)=>E.jsx("span",{className:"px-1.5 py-0.5 text-[10px] font-medium rounded-full bg-slate-100 text-slate-500 border border-slate-200",children:G},ee))}),E.jsxs("div",{className:"mb-4 flex-1",children:[E.jsx("p",{className:"text-slate-600 text-sm line-clamp-3 leading-relaxed whitespace-pre-wrap font-medium",children:s.content||E.jsx("span",{className:"italic text-slate-300",children:"Empty draft..."})}),s.imageUrl&&E.jsxs("div",{className:"mt-3 relative h-32 w-full bg-slate-50 rounded-lg overflow-hidden border border-slate-100 group",children:[E.jsx("img",{src:s.imageUrl,alt:"Post asset",className:"w-full h-full object-cover",onError:G=>G.target.style.display="none"}),E.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:E.jsx("a",{href:s.imageUrl,download:"social-post-image",target:"_blank",rel:"noreferrer",className:"bg-white/90 p-1.5 rounded-full shadow-sm text-slate-600 hover:text-indigo-700 block",children:E.jsx(jv,{size:14,className:"transform rotate-180"})})})]})]}),S&&s.resultStats&&E.jsxs("div",{className:"mb-4 p-2 bg-indigo-50 rounded-lg border border-indigo-100",children:[E.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] font-bold text-indigo-800 uppercase tracking-wider mb-1",children:[E.jsx(Vv,{size:10})," Results"]}),E.jsx("p",{className:"text-xs text-indigo-900 font-medium",children:s.resultStats})]}),s.feedback&&E.jsxs("div",{className:"mb-4 p-2 bg-rose-50 rounded-lg border border-rose-100",children:[E.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] font-bold text-rose-800 uppercase tracking-wider mb-1",children:[E.jsx($S,{size:10})," Feedback"]}),E.jsxs("p",{className:"text-xs text-rose-900 italic",children:['"',s.feedback,'"']})]}),!d&&E.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-slate-50 mt-auto",children:[E.jsxs("button",{onClick:G=>{G.stopPropagation(),M(s.content)},className:"flex items-center gap-1.5 text-xs font-medium text-slate-500 hover:text-indigo-700 transition-colors active:scale-95",children:[E.jsx(AS,{size:12}),E.jsx("span",{children:"Copy"})]}),E.jsxs("a",{href:y.url,target:"_blank",rel:"noopener noreferrer",onClick:G=>G.stopPropagation(),className:"flex items-center gap-1.5 text-xs font-medium text-slate-500 hover:text-blue-600 transition-colors",children:[E.jsx(IS,{size:12}),E.jsx("span",{children:"Open App"})]}),E.jsx("button",{onClick:G=>{G.stopPropagation(),c(s.id,S?Rt.DRAFT:Rt.POSTED)},className:`flex items-center gap-1.5 text-xs font-bold px-2.5 py-1.5 rounded-full transition-colors ${S?"bg-indigo-100 text-indigo-700":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:S?"Posted":"Mark Done"})]})]})]})},CI=({post:s,onSave:e,onCancel:i,isSaving:a,hashtagStacks:l,onSaveStack:c,onDeleteStack:d,uniqueClients:p})=>{const[y,_]=Ee.useState({platform:"gmb",content:"",scheduledDate:new Date().toISOString().slice(0,16),imageUrl:"",tags:[],resultStats:"",client:"",...s}),[S,A]=Ee.useState(!1),[M,U]=Ee.useState(!1),[G,ee]=Ee.useState(!1),[Z,he]=Ee.useState(!1),[fe,pe]=Ee.useState(""),De=Ee.useRef(null),Ve=(ne,q)=>_(te=>({...te,[ne]:q})),ke=ne=>_(q=>({...q,content:q.content+(q.content?`

`:"")+ne})),N=(ne,q)=>{if(q.stopPropagation(),!y.content)return;const te=bI[ne](y.content);_(oe=>({...oe,content:te})),he(!1)},w=()=>{fe.trim()&&!y.tags?.includes(fe.trim())&&(_(ne=>({...ne,tags:[...ne.tags||[],fe.trim()]})),pe(""))},R=ne=>{_(q=>({...q,tags:q.tags.filter(te=>te!==ne)}))},V=ne=>{if(!ne||ne.size>10*1024*1024)return alert("File too large (>10MB)");ee(!0);const q=new FileReader;q.onload=te=>{const oe=new Image;oe.onload=()=>{const Ce=document.createElement("canvas");let Oe=oe.width,D=oe.height;const Y=800;Oe>D&&Oe>Y?(D*=Y/Oe,Oe=Y):D>Y&&(Oe*=Y/D,D=Y),Ce.width=Oe,Ce.height=D,Ce.getContext("2d").drawImage(oe,0,0,Oe,D),Ve("imageUrl",Ce.toDataURL("image/jpeg",.6)),ee(!1)},oe.src=te.target.result},q.readAsDataURL(ne)},I=ne=>{ne.preventDefault(),ne.stopPropagation(),ne.type==="dragenter"||ne.type==="dragover"?A(!0):ne.type==="dragleave"&&A(!1)},j=ne=>{ne.preventDefault(),ne.stopPropagation(),A(!1),ne.dataTransfer.files?.[0]&&V(ne.dataTransfer.files[0])},x=xn[y.platform],Ye=y.content.length;return E.jsxs("div",{className:"h-full flex flex-col bg-white",children:[E.jsxs("div",{className:"border-b border-slate-100 px-6 py-4 flex items-center justify-between bg-white/80 backdrop-blur-md sticky top-0 z-10",children:[E.jsx("h2",{className:"text-lg font-bold text-slate-800 flex items-center gap-2",children:s?"Edit Thread":"New Thread"}),E.jsxs("div",{className:"flex gap-2",children:[E.jsxs("button",{onClick:()=>U(!M),className:`px-3 py-2 text-sm font-medium rounded-lg transition-colors flex items-center gap-2 ${M?"bg-slate-800 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,title:"Toggle Mobile Preview",children:[E.jsx(uA,{size:16}),E.jsx("span",{className:"hidden sm:inline",children:M?"Edit":"Preview"})]}),E.jsx("button",{onClick:i,className:"px-4 py-2 text-sm font-medium text-slate-500 hover:bg-slate-50 rounded-lg",children:"Cancel"}),E.jsxs("button",{onClick:()=>e(y),disabled:a||G,className:"px-6 py-2 text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 rounded-lg shadow-sm flex items-center gap-2 disabled:opacity-50",children:[E.jsx(iA,{size:16}),a?"Saving...":"Save Draft"]})]})]}),E.jsx("div",{className:"flex-1 overflow-y-auto p-6 md:p-8",children:E.jsxs("div",{className:"max-w-2xl mx-auto space-y-8",children:[E.jsxs("div",{className:"flex items-center gap-3 bg-slate-50 p-3 rounded-xl border border-slate-200",children:[E.jsxs("div",{className:"flex items-center gap-2 text-slate-500",children:[E.jsx(Ov,{size:18}),E.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Client Account"})]}),E.jsxs("div",{className:"flex-1 relative",children:[E.jsx("input",{type:"text",list:"clients-list",placeholder:"e.g. Stitch TEC, Coffee Shop...",className:"w-full bg-white border border-slate-300 rounded-lg px-3 py-1.5 text-sm focus:outline-none focus:border-indigo-500",value:y.client||"",onChange:ne=>Ve("client",ne.target.value)}),E.jsx("datalist",{id:"clients-list",children:p.map(ne=>E.jsx("option",{value:ne},ne))})]})]}),E.jsxs("div",{className:"space-y-3",children:[E.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Destination"}),E.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:Object.values(xn).map(ne=>E.jsxs("button",{onClick:()=>Ve("platform",ne.id),className:`flex flex-col items-center justify-center p-4 rounded-xl border transition-all duration-200 ${y.platform===ne.id?"border-indigo-600 bg-indigo-50 text-indigo-900 ring-1 ring-indigo-600":"border-slate-200 hover:border-indigo-300 hover:bg-slate-50 text-slate-600"}`,children:[E.jsx(mT,{platformId:ne.id,size:24,className:"mb-2"}),E.jsx("span",{className:"text-xs font-medium",children:ne.name})]},ne.id))})]}),M?E.jsx("div",{className:"animate-in fade-in duration-300",children:E.jsx(gT,{post:y})}):E.jsxs(E.Fragment,{children:[y.status===Rt.POSTED&&E.jsxs("div",{className:"space-y-3 animate-in fade-in slide-in-from-top-4 duration-500",children:[E.jsxs("label",{className:"text-xs font-bold text-indigo-700 uppercase tracking-wider flex items-center gap-2",children:[E.jsx(Vv,{size:12})," Performance Notes"]}),E.jsx("textarea",{value:y.resultStats,onChange:ne=>Ve("resultStats",ne.target.value),placeholder:"E.g., 25 likes, 3 leads generated. Best performing post this week!",className:"w-full h-24 p-4 bg-indigo-50 border border-indigo-200 rounded-xl focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 transition-all resize-none text-indigo-900 text-sm leading-relaxed placeholder:text-indigo-700/50"})]}),E.jsxs("div",{className:"space-y-3",children:[E.jsxs("div",{className:"flex justify-between items-center",children:[E.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Content"}),E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsxs("div",{className:"relative",children:[E.jsxs("button",{onClick:ne=>{ne.stopPropagation(),he(!Z)},className:`text-xs font-bold flex items-center gap-1 transition-colors px-2 py-1 rounded-md ${Z?"bg-rose-100 text-rose-700":"text-rose-600 hover:bg-rose-50"}`,title:"AI Magic Reword",children:[E.jsx(TA,{size:14})," Magic Wand"]}),Z&&E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>he(!1)}),E.jsxs("div",{className:"absolute right-0 top-8 w-48 bg-white border border-slate-200 rounded-xl shadow-xl z-50 overflow-hidden animate-in fade-in zoom-in duration-200",children:[E.jsx("div",{className:"p-2 border-b border-slate-100 bg-slate-50 text-[10px] font-bold text-slate-500 uppercase tracking-wider",children:"Choose Style"}),E.jsxs("button",{onClick:ne=>N("punchy",ne),className:"w-full text-left px-4 py-3 text-sm text-slate-700 hover:bg-rose-50 hover:text-rose-700 flex items-center gap-2 border-b border-slate-50",children:[E.jsx(qv,{size:14})," Make it Punchy"]}),E.jsxs("button",{onClick:ne=>N("professional",ne),className:"w-full text-left px-4 py-3 text-sm text-slate-700 hover:bg-indigo-50 hover:text-indigo-700 flex items-center gap-2 border-b border-slate-50",children:[E.jsx(Lv,{size:14})," Professional"]}),E.jsxs("button",{onClick:ne=>N("emojify",ne),className:"w-full text-left px-4 py-3 text-sm text-slate-700 hover:bg-amber-50 hover:text-amber-700 flex items-center gap-2",children:[E.jsx(hA,{size:14})," Emojify"]})]})]})]}),E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsxs("span",{className:`text-xs ${Ye>x.maxChars?"text-rose-500 font-bold":"text-slate-400"}`,children:[Ye," / ",x.maxChars]}),E.jsx(SI,{current:Ye,max:x.maxChars})]})]})]}),E.jsx("div",{className:"relative",children:E.jsx("textarea",{value:y.content,onChange:ne=>Ve("content",ne.target.value),placeholder:x.placeholder,className:`w-full h-48 p-4 bg-slate-50 border rounded-xl focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 transition-all resize-none text-slate-700 text-base leading-relaxed placeholder:text-slate-400 ${Ye>x.maxChars?"border-rose-300":"border-slate-200"}`})}),E.jsxs("div",{className:"flex items-center gap-2 bg-white border border-slate-200 rounded-lg p-2",children:[E.jsx(dA,{size:16,className:"text-slate-400 ml-2"}),E.jsxs("div",{className:"flex flex-wrap gap-2 flex-1",children:[y.tags?.map((ne,q)=>E.jsxs("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-slate-100 text-slate-700 flex items-center gap-1",children:[ne,E.jsx("button",{onClick:()=>R(ne),className:"hover:text-rose-500",children:E.jsx(gh,{size:10})})]},q)),E.jsx("input",{type:"text",value:fe,onChange:ne=>pe(ne.target.value),onKeyDown:ne=>ne.key==="Enter"&&w(),placeholder:y.tags?.length>0?"Add another...":"Add tags (e.g. Promo, Blog)...",className:"text-xs outline-none bg-transparent min-w-[120px] text-slate-600 placeholder:text-slate-400"})]}),E.jsx("button",{onClick:w,className:"text-xs font-medium text-slate-500 hover:text-indigo-700 px-2",children:"Add"})]}),E.jsx(RI,{stacks:l,onSelect:ke,onSaveStack:c,onDeleteStack:d})]}),E.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[E.jsxs("div",{className:"space-y-3",children:[E.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Media"}),y.imageUrl?E.jsxs("div",{className:"relative h-40 w-full rounded-xl bg-slate-900 group overflow-hidden border border-slate-200",children:[E.jsx("img",{src:y.imageUrl,alt:"Preview",className:"h-full w-full object-cover opacity-90"}),E.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:E.jsxs("button",{onClick:()=>Ve("imageUrl",""),className:"bg-rose-600 hover:bg-rose-700 text-white px-3 py-1.5 rounded-lg text-xs font-medium flex items-center gap-1.5",children:[E.jsx(zv,{size:12}),"Remove"]})})]}):E.jsxs("div",{className:`border-2 border-dashed rounded-xl h-40 flex flex-col items-center justify-center text-center p-4 cursor-pointer transition-all ${S?"border-indigo-500 bg-indigo-50":"border-slate-300 hover:border-indigo-400 hover:bg-slate-50"}`,onDragEnter:I,onDragLeave:I,onDragOver:I,onDrop:j,onClick:()=>De.current?.click(),children:[E.jsx("input",{ref:De,type:"file",accept:"image/*",className:"hidden",onChange:ne=>V(ne.target.files[0])}),E.jsx("div",{className:"w-10 h-10 bg-slate-100 rounded-full flex items-center justify-center text-slate-400 mb-2",children:E.jsx(jv,{size:20})}),E.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Click to upload or drag image"}),E.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Supports JPG, PNG (Max 5MB)"}),G&&E.jsxs("div",{className:"mt-2 flex items-center gap-2 text-xs text-indigo-600 font-medium",children:[E.jsx(FS,{size:12,className:"animate-spin"})," Compressing image..."]}),E.jsx("div",{className:"mt-3 pt-3 border-t border-slate-200 w-full",onClick:ne=>ne.stopPropagation(),children:E.jsxs("div",{className:"flex items-center gap-2 bg-white rounded-lg border border-slate-200 p-1.5",children:[E.jsx(PS,{size:14,className:"text-slate-400 ml-1.5"}),E.jsx("input",{type:"text",placeholder:"Or paste URL...",className:"text-xs w-full outline-none text-slate-600",value:y.imageUrl,onChange:ne=>Ve("imageUrl",ne.target.value)})]})})]})]}),E.jsxs("div",{className:"space-y-3",children:[E.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Schedule For"}),E.jsx("input",{type:"datetime-local",value:y.scheduledDate,onChange:ne=>Ve("scheduledDate",ne.target.value),className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 text-slate-600"}),E.jsxs("div",{className:"p-4 bg-indigo-50/50 rounded-xl border border-indigo-100 mt-2",children:[E.jsxs("h4",{className:"text-xs font-bold text-indigo-800 mb-1 flex items-center gap-1",children:[E.jsx(Yl,{size:12})," Pro Tip"]}),E.jsxs("p",{className:"text-xs text-indigo-700/80 leading-relaxed",children:[y.platform==="gmb"&&"GMB Offer posts expire. Set your schedule for the start date of your sale.",y.platform==="linkedin"&&"LinkedIn engagement peaks Tuesday-Thursday mornings.",y.platform==="instagram"&&"Don't forget to paste your hashtags in the first comment.",y.platform==="twitter"&&"Threads perform better than single tweets. Break this up if it's long."]})]})]})]})]})]})})]})};function NI(){return E.jsx(TI,{children:E.jsx(II,{})})}function II(){const[s,e]=Ee.useState(null),[i,a]=Ee.useState([]),[l,c]=Ee.useState([]),[d,p]=Ee.useState("landing"),[y,_]=Ee.useState("list"),[S,A]=Ee.useState(null),[M,U]=Ee.useState(null),[G,ee]=Ee.useState("all"),[Z,he]=Ee.useState(""),[fe,pe]=Ee.useState(""),[De,Ve]=Ee.useState(null),[ke,N]=Ee.useState(!0),[w,R]=Ee.useState(!1),[V,I]=Ee.useState(!1),[j,x]=Ee.useState(new Date),Ye=Ee.useRef(null),[ne,q]=Ee.useState(!1),[te,oe]=Ee.useState(null),[Ce,Oe]=Ee.useState(""),[D,Y]=Ee.useState([]),[se,re]=Ee.useState(null);Ee.useEffect(()=>{const W=Zw(so,me=>{e(me),N(!1)});return()=>W()},[]),Ee.useEffect(()=>{ke||(s&&d==="landing"?s.isAnonymous||p("dashboard"):!s&&d!=="landing"&&d!=="shared"&&p("landing"))},[s,ke]);const ve=async()=>{try{await _x(so,dT)}catch(W){console.error("Login failed",W),nt("Login failed","error")}},Ae=async()=>{try{await Jw(so),a([]),p("landing")}catch(W){console.error("Logout failed",W)}},Te=W=>{p(W),Ye.current&&Ye.current.scrollTo(0,0)},yt=Ee.useMemo(()=>[...new Set(i.map(W=>W.client).filter(Boolean))].sort(),[i]);Ee.useEffect(()=>{if(!s||s.isAnonymous)return;const W=Rl(Sn,"artifacts",Zn,"users",s.uid,"posts"),me=Iv(W,$t=>{const Bt=$t.docs.map(it=>({id:it.id,...it.data()}));Bt.sort((it,hn)=>new Date(it.scheduledDate)-new Date(hn.scheduledDate)),a(Bt)}),je=Rl(Sn,"artifacts",Zn,"users",s.uid,"hashtags"),Ue=Iv(je,$t=>{const Bt=$t.docs.map(it=>({id:it.id,...it.data()}));c(Bt)});return()=>{me(),Ue()}},[s]);const ut=async W=>{if(!s)return;R(!0);const me=new Date,je=new Date(W.scheduledDate),Ue=W.status===Rt.POSTED?Rt.POSTED:je>me?Rt.SCHEDULED:Rt.DRAFT,$t={...W,status:Ue,updatedAt:Wa()};try{W.id?(await nm(fs(Sn,"artifacts",Zn,"users",s.uid,"posts",W.id),$t),nt("Draft updated successfully")):(await Nv(Rl(Sn,"artifacts",Zn,"users",s.uid,"posts"),{...$t,createdAt:Wa()}),nt("New spark captured")),Te("dashboard"),A(null)}catch(Bt){console.error("Save Error:",Bt),nt("Error saving draft - Check Console","error")}finally{R(!1)}},Gi=W=>{oe({title:"Delete Draft?",message:"This action cannot be undone. Are you sure you want to delete this post?",type:"danger",onConfirm:()=>{bs(W),oe(null)}})},bs=async W=>{if(s)try{await Cv(fs(Sn,"artifacts",Zn,"users",s.uid,"posts",W)),nt("Draft deleted")}catch{nt("Could not delete","error")}},Ss=W=>{const{id:me,...je}=W;A({...je,status:Rt.DRAFT,createdAt:Wa(),updatedAt:Wa()}),Te("editor"),nt("Draft cloned! Make your edits.")},As=W=>{if(!s)return;const{platform:me}=W,je=Object.keys(xn).filter(Ue=>Ue!==me);oe({title:"Blast to all platforms?",message:`This will create ${je.length} new drafts for ${je.map(Ue=>xn[Ue].name).join(", ")}.`,onConfirm:()=>{Ln(W,je),oe(null)}})},Ln=async(W,me)=>{const{id:je,platform:Ue,resultStats:$t,...Bt}=W,it=EI(Sn),hn=Rl(Sn,"artifacts",Zn,"users",s.uid,"posts");me.forEach(bt=>{const gn=fs(hn);it.set(gn,{...Bt,platform:bt,status:Rt.DRAFT,createdAt:Wa(),updatedAt:Wa()})});try{await it.commit(),nt(`Boom! Cloned to ${me.length} platforms.`)}catch(bt){console.error(bt),nt("Blast failed","error")}},Sr=async(W,me)=>{if(s)try{await nm(fs(Sn,"artifacts",Zn,"users",s.uid,"posts",W),{status:me}),nt(me===Rt.POSTED?"Great job! Marked as Posted.":"Status updated")}catch{nt("Update failed","error")}},Qi=W=>{A({content:W,platform:"gmb",scheduledDate:new Date().toISOString().slice(0,16),imageUrl:"",status:Rt.DRAFT,tags:["Spark Idea"]}),q(!1),Te("editor"),nt("Spark activated!")},Ar=async W=>{if(s)try{await Nv(Rl(Sn,"artifacts",Zn,"users",s.uid,"hashtags"),W),nt("Hashtag stack saved")}catch{nt("Error saving stack","error")}},wr=async W=>{if(s)try{await Cv(fs(Sn,"artifacts",Zn,"users",s.uid,"hashtags",W)),nt("Stack removed")}catch{nt("Error removing stack","error")}},_t=async()=>{if(!s)return;const W=Math.random().toString(36).substring(2,10);let me=i.filter(Ue=>Ue.status!==Rt.DRAFT);if(Z&&(me=me.filter(Ue=>Ue.client===Z)),me.length===0){nt("No published/scheduled posts to share for this selection.","error");return}const je={ownerId:s.uid,generatedAt:new Date().toISOString(),clientFilter:Z||"All Clients",posts:me.map(Ue=>({id:Ue.id,content:Ue.content,platform:Ue.platform,scheduledDate:Ue.scheduledDate,imageUrl:Ue.imageUrl||null,status:Ue.status,approvalStatus:Ue.approvalStatus||ia.PENDING,feedback:Ue.feedback||"",tags:Ue.tags||[],client:Ue.client||null}))};try{await _I(fs(Sn,"artifacts",Zn,"public","data","shares",W),je),prompt(`Share ID generated for ${Z||"All Clients"}. Provide this ID to your client:`,W)}catch(Ue){console.error(Ue),nt("Could not generate link","error")}},Tt=async()=>{if(Ce){N(!0);try{so.currentUser||await Gw(so);const W=fs(Sn,"artifacts",Zn,"public","data","shares",Ce),me=await Rv(W);if(me.exists()){const je=me.data();re(Ce),Y(je.posts.map((Ue,$t)=>({...Ue,id:Ue.id||`temp-${$t}`}))),Te("shared"),nt(`Loaded schedule for: ${je.clientFilter||"Shared View"}`)}else nt("Invalid Share ID","error")}catch(W){console.error("Load Error:",W),nt("Error loading schedule","error")}finally{N(!1)}}},ei=async W=>{if(!se)return;const me=D.map(je=>je.id===W.id?W:je);Y(me),U(null);try{const je=fs(Sn,"artifacts",Zn,"public","data","shares",se),Ue=await Rv(je);if(Ue.exists()){const $t=Ue.data();await nm(je,{posts:me}),nt("Feedback Saved!")}}catch(je){console.error("Error saving feedback:",je),nt("Failed to save feedback","error")}},wo=()=>{if(!s||It.length===0)return;const W=["Date","Client","Platform","Content","Status","Approval","Feedback","Results"],me=It.map(it=>[it.scheduledDate?new Date(it.scheduledDate).toLocaleDateString():"No Date",it.client||"General",xn[it.platform]?.name||it.platform,`"${(it.content||"").replace(/"/g,'""')}"`,it.status,it.approvalStatus||"Pending",`"${(it.feedback||"").replace(/"/g,'""')}"`,`"${(it.resultStats||"").replace(/"/g,'""')}"`]),je=[W.join(","),...me.map(it=>it.join(","))].join(`
`),Ue=new Blob([je],{type:"text/csv;charset=utf-8;"}),$t=URL.createObjectURL(Ue),Bt=document.createElement("a");Bt.setAttribute("href",$t),Bt.setAttribute("download",`spool_report_${Z||"all"}_${new Date().toISOString().slice(0,10)}.csv`),document.body.appendChild(Bt),Bt.click(),document.body.removeChild(Bt)},nt=(W,me="success")=>Ve({message:W,type:me}),It=Ee.useMemo(()=>{let W=i;if(Z&&(W=W.filter(me=>me.client===Z)),fe){const me=fe.toLowerCase();W=W.filter(je=>je.content?.toLowerCase().includes(me)||xn[je.platform]?.name.toLowerCase().includes(me)||je.tags?.some(Ue=>Ue.toLowerCase().includes(me)))}return G==="all"?W:G==="scheduled"?W.filter(me=>me.status===Rt.SCHEDULED):G==="draft"?W.filter(me=>me.status===Rt.DRAFT):G==="posted"?W.filter(me=>me.status===Rt.POSTED):W},[i,G,fe,Z]),ti=Ee.useMemo(()=>({all:i.length,scheduled:i.filter(W=>W.status===Rt.SCHEDULED).length,draft:i.filter(W=>W.status===Rt.DRAFT).length,posted:i.filter(W=>W.status===Rt.POSTED).length}),[i]);return ke?E.jsx("div",{className:"h-screen flex items-center justify-center bg-slate-50 text-slate-400",children:E.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mb-4"})}):(!s||s&&s.isAnonymous&&d!=="shared")&&d==="landing"?E.jsxs("div",{className:"h-screen w-full bg-slate-50 flex items-center justify-center p-4",children:[E.jsxs("div",{className:"bg-white max-w-md w-full p-8 rounded-2xl shadow-xl border border-slate-100 text-center",children:[E.jsx("div",{className:"w-16 h-16 bg-indigo-600 rounded-2xl flex items-center justify-center text-white mx-auto mb-6 shadow-lg shadow-indigo-200",children:E.jsx(Mc,{size:32})}),E.jsx("h1",{className:"text-2xl font-bold text-slate-800 mb-2",children:"Welcome to Spool"}),E.jsx("p",{className:"text-slate-500 mb-8",children:"Digital craftsmanship by Stitch TEC."}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("button",{onClick:ve,className:"w-full flex items-center justify-center gap-3 bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-4 rounded-xl transition-all shadow-sm hover:shadow-md",children:[E.jsx(Ov,{size:20}),"Owner Sign In"]}),E.jsxs("div",{className:"relative flex py-2 items-center",children:[E.jsx("div",{className:"flex-grow border-t border-slate-200"}),E.jsx("span",{className:"flex-shrink-0 mx-4 text-slate-400 text-xs uppercase tracking-wider",children:"Client Access"}),E.jsx("div",{className:"flex-grow border-t border-slate-200"})]}),E.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-200 text-left",children:[E.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 block",children:"View Shared Schedule"}),E.jsxs("div",{className:"flex gap-2",children:[E.jsx("input",{type:"text",placeholder:"Enter Share ID...",className:"flex-1 bg-white border border-slate-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:border-indigo-500",value:Ce,onChange:W=>Oe(W.target.value)}),E.jsx("button",{onClick:Tt,className:"bg-white border border-slate-300 text-slate-600 hover:text-indigo-600 hover:border-indigo-300 p-2 rounded-lg transition-colors",children:E.jsx(lS,{size:20})})]})]})]}),E.jsxs("p",{className:"mt-8 text-xs text-slate-400",children:[" ",new Date().getFullYear()," Stitch TEC"]})]}),De&&E.jsx(rm,{message:De.message,type:De.type,onClose:()=>Ve(null)})]}):d==="shared"?E.jsxs("div",{className:"h-screen w-full bg-slate-50 font-sans flex flex-col",children:[E.jsxs("header",{className:"bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between shadow-sm z-10",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"w-8 h-8 bg-indigo-600 rounded-lg flex items-center justify-center text-white",children:E.jsx(Mc,{size:18})}),E.jsxs("div",{children:[E.jsx("h1",{className:"font-bold text-lg text-slate-800 leading-none",children:"Spool Shared View"}),E.jsx("p",{className:"text-xs text-slate-500",children:"Read-Only Access"})]})]}),E.jsx("button",{onClick:()=>{Y([]),p("landing"),Oe("")},className:"text-sm font-medium text-slate-500 hover:text-slate-800",children:"Exit View"})]}),E.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-8",children:E.jsx("div",{className:"max-w-6xl mx-auto",children:D.length===0?E.jsx("div",{className:"text-center py-20 text-slate-400",children:E.jsx("p",{children:"No posts found in this shared view."})}):E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:D.map((W,me)=>E.jsx(Dv,{post:W,isReadOnly:!0,onClick:()=>U(W)},me))})})}),M&&E.jsx(wI,{post:M,onClose:()=>U(null),onApprove:()=>ei({...M,approvalStatus:ia.APPROVED}),onRequestChanges:W=>ei({...M,approvalStatus:ia.CHANGES_REQUESTED,feedback:W})}),De&&E.jsx(rm,{message:De.message,type:De.type,onClose:()=>Ve(null)})]}):E.jsxs("div",{className:"h-screen w-full bg-slate-50 text-slate-800 font-sans overflow-hidden flex flex-col md:flex-row",children:[E.jsxs("div",{className:"md:hidden bg-white border-b border-slate-200 p-4 flex items-center justify-between z-30 relative shadow-sm",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("div",{className:"w-8 h-8 bg-indigo-600 rounded-lg flex items-center justify-center text-white",children:E.jsx(Mc,{size:18})}),E.jsx("h1",{className:"font-bold text-lg tracking-tight text-indigo-950",children:"Spool"})]}),E.jsx("button",{onClick:()=>I(!V),className:"p-2 text-slate-600 hover:bg-slate-100 rounded-lg",children:V?E.jsx(gh,{size:24}):E.jsx(KS,{size:24})})]}),E.jsxs("nav",{className:`fixed inset-0 bg-white/95 backdrop-blur-sm z-20 transition-transform duration-300 md:relative md:inset-auto md:bg-white md:translate-x-0 md:w-64 md:border-r md:border-slate-200 flex flex-col justify-between shrink-0 ${V?"translate-x-0 pt-20":"-translate-x-full md:pt-0"}`,children:[E.jsxs("div",{className:"p-6 h-full flex flex-col",children:[E.jsxs("div",{className:"hidden md:flex items-center gap-2 mb-8",children:[E.jsx("div",{className:"w-8 h-8 bg-indigo-600 rounded-lg flex items-center justify-center text-white",children:E.jsx(Mc,{size:18})}),E.jsxs("div",{children:[E.jsx("h1",{className:"font-bold text-lg tracking-tight text-indigo-950 leading-none",children:"Spool"}),E.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wide",children:"by Stitch TEC"})]})]}),E.jsxs("button",{onClick:()=>{A(null),Te("editor"),I(!1)},className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white p-3 rounded-xl font-medium shadow-lg shadow-indigo-900/10 flex items-center justify-center gap-2 transition-all active:scale-95 mb-6",children:[E.jsx(e_,{size:18}),E.jsx("span",{children:"New Thread"})]}),E.jsxs("div",{className:"space-y-1",children:[E.jsxs("button",{onClick:()=>{Te("dashboard"),ee("all"),I(!1)},className:`w-full flex items-center justify-between p-3 rounded-lg text-sm font-medium transition-colors ${d==="dashboard"&&G==="all"?"bg-indigo-50 text-indigo-900":"text-slate-500 hover:bg-slate-50"}`,children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx(JS,{size:18}),E.jsx("span",{children:"All Threads"})]}),E.jsx("span",{className:"bg-white border border-slate-200 px-2 py-0.5 rounded text-xs text-slate-400",children:ti.all})]}),E.jsxs("button",{onClick:()=>{Te("dashboard"),ee("scheduled"),I(!1)},className:`w-full flex items-center justify-between p-3 rounded-lg text-sm font-medium transition-colors ${G==="scheduled"?"bg-amber-50 text-amber-900":"text-slate-500 hover:bg-slate-50"}`,children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx(hS,{size:18}),E.jsx("span",{children:"Scheduled"})]}),E.jsx("span",{className:"bg-white border border-slate-200 px-2 py-0.5 rounded text-xs text-slate-400",children:ti.scheduled})]}),E.jsxs("button",{onClick:()=>{Te("dashboard"),ee("posted"),I(!1)},className:`w-full flex items-center justify-between p-3 rounded-lg text-sm font-medium transition-colors ${G==="posted"?"bg-emerald-50 text-emerald-900":"text-slate-500 hover:bg-slate-50"}`,children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx(mh,{size:18}),E.jsx("span",{children:"Posted"})]}),E.jsx("span",{className:"bg-white border border-slate-200 px-2 py-0.5 rounded text-xs text-slate-400",children:ti.posted})]})]}),E.jsxs("div",{className:"mt-auto pt-6 border-t border-slate-100 md:hidden flex flex-col gap-2",children:[E.jsxs("div",{className:"bg-slate-50 rounded-xl p-4 border border-slate-100",children:[E.jsx("p",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider mb-2",children:"Signed In"}),E.jsx("p",{className:"text-xs font-mono text-slate-400 truncate",children:s?.email})]}),E.jsxs("button",{onClick:Ae,className:"w-full bg-rose-50 text-rose-700 hover:bg-rose-100 p-3 rounded-xl text-xs font-medium flex items-center justify-center gap-2 transition-colors",children:[E.jsx(W0,{size:14})," Sign Out"]})]})]}),E.jsxs("div",{className:"p-6 border-t border-slate-100 hidden md:flex flex-col gap-3",children:[E.jsxs("div",{className:"bg-slate-50 rounded-xl p-4 border border-slate-100",children:[E.jsx("p",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider mb-2",children:"Signed In"}),E.jsx("p",{className:"text-xs font-mono text-slate-400 truncate",children:s?.email})]}),E.jsxs("button",{onClick:Ae,className:"w-full bg-rose-50 text-rose-700 hover:bg-rose-100 p-2 rounded-lg text-xs font-medium flex items-center justify-center gap-2 transition-colors",children:[E.jsx(W0,{size:14})," Sign Out"]})]})]}),E.jsx("main",{className:"flex-1 relative overflow-hidden flex flex-col",ref:Ye,children:d==="editor"?E.jsx(CI,{post:S,onSave:ut,onCancel:()=>{Te("dashboard"),A(null)},isSaving:w,hashtagStacks:l,onSaveStack:Ar,onDeleteStack:wr,uniqueClients:yt}):E.jsxs("div",{className:"h-full overflow-y-auto p-4 md:p-8",children:[E.jsxs("header",{className:"mb-8 flex flex-col xl:flex-row xl:items-end justify-between gap-4",children:[E.jsxs("div",{children:[E.jsxs("h2",{className:"text-2xl font-bold text-slate-800",children:[G==="all"&&"All Threads",G==="scheduled"&&"Upcoming Spool",G==="posted"&&"History",G==="draft"&&"Idea Bank"]}),E.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Stitch your digital presence together."})]}),E.jsxs("div",{className:"flex flex-col md:flex-row gap-3 items-center w-full xl:w-auto",children:[E.jsxs("div",{className:"relative w-full md:w-48",children:[E.jsxs("select",{value:Z,onChange:W=>he(W.target.value),className:"w-full pl-3 pr-8 py-2 bg-white border border-slate-200 rounded-lg text-sm appearance-none focus:outline-none focus:border-indigo-500 text-slate-600",children:[E.jsx("option",{value:"",children:"All Clients"}),yt.map(W=>E.jsx("option",{value:W,children:W},W))]}),E.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-slate-400",children:E.jsx(kv,{size:14,className:"-rotate-90"})})]}),E.jsxs("div",{className:"flex bg-white rounded-lg border border-slate-200 p-1 w-full md:w-auto",children:[E.jsx("button",{onClick:()=>_("list"),className:`flex-1 md:flex-none p-2 rounded ${y==="list"?"bg-indigo-50 text-indigo-800":"text-slate-400 hover:text-slate-600"}`,children:E.jsx(qS,{size:18,className:"mx-auto"})}),E.jsx("button",{onClick:()=>_("calendar"),className:`flex-1 md:flex-none p-2 rounded ${y==="calendar"?"bg-indigo-50 text-indigo-800":"text-slate-400 hover:text-slate-600"}`,children:E.jsx(MS,{size:18,className:"mx-auto"})})]}),E.jsxs("div",{className:"relative flex-1 w-full md:w-64",children:[E.jsx(t_,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:16}),E.jsx("input",{type:"text",placeholder:"Search threads or tags...",value:fe,onChange:W=>pe(W.target.value),className:"w-full pl-10 pr-4 py-2 bg-white border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 transition-all"})]}),E.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[E.jsx("button",{onClick:wo,title:"Download CSV Report",className:"flex-1 md:flex-none bg-emerald-50 border border-emerald-100 text-emerald-600 hover:text-emerald-700 p-2 rounded-lg transition-colors flex justify-center",children:E.jsx(xS,{size:20})}),E.jsx("button",{onClick:()=>q(!0),title:"Get a content idea",className:"flex-1 md:flex-none bg-rose-50 border border-rose-100 text-rose-600 hover:text-rose-700 p-2 rounded-lg transition-colors flex justify-center",children:E.jsx(qv,{size:20,fill:"currentColor"})}),E.jsx("button",{onClick:_t,title:"Generate Team Share Link",className:"flex-1 md:flex-none bg-white border border-slate-200 text-slate-600 hover:text-indigo-700 hover:border-indigo-300 p-2 rounded-lg transition-colors flex justify-center",children:E.jsx(oA,{size:20})})]})]})]}),y==="calendar"?E.jsx("div",{className:"pb-20",children:E.jsx(xI,{posts:i,onEdit:W=>{A(W),Te("editor")},currentDate:j,setCurrentDate:x})}):It.length===0?E.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[E.jsx("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center text-slate-300 mb-4",children:fe?E.jsx(t_,{size:32}):E.jsx(e_,{size:32})}),E.jsx("h3",{className:"text-lg font-medium text-slate-700 mb-2",children:fe?"No results found":"No threads here yet"}),!fe&&E.jsx("button",{onClick:()=>{A(null),Te("editor")},className:"text-indigo-700 font-medium hover:underline",children:"Start your first thread "})]}):E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6 pb-20",children:It.map(W=>E.jsx(Dv,{post:W,onEdit:me=>{A(me),Te("editor")},onDuplicate:Ss,onCloneToAll:As,onDelete:Gi,onStatusChange:Sr},W.id))})]})}),ne&&E.jsx(SparkDeck,{onClose:()=>q(!1),onUse:Qi}),te&&E.jsx(AI,{a:!0,title:te.title,message:te.message,type:te.type,onConfirm:te.onConfirm,onCancel:()=>oe(null)}),De&&E.jsx(rm,{message:De.message,type:De.type,onClose:()=>Ve(null)})]})}tS.createRoot(document.getElementById("root")).render(E.jsx(Ee.StrictMode,{children:E.jsx(NI,{})}));
